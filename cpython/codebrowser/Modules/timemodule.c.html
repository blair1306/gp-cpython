<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>timemodule.c source code [codebrowser/Modules/timemodule.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/Modules/timemodule.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>Modules</a>/<a href='timemodule.c.html'>timemodule.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Time module */</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="../Include/Python.h.html">"Python.h"</a></u></td></tr>
<tr><th id="4">4</th><td></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../../include/ctype.h.html">&lt;ctype.h&gt;</a></u></td></tr>
<tr><th id="6">6</th><td></td></tr>
<tr><th id="7">7</th><td><u>#<span data-ppcond="7">ifdef</span> <a class="macro" href="../pyconfig.h.html#1065" data-ref="_M/HAVE_SYS_TIMES_H">HAVE_SYS_TIMES_H</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="../../include/x86_64-linux-gnu/sys/times.h.html">&lt;sys/times.h&gt;</a></u></td></tr>
<tr><th id="9">9</th><td><u>#<span data-ppcond="7">endif</span></u></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="11">ifdef</span> <a class="macro" href="../pyconfig.h.html#1071" data-ref="_M/HAVE_SYS_TYPES_H">HAVE_SYS_TYPES_H</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../../include/x86_64-linux-gnu/sys/types.h.html">&lt;sys/types.h&gt;</a></u></td></tr>
<tr><th id="13">13</th><td><u>#<span data-ppcond="11">endif</span></u></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><u>#<span data-ppcond="15">if</span> defined(<a class="macro" href="../pyconfig.h.html#1038" data-ref="_M/HAVE_SYS_RESOURCE_H">HAVE_SYS_RESOURCE_H</a>)</u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../include/x86_64-linux-gnu/sys/resource.h.html">&lt;sys/resource.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#<span data-ppcond="15">endif</span></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#<span data-ppcond="19">ifdef</span> <span class="macro" data-ref="_M/QUICKWIN">QUICKWIN</span></u></td></tr>
<tr><th id="20">20</th><td><u>#include &lt;io.h&gt;</u></td></tr>
<tr><th id="21">21</th><td><u>#<span data-ppcond="19">endif</span></u></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#<span data-ppcond="23">if</span> defined(<span class="macro" data-ref="_M/__WATCOMC__">__WATCOMC__</span>) &amp;&amp; !defined(<span class="macro" data-ref="_M/__QNX__">__QNX__</span>)</u></td></tr>
<tr><th id="24">24</th><td><u>#include &lt;i86.h&gt;</u></td></tr>
<tr><th id="25">25</th><td><u>#<span data-ppcond="23">else</span></u></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="26">ifdef</span> <span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span></u></td></tr>
<tr><th id="27">27</th><td><u>#define WIN32_LEAN_AND_MEAN</u></td></tr>
<tr><th id="28">28</th><td><u>#include &lt;windows.h&gt;</u></td></tr>
<tr><th id="29">29</th><td><u>#include "pythread.h"</u></td></tr>
<tr><th id="30">30</th><td><u>#<span data-ppcond="26">endif</span> /* MS_WINDOWS */</u></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="23">endif</span> /* !__WATCOMC__ || __QNX__ */</u></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><i  data-doc="pysleep">/* Forward declarations */</i></td></tr>
<tr><th id="34">34</th><td><em>static</em> <em>int</em> <a class="tu decl" href="#pysleep" title='pysleep' data-type='int pysleep(_PyTime_t )' data-ref="pysleep">pysleep</a>(<a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a>);</td></tr>
<tr><th id="35">35</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>* <a class="tu decl" href="#floattime" title='floattime' data-type='PyObject * floattime(_Py_clock_info_t * info)' data-ref="floattime">floattime</a>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col1 decl" id="1info" title='info' data-type='_Py_clock_info_t *' data-ref="1info">info</dfn>);</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="38">38</th><td><dfn class="tu decl def" id="time_time" title='time_time' data-type='PyObject * time_time(PyObject * self, PyObject * unused)' data-ref="time_time">time_time</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="2self" title='self' data-type='PyObject *' data-ref="2self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="3unused" title='unused' data-type='PyObject *' data-ref="3unused">unused</dfn>)</td></tr>
<tr><th id="39">39</th><td>{</td></tr>
<tr><th id="40">40</th><td>    <b>return</b> <a class="tu ref" href="#floattime" title='floattime' data-use='c' data-ref="floattime">floattime</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="41">41</th><td>}</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char time_doc[] = &quot;time() -&gt; floating point number\n\nReturn the current time in seconds since the Epoch.\nFractions of a second may be present if the system clock provides them.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="time_doc" title='time_doc' data-ref="time_doc">time_doc</dfn>,</td></tr>
<tr><th id="44">44</th><td><q>"time() -&gt; floating point number\n\</q></td></tr>
<tr><th id="45">45</th><td><q>\n\</q></td></tr>
<tr><th id="46">46</th><td><q>Return the current time in seconds since the Epoch.\n\</q></td></tr>
<tr><th id="47">47</th><td><q>Fractions of a second may be present if the system clock provides them."</q>);</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#<span data-ppcond="49">if</span> defined(<a class="macro" href="../pyconfig.h.html#121" data-ref="_M/HAVE_CLOCK">HAVE_CLOCK</a>)</u></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><u>#<span data-ppcond="51">ifndef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#48" data-ref="_M/CLOCKS_PER_SEC">CLOCKS_PER_SEC</a></u></td></tr>
<tr><th id="52">52</th><td><u>#ifdef CLK_TCK</u></td></tr>
<tr><th id="53">53</th><td><u>#define CLOCKS_PER_SEC CLK_TCK</u></td></tr>
<tr><th id="54">54</th><td><u>#else</u></td></tr>
<tr><th id="55">55</th><td><u>#define CLOCKS_PER_SEC 1000000</u></td></tr>
<tr><th id="56">56</th><td><u>#endif</u></td></tr>
<tr><th id="57">57</th><td><u>#<span data-ppcond="51">endif</span></u></td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="60">60</th><td><dfn class="tu decl def" id="floatclock" title='floatclock' data-type='PyObject * floatclock(_Py_clock_info_t * info)' data-ref="floatclock">floatclock</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col4 decl" id="4info" title='info' data-type='_Py_clock_info_t *' data-ref="4info">info</dfn>)</td></tr>
<tr><th id="61">61</th><td>{</td></tr>
<tr><th id="62">62</th><td>    <a class="typedef" href="../../include/time.h.html#clock_t" title='clock_t' data-type='__clock_t' data-ref="clock_t">clock_t</a> <dfn class="local col5 decl" id="5value" title='value' data-type='clock_t' data-ref="5value">value</dfn>;</td></tr>
<tr><th id="63">63</th><td>    <a class="local col5 ref" href="#5value" title='value' data-ref="5value">value</a> = <a class="ref" href="../../include/time.h.html#clock" title='clock' data-ref="clock">clock</a>();</td></tr>
<tr><th id="64">64</th><td>    <b>if</b> (<a class="local col5 ref" href="#5value" title='value' data-ref="5value">value</a> == (<a class="typedef" href="../../include/time.h.html#clock_t" title='clock_t' data-type='__clock_t' data-ref="clock_t">clock_t</a>)-<var>1</var>) {</td></tr>
<tr><th id="65">65</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_RuntimeError" title='PyExc_RuntimeError' data-ref="PyExc_RuntimeError">PyExc_RuntimeError</a>,</td></tr>
<tr><th id="66">66</th><td>                <q>"the processor time used is not available "</q></td></tr>
<tr><th id="67">67</th><td>                <q>"or its value cannot be represented"</q>);</td></tr>
<tr><th id="68">68</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="69">69</th><td>    }</td></tr>
<tr><th id="70">70</th><td>    <b>if</b> (<a class="local col4 ref" href="#4info" title='info' data-ref="4info">info</a>) {</td></tr>
<tr><th id="71">71</th><td>        <a class="local col4 ref" href="#4info" title='info' data-ref="4info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> = <q>"clock()"</q>;</td></tr>
<tr><th id="72">72</th><td>        <a class="local col4 ref" href="#4info" title='info' data-ref="4info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = <var>1.0</var> / (<em>double</em>)<a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#48" title="((clock_t) 1000000)" data-ref="_M/CLOCKS_PER_SEC">CLOCKS_PER_SEC</a>;</td></tr>
<tr><th id="73">73</th><td>        <a class="local col4 ref" href="#4info" title='info' data-ref="4info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> = <var>1</var>;</td></tr>
<tr><th id="74">74</th><td>        <a class="local col4 ref" href="#4info" title='info' data-ref="4info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> = <var>0</var>;</td></tr>
<tr><th id="75">75</th><td>    }</td></tr>
<tr><th id="76">76</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>((<em>double</em>)<a class="local col5 ref" href="#5value" title='value' data-ref="5value">value</a> / <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#48" title="((clock_t) 1000000)" data-ref="_M/CLOCKS_PER_SEC">CLOCKS_PER_SEC</a>);</td></tr>
<tr><th id="77">77</th><td>}</td></tr>
<tr><th id="78">78</th><td><u>#<span data-ppcond="49">endif</span> /* HAVE_CLOCK */</u></td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><u>#<span data-ppcond="80">ifdef</span> <span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span></u></td></tr>
<tr><th id="81">81</th><td><u>#define WIN32_PERF_COUNTER</u></td></tr>
<tr><th id="82">82</th><td><i>/* Win32 has better clock replacement; we have our own version, due to Mark</i></td></tr>
<tr><th id="83">83</th><td><i>   Hammond and Tim Peters */</i></td></tr>
<tr><th id="84">84</th><td><em>static</em> PyObject*</td></tr>
<tr><th id="85">85</th><td>win_perf_counter(_Py_clock_info_t *info)</td></tr>
<tr><th id="86">86</th><td>{</td></tr>
<tr><th id="87">87</th><td>    <em>static</em> LONGLONG cpu_frequency = <var>0</var>;</td></tr>
<tr><th id="88">88</th><td>    <em>static</em> LONGLONG ctrStart;</td></tr>
<tr><th id="89">89</th><td>    LARGE_INTEGER now;</td></tr>
<tr><th id="90">90</th><td>    <em>double</em> diff;</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>    <b>if</b> (cpu_frequency == <var>0</var>) {</td></tr>
<tr><th id="93">93</th><td>        LARGE_INTEGER freq;</td></tr>
<tr><th id="94">94</th><td>        QueryPerformanceCounter(&amp;now);</td></tr>
<tr><th id="95">95</th><td>        ctrStart = now.QuadPart;</td></tr>
<tr><th id="96">96</th><td>        <b>if</b> (!QueryPerformanceFrequency(&amp;freq) || freq.QuadPart == <var>0</var>) {</td></tr>
<tr><th id="97">97</th><td>            PyErr_SetFromWindowsErr(<var>0</var>);</td></tr>
<tr><th id="98">98</th><td>            <b>return</b> NULL;</td></tr>
<tr><th id="99">99</th><td>        }</td></tr>
<tr><th id="100">100</th><td>        cpu_frequency = freq.QuadPart;</td></tr>
<tr><th id="101">101</th><td>    }</td></tr>
<tr><th id="102">102</th><td>    QueryPerformanceCounter(&amp;now);</td></tr>
<tr><th id="103">103</th><td>    diff = (<em>double</em>)(now.QuadPart - ctrStart);</td></tr>
<tr><th id="104">104</th><td>    <b>if</b> (info) {</td></tr>
<tr><th id="105">105</th><td>        info-&gt;implementation = <q>"QueryPerformanceCounter()"</q>;</td></tr>
<tr><th id="106">106</th><td>        info-&gt;resolution = <var>1.0</var> / (<em>double</em>)cpu_frequency;</td></tr>
<tr><th id="107">107</th><td>        info-&gt;monotonic = <var>1</var>;</td></tr>
<tr><th id="108">108</th><td>        info-&gt;adjustable = <var>0</var>;</td></tr>
<tr><th id="109">109</th><td>    }</td></tr>
<tr><th id="110">110</th><td>    <b>return</b> PyFloat_FromDouble(diff / (<em>double</em>)cpu_frequency);</td></tr>
<tr><th id="111">111</th><td>}</td></tr>
<tr><th id="112">112</th><td><u>#<span data-ppcond="80">endif</span>   /* MS_WINDOWS */</u></td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><u>#<span data-ppcond="114">if</span> defined(<span class="macro" data-ref="_M/WIN32_PERF_COUNTER">WIN32_PERF_COUNTER</span>) || defined(<a class="macro" href="../pyconfig.h.html#121" data-ref="_M/HAVE_CLOCK">HAVE_CLOCK</a>)</u></td></tr>
<tr><th id="115">115</th><td><u>#define <dfn class="macro" id="_M/PYCLOCK" data-ref="_M/PYCLOCK">PYCLOCK</dfn></u></td></tr>
<tr><th id="116">116</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*</td></tr>
<tr><th id="117">117</th><td><dfn class="tu decl def" id="pyclock" title='pyclock' data-type='PyObject * pyclock(_Py_clock_info_t * info)' data-ref="pyclock">pyclock</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col6 decl" id="6info" title='info' data-type='_Py_clock_info_t *' data-ref="6info">info</dfn>)</td></tr>
<tr><th id="118">118</th><td>{</td></tr>
<tr><th id="119">119</th><td><u>#<span data-ppcond="119">ifdef</span> <span class="macro" data-ref="_M/WIN32_PERF_COUNTER">WIN32_PERF_COUNTER</span></u></td></tr>
<tr><th id="120">120</th><td>    <b>return</b> win_perf_counter(info);</td></tr>
<tr><th id="121">121</th><td><u>#<span data-ppcond="119">else</span></u></td></tr>
<tr><th id="122">122</th><td>    <b>return</b> <a class="tu ref" href="#floatclock" title='floatclock' data-use='c' data-ref="floatclock">floatclock</a>(<a class="local col6 ref" href="#6info" title='info' data-ref="6info">info</a>);</td></tr>
<tr><th id="123">123</th><td><u>#<span data-ppcond="119">endif</span></u></td></tr>
<tr><th id="124">124</th><td>}</td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="127">127</th><td><dfn class="tu decl def" id="time_clock" title='time_clock' data-type='PyObject * time_clock(PyObject * self, PyObject * unused)' data-ref="time_clock">time_clock</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="7self" title='self' data-type='PyObject *' data-ref="7self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="8unused" title='unused' data-type='PyObject *' data-ref="8unused">unused</dfn>)</td></tr>
<tr><th id="128">128</th><td>{</td></tr>
<tr><th id="129">129</th><td>    <b>return</b> <a class="tu ref" href="#pyclock" title='pyclock' data-use='c' data-ref="pyclock">pyclock</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="130">130</th><td>}</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char clock_doc[] = &quot;clock() -&gt; floating point number\n\nReturn the CPU time or real time since the start of the process or since\nthe first call to clock().  This has as much precision as the system\nrecords.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="clock_doc" title='clock_doc' data-ref="clock_doc">clock_doc</dfn>,</td></tr>
<tr><th id="133">133</th><td><q>"clock() -&gt; floating point number\n\</q></td></tr>
<tr><th id="134">134</th><td><q>\n\</q></td></tr>
<tr><th id="135">135</th><td><q>Return the CPU time or real time since the start of the process or since\n\</q></td></tr>
<tr><th id="136">136</th><td><q>the first call to clock().  This has as much precision as the system\n\</q></td></tr>
<tr><th id="137">137</th><td><q>records."</q>);</td></tr>
<tr><th id="138">138</th><td><u>#<span data-ppcond="114">endif</span></u></td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td><u>#<span data-ppcond="140">ifdef</span> <a class="macro" href="../pyconfig.h.html#127" data-ref="_M/HAVE_CLOCK_GETTIME">HAVE_CLOCK_GETTIME</a></u></td></tr>
<tr><th id="141">141</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="142">142</th><td><dfn class="tu decl def" id="time_clock_gettime" title='time_clock_gettime' data-type='PyObject * time_clock_gettime(PyObject * self, PyObject * args)' data-ref="time_clock_gettime">time_clock_gettime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="9self" title='self' data-type='PyObject *' data-ref="9self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="10args" title='args' data-type='PyObject *' data-ref="10args">args</dfn>)</td></tr>
<tr><th id="143">143</th><td>{</td></tr>
<tr><th id="144">144</th><td>    <em>int</em> <dfn class="local col1 decl" id="11ret" title='ret' data-type='int' data-ref="11ret">ret</dfn>;</td></tr>
<tr><th id="145">145</th><td>    <em>int</em> <dfn class="local col2 decl" id="12clk_id" title='clk_id' data-type='int' data-ref="12clk_id">clk_id</dfn>;</td></tr>
<tr><th id="146">146</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#timespec" title='timespec' data-ref="timespec">timespec</a> <dfn class="local col3 decl" id="13tp" title='tp' data-type='struct timespec' data-ref="13tp">tp</dfn>;</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col0 ref" href="#10args" title='args' data-ref="10args">args</a>, <q>"i:clock_gettime"</q>, &amp;<a class="local col2 ref" href="#12clk_id" title='clk_id' data-ref="12clk_id">clk_id</a>))</td></tr>
<tr><th id="149">149</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td>    <a class="local col1 ref" href="#11ret" title='ret' data-ref="11ret">ret</a> = <a class="ref" href="../../include/time.h.html#clock_gettime" title='clock_gettime' data-ref="clock_gettime">clock_gettime</a>((<a class="typedef" href="../../include/time.h.html#clockid_t" title='clockid_t' data-type='__clockid_t' data-ref="clockid_t">clockid_t</a>)<a class="local col2 ref" href="#12clk_id" title='clk_id' data-ref="12clk_id">clk_id</a>, &amp;<a class="local col3 ref" href="#13tp" title='tp' data-ref="13tp">tp</a>);</td></tr>
<tr><th id="152">152</th><td>    <b>if</b> (<a class="local col1 ref" href="#11ret" title='ret' data-ref="11ret">ret</a> != <var>0</var>) {</td></tr>
<tr><th id="153">153</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetFromErrno" title='PyErr_SetFromErrno' data-ref="PyErr_SetFromErrno">PyErr_SetFromErrno</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OSError" title='PyExc_OSError' data-ref="PyExc_OSError">PyExc_OSError</a>);</td></tr>
<tr><th id="154">154</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="155">155</th><td>    }</td></tr>
<tr><th id="156">156</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col3 ref" href="#13tp" title='tp' data-ref="13tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_sec" title='timespec::tv_sec' data-ref="timespec::tv_sec">tv_sec</a> + <a class="local col3 ref" href="#13tp" title='tp' data-ref="13tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_nsec" title='timespec::tv_nsec' data-ref="timespec::tv_nsec">tv_nsec</a> * <var>1e-9</var>);</td></tr>
<tr><th id="157">157</th><td>}</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char clock_gettime_doc[] = &quot;clock_gettime(clk_id) -&gt; floating point number\n\nReturn the time of the specified clock clk_id.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="clock_gettime_doc" title='clock_gettime_doc' data-ref="clock_gettime_doc">clock_gettime_doc</dfn>,</td></tr>
<tr><th id="160">160</th><td><q>"clock_gettime(clk_id) -&gt; floating point number\n\</q></td></tr>
<tr><th id="161">161</th><td><q>\n\</q></td></tr>
<tr><th id="162">162</th><td><q>Return the time of the specified clock clk_id."</q>);</td></tr>
<tr><th id="163">163</th><td><u>#<span data-ppcond="140">endif</span>   /* HAVE_CLOCK_GETTIME */</u></td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><u>#<span data-ppcond="165">ifdef</span> <a class="macro" href="../pyconfig.h.html#130" data-ref="_M/HAVE_CLOCK_SETTIME">HAVE_CLOCK_SETTIME</a></u></td></tr>
<tr><th id="166">166</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="167">167</th><td><dfn class="tu decl def" id="time_clock_settime" title='time_clock_settime' data-type='PyObject * time_clock_settime(PyObject * self, PyObject * args)' data-ref="time_clock_settime">time_clock_settime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="14self" title='self' data-type='PyObject *' data-ref="14self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="15args" title='args' data-type='PyObject *' data-ref="15args">args</dfn>)</td></tr>
<tr><th id="168">168</th><td>{</td></tr>
<tr><th id="169">169</th><td>    <em>int</em> <dfn class="local col6 decl" id="16clk_id" title='clk_id' data-type='int' data-ref="16clk_id">clk_id</dfn>;</td></tr>
<tr><th id="170">170</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="17obj" title='obj' data-type='PyObject *' data-ref="17obj">obj</dfn>;</td></tr>
<tr><th id="171">171</th><td>    <a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col8 decl" id="18t" title='t' data-type='_PyTime_t' data-ref="18t">t</dfn>;</td></tr>
<tr><th id="172">172</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#timespec" title='timespec' data-ref="timespec">timespec</a> <dfn class="local col9 decl" id="19tp" title='tp' data-type='struct timespec' data-ref="19tp">tp</dfn>;</td></tr>
<tr><th id="173">173</th><td>    <em>int</em> <dfn class="local col0 decl" id="20ret" title='ret' data-type='int' data-ref="20ret">ret</dfn>;</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col5 ref" href="#15args" title='args' data-ref="15args">args</a>, <q>"iO:clock_settime"</q>, &amp;<a class="local col6 ref" href="#16clk_id" title='clk_id' data-ref="16clk_id">clk_id</a>, &amp;<a class="local col7 ref" href="#17obj" title='obj' data-ref="17obj">obj</a>))</td></tr>
<tr><th id="176">176</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_FromSecondsObject" title='_PyTime_FromSecondsObject' data-ref="_PyTime_FromSecondsObject">_PyTime_FromSecondsObject</a>(&amp;<a class="local col8 ref" href="#18t" title='t' data-ref="18t">t</a>, <a class="local col7 ref" href="#17obj" title='obj' data-ref="17obj">obj</a>, <a class="enum" href="../Include/pytime.h.html#_PyTime_ROUND_FLOOR" title='_PyTime_ROUND_FLOOR' data-ref="_PyTime_ROUND_FLOOR">_PyTime_ROUND_FLOOR</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="179">179</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_AsTimespec" title='_PyTime_AsTimespec' data-ref="_PyTime_AsTimespec">_PyTime_AsTimespec</a>(<a class="local col8 ref" href="#18t" title='t' data-ref="18t">t</a>, &amp;<a class="local col9 ref" href="#19tp" title='tp' data-ref="19tp">tp</a>) == -<var>1</var>)</td></tr>
<tr><th id="182">182</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td>    <a class="local col0 ref" href="#20ret" title='ret' data-ref="20ret">ret</a> = <a class="ref" href="../../include/time.h.html#clock_settime" title='clock_settime' data-ref="clock_settime">clock_settime</a>((<a class="typedef" href="../../include/time.h.html#clockid_t" title='clockid_t' data-type='__clockid_t' data-ref="clockid_t">clockid_t</a>)<a class="local col6 ref" href="#16clk_id" title='clk_id' data-ref="16clk_id">clk_id</a>, &amp;<a class="local col9 ref" href="#19tp" title='tp' data-ref="19tp">tp</a>);</td></tr>
<tr><th id="185">185</th><td>    <b>if</b> (<a class="local col0 ref" href="#20ret" title='ret' data-ref="20ret">ret</a> != <var>0</var>) {</td></tr>
<tr><th id="186">186</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetFromErrno" title='PyErr_SetFromErrno' data-ref="PyErr_SetFromErrno">PyErr_SetFromErrno</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OSError" title='PyExc_OSError' data-ref="PyExc_OSError">PyExc_OSError</a>);</td></tr>
<tr><th id="187">187</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="188">188</th><td>    }</td></tr>
<tr><th id="189">189</th><td>    <a class="macro" href="../Include/object.h.html#913" title="return ( _Py_RefTotal++ , ((PyObject *)((&amp;_Py_NoneStruct)))-&gt;ob_refcnt++), (&amp;_Py_NoneStruct)" data-ref="_M/Py_RETURN_NONE">Py_RETURN_NONE</a>;</td></tr>
<tr><th id="190">190</th><td>}</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char clock_settime_doc[] = &quot;clock_settime(clk_id, time)\n\nSet the time of the specified clock clk_id.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="clock_settime_doc" title='clock_settime_doc' data-ref="clock_settime_doc">clock_settime_doc</dfn>,</td></tr>
<tr><th id="193">193</th><td><q>"clock_settime(clk_id, time)\n\</q></td></tr>
<tr><th id="194">194</th><td><q>\n\</q></td></tr>
<tr><th id="195">195</th><td><q>Set the time of the specified clock clk_id."</q>);</td></tr>
<tr><th id="196">196</th><td><u>#<span data-ppcond="165">endif</span>   /* HAVE_CLOCK_SETTIME */</u></td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td><u>#<span data-ppcond="198">ifdef</span> <a class="macro" href="../pyconfig.h.html#124" data-ref="_M/HAVE_CLOCK_GETRES">HAVE_CLOCK_GETRES</a></u></td></tr>
<tr><th id="199">199</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="200">200</th><td><dfn class="tu decl def" id="time_clock_getres" title='time_clock_getres' data-type='PyObject * time_clock_getres(PyObject * self, PyObject * args)' data-ref="time_clock_getres">time_clock_getres</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="21self" title='self' data-type='PyObject *' data-ref="21self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="22args" title='args' data-type='PyObject *' data-ref="22args">args</dfn>)</td></tr>
<tr><th id="201">201</th><td>{</td></tr>
<tr><th id="202">202</th><td>    <em>int</em> <dfn class="local col3 decl" id="23ret" title='ret' data-type='int' data-ref="23ret">ret</dfn>;</td></tr>
<tr><th id="203">203</th><td>    <em>int</em> <dfn class="local col4 decl" id="24clk_id" title='clk_id' data-type='int' data-ref="24clk_id">clk_id</dfn>;</td></tr>
<tr><th id="204">204</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#timespec" title='timespec' data-ref="timespec">timespec</a> <dfn class="local col5 decl" id="25tp" title='tp' data-type='struct timespec' data-ref="25tp">tp</dfn>;</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col2 ref" href="#22args" title='args' data-ref="22args">args</a>, <q>"i:clock_getres"</q>, &amp;<a class="local col4 ref" href="#24clk_id" title='clk_id' data-ref="24clk_id">clk_id</a>))</td></tr>
<tr><th id="207">207</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>    <a class="local col3 ref" href="#23ret" title='ret' data-ref="23ret">ret</a> = <a class="ref" href="../../include/time.h.html#clock_getres" title='clock_getres' data-ref="clock_getres">clock_getres</a>((<a class="typedef" href="../../include/time.h.html#clockid_t" title='clockid_t' data-type='__clockid_t' data-ref="clockid_t">clockid_t</a>)<a class="local col4 ref" href="#24clk_id" title='clk_id' data-ref="24clk_id">clk_id</a>, &amp;<a class="local col5 ref" href="#25tp" title='tp' data-ref="25tp">tp</a>);</td></tr>
<tr><th id="210">210</th><td>    <b>if</b> (<a class="local col3 ref" href="#23ret" title='ret' data-ref="23ret">ret</a> != <var>0</var>) {</td></tr>
<tr><th id="211">211</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetFromErrno" title='PyErr_SetFromErrno' data-ref="PyErr_SetFromErrno">PyErr_SetFromErrno</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OSError" title='PyExc_OSError' data-ref="PyExc_OSError">PyExc_OSError</a>);</td></tr>
<tr><th id="212">212</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="213">213</th><td>    }</td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col5 ref" href="#25tp" title='tp' data-ref="25tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_sec" title='timespec::tv_sec' data-ref="timespec::tv_sec">tv_sec</a> + <a class="local col5 ref" href="#25tp" title='tp' data-ref="25tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_nsec" title='timespec::tv_nsec' data-ref="timespec::tv_nsec">tv_nsec</a> * <var>1e-9</var>);</td></tr>
<tr><th id="216">216</th><td>}</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char clock_getres_doc[] = &quot;clock_getres(clk_id) -&gt; floating point number\n\nReturn the resolution (precision) of the specified clock clk_id.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="clock_getres_doc" title='clock_getres_doc' data-ref="clock_getres_doc">clock_getres_doc</dfn>,</td></tr>
<tr><th id="219">219</th><td><q>"clock_getres(clk_id) -&gt; floating point number\n\</q></td></tr>
<tr><th id="220">220</th><td><q>\n\</q></td></tr>
<tr><th id="221">221</th><td><q>Return the resolution (precision) of the specified clock clk_id."</q>);</td></tr>
<tr><th id="222">222</th><td><u>#<span data-ppcond="198">endif</span>   /* HAVE_CLOCK_GETRES */</u></td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="225">225</th><td><dfn class="tu decl def" id="time_sleep" title='time_sleep' data-type='PyObject * time_sleep(PyObject * self, PyObject * obj)' data-ref="time_sleep">time_sleep</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="26self" title='self' data-type='PyObject *' data-ref="26self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="27obj" title='obj' data-type='PyObject *' data-ref="27obj">obj</dfn>)</td></tr>
<tr><th id="226">226</th><td>{</td></tr>
<tr><th id="227">227</th><td>    <a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col8 decl" id="28secs" title='secs' data-type='_PyTime_t' data-ref="28secs">secs</dfn>;</td></tr>
<tr><th id="228">228</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_FromSecondsObject" title='_PyTime_FromSecondsObject' data-ref="_PyTime_FromSecondsObject">_PyTime_FromSecondsObject</a>(&amp;<a class="local col8 ref" href="#28secs" title='secs' data-ref="28secs">secs</a>, <a class="local col7 ref" href="#27obj" title='obj' data-ref="27obj">obj</a>, <a class="enum" href="../Include/pytime.h.html#_PyTime_ROUND_CEILING" title='_PyTime_ROUND_CEILING' data-ref="_PyTime_ROUND_CEILING">_PyTime_ROUND_CEILING</a>))</td></tr>
<tr><th id="229">229</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="230">230</th><td>    <b>if</b> (<a class="local col8 ref" href="#28secs" title='secs' data-ref="28secs">secs</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="231">231</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="232">232</th><td>                        <q>"sleep length must be non-negative"</q>);</td></tr>
<tr><th id="233">233</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="234">234</th><td>    }</td></tr>
<tr><th id="235">235</th><td>    <b>if</b> (<a class="tu ref" href="#pysleep" title='pysleep' data-use='c' data-ref="pysleep">pysleep</a>(<a class="local col8 ref" href="#28secs" title='secs' data-ref="28secs">secs</a>) != <var>0</var>)</td></tr>
<tr><th id="236">236</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="237">237</th><td>    <a class="macro" href="../Include/object.h.html#913" title="return ( _Py_RefTotal++ , ((PyObject *)((&amp;_Py_NoneStruct)))-&gt;ob_refcnt++), (&amp;_Py_NoneStruct)" data-ref="_M/Py_RETURN_NONE">Py_RETURN_NONE</a>;</td></tr>
<tr><th id="238">238</th><td>}</td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char sleep_doc[] = &quot;sleep(seconds)\n\nDelay execution for a given number of seconds.  The argument may be\na floating point number for subsecond precision.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="sleep_doc" title='sleep_doc' data-ref="sleep_doc">sleep_doc</dfn>,</td></tr>
<tr><th id="241">241</th><td><q>"sleep(seconds)\n\</q></td></tr>
<tr><th id="242">242</th><td><q>\n\</q></td></tr>
<tr><th id="243">243</th><td><q>Delay execution for a given number of seconds.  The argument may be\n\</q></td></tr>
<tr><th id="244">244</th><td><q>a floating point number for subsecond precision."</q>);</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td><em>static</em> <a class="typedef" href="../Include/structseq.h.html#PyStructSequence_Field" title='PyStructSequence_Field' data-type='struct PyStructSequence_Field' data-ref="PyStructSequence_Field">PyStructSequence_Field</a> <dfn class="tu decl def" id="struct_time_type_fields" title='struct_time_type_fields' data-type='PyStructSequence_Field [12]' data-ref="struct_time_type_fields">struct_time_type_fields</dfn>[] = {</td></tr>
<tr><th id="247">247</th><td>    {<q>"tm_year"</q>, <q>"year, for example, 1993"</q>},</td></tr>
<tr><th id="248">248</th><td>    {<q>"tm_mon"</q>, <q>"month of year, range [1, 12]"</q>},</td></tr>
<tr><th id="249">249</th><td>    {<q>"tm_mday"</q>, <q>"day of month, range [1, 31]"</q>},</td></tr>
<tr><th id="250">250</th><td>    {<q>"tm_hour"</q>, <q>"hours, range [0, 23]"</q>},</td></tr>
<tr><th id="251">251</th><td>    {<q>"tm_min"</q>, <q>"minutes, range [0, 59]"</q>},</td></tr>
<tr><th id="252">252</th><td>    {<q>"tm_sec"</q>, <q>"seconds, range [0, 61])"</q>},</td></tr>
<tr><th id="253">253</th><td>    {<q>"tm_wday"</q>, <q>"day of week, range [0, 6], Monday is 0"</q>},</td></tr>
<tr><th id="254">254</th><td>    {<q>"tm_yday"</q>, <q>"day of year, range [1, 366]"</q>},</td></tr>
<tr><th id="255">255</th><td>    {<q>"tm_isdst"</q>, <q>"1 if summer time is in effect, 0 if not, and -1 if unknown"</q>},</td></tr>
<tr><th id="256">256</th><td>    {<q>"tm_zone"</q>, <q>"abbreviation of timezone name"</q>},</td></tr>
<tr><th id="257">257</th><td>    {<q>"tm_gmtoff"</q>, <q>"offset from UTC in seconds"</q>},</td></tr>
<tr><th id="258">258</th><td>    {<var>0</var>}</td></tr>
<tr><th id="259">259</th><td>};</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td><em>static</em> <a class="typedef" href="../Include/structseq.h.html#PyStructSequence_Desc" title='PyStructSequence_Desc' data-type='struct PyStructSequence_Desc' data-ref="PyStructSequence_Desc">PyStructSequence_Desc</a> <dfn class="tu decl def" id="struct_time_type_desc" title='struct_time_type_desc' data-type='PyStructSequence_Desc' data-ref="struct_time_type_desc">struct_time_type_desc</dfn> = {</td></tr>
<tr><th id="262">262</th><td>    <q>"time.struct_time"</q>,</td></tr>
<tr><th id="263">263</th><td>    <q>"The time value as returned by gmtime(), localtime(), and strptime(), and\n"</q></td></tr>
<tr><th id="264">264</th><td>    <q>" accepted by asctime(), mktime() and strftime().  May be considered as a\n"</q></td></tr>
<tr><th id="265">265</th><td>    <q>" sequence of 9 integers.\n\n"</q></td></tr>
<tr><th id="266">266</th><td>    <q>" Note that several fields' values are not the same as those defined by\n"</q></td></tr>
<tr><th id="267">267</th><td>    <q>" the C language standard for struct tm.  For example, the value of the\n"</q></td></tr>
<tr><th id="268">268</th><td>    <q>" field tm_year is the actual year, not year - 1900.  See individual\n"</q></td></tr>
<tr><th id="269">269</th><td>    <q>" fields' descriptions for details."</q>,</td></tr>
<tr><th id="270">270</th><td>    <a class="tu ref" href="#struct_time_type_fields" title='struct_time_type_fields' data-ref="struct_time_type_fields">struct_time_type_fields</a>,</td></tr>
<tr><th id="271">271</th><td>    <var>9</var>,</td></tr>
<tr><th id="272">272</th><td>};</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="initialized" title='initialized' data-type='int' data-ref="initialized">initialized</dfn>;</td></tr>
<tr><th id="275">275</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject">PyTypeObject</a> <dfn class="tu decl def" id="StructTimeType" title='StructTimeType' data-type='PyTypeObject' data-ref="StructTimeType">StructTimeType</dfn>;</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="279">279</th><td><dfn class="tu decl def" id="tmtotuple" title='tmtotuple' data-type='PyObject * tmtotuple(struct tm * p)' data-ref="tmtotuple">tmtotuple</dfn>(<b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> *<dfn class="local col9 decl" id="29p" title='p' data-type='struct tm *' data-ref="29p">p</dfn></td></tr>
<tr><th id="280">280</th><td><u>#<span data-ppcond="280">ifndef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="281">281</th><td>        , <em>const</em> <em>char</em> *zone, time_t gmtoff</td></tr>
<tr><th id="282">282</th><td><u>#<span data-ppcond="280">endif</span></u></td></tr>
<tr><th id="283">283</th><td>)</td></tr>
<tr><th id="284">284</th><td>{</td></tr>
<tr><th id="285">285</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="30v" title='v' data-type='PyObject *' data-ref="30v">v</dfn> = <a class="ref" href="../Include/structseq.h.html#PyStructSequence_New" title='PyStructSequence_New' data-ref="PyStructSequence_New">PyStructSequence_New</a>(&amp;<a class="tu ref" href="#StructTimeType" title='StructTimeType' data-use='a' data-ref="StructTimeType">StructTimeType</a>);</td></tr>
<tr><th id="286">286</th><td>    <b>if</b> (<a class="local col0 ref" href="#30v" title='v' data-ref="30v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="287">287</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td><u>#define <dfn class="macro" id="_M/SET" data-ref="_M/SET">SET</dfn>(i,val) PyStructSequence_SET_ITEM(<a class="local col0 ref" href="#30v" title='v' data-ref="30v">v</a>, i, <a class="ref" href="../Include/longobject.h.html#PyLong_FromLong" title='PyLong_FromLong' data-ref="PyLong_FromLong">PyLong_FromLong</a>((long) val))</u></td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[0] = PyLong_FromLong((long) p-&gt;tm_year + 1900))" data-ref="_M/SET">SET</a>(<var>0</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_year" title='tm::tm_year' data-ref="tm::tm_year">tm_year</a> + <var>1900</var>);</td></tr>
<tr><th id="292">292</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[1] = PyLong_FromLong((long) p-&gt;tm_mon + 1))" data-ref="_M/SET">SET</a>(<var>1</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a> + <var>1</var>);         <i>/* Want January == 1 */</i></td></tr>
<tr><th id="293">293</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[2] = PyLong_FromLong((long) p-&gt;tm_mday))" data-ref="_M/SET">SET</a>(<var>2</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a>);</td></tr>
<tr><th id="294">294</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[3] = PyLong_FromLong((long) p-&gt;tm_hour))" data-ref="_M/SET">SET</a>(<var>3</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_hour" title='tm::tm_hour' data-ref="tm::tm_hour">tm_hour</a>);</td></tr>
<tr><th id="295">295</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[4] = PyLong_FromLong((long) p-&gt;tm_min))" data-ref="_M/SET">SET</a>(<var>4</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_min" title='tm::tm_min' data-ref="tm::tm_min">tm_min</a>);</td></tr>
<tr><th id="296">296</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[5] = PyLong_FromLong((long) p-&gt;tm_sec))" data-ref="_M/SET">SET</a>(<var>5</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_sec" title='tm::tm_sec' data-ref="tm::tm_sec">tm_sec</a>);</td></tr>
<tr><th id="297">297</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[6] = PyLong_FromLong((long) (p-&gt;tm_wday + 6) % 7))" data-ref="_M/SET">SET</a>(<var>6</var>, (<a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> + <var>6</var>) % <var>7</var>); <i>/* Want Monday == 0 */</i></td></tr>
<tr><th id="298">298</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[7] = PyLong_FromLong((long) p-&gt;tm_yday + 1))" data-ref="_M/SET">SET</a>(<var>7</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a> + <var>1</var>);        <i>/* Want January, 1 == 1 */</i></td></tr>
<tr><th id="299">299</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[8] = PyLong_FromLong((long) p-&gt;tm_isdst))" data-ref="_M/SET">SET</a>(<var>8</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a>);</td></tr>
<tr><th id="300">300</th><td><u>#<span data-ppcond="300">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="301">301</th><td>    <a class="macro" href="../Include/structseq.h.html#38" title="(((PyTupleObject *)(v))-&gt;ob_item[9] = PyUnicode_DecodeLocale(p-&gt;tm_zone, &quot;surrogateescape&quot;))" data-ref="_M/PyStructSequence_SET_ITEM">PyStructSequence_SET_ITEM</a>(<a class="local col0 ref" href="#30v" title='v' data-ref="30v">v</a>, <var>9</var>,</td></tr>
<tr><th id="302">302</th><td>        <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_DecodeLocale" title='PyUnicode_DecodeLocale' data-ref="PyUnicode_DecodeLocale">PyUnicode_DecodeLocale</a>(<a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_zone" title='tm::tm_zone' data-ref="tm::tm_zone">tm_zone</a>, <q>"surrogateescape"</q>));</td></tr>
<tr><th id="303">303</th><td>    <a class="macro" href="#289" title="(((PyTupleObject *)(v))-&gt;ob_item[10] = PyLong_FromLong((long) p-&gt;tm_gmtoff))" data-ref="_M/SET">SET</a>(<var>10</var>, <a class="local col9 ref" href="#29p" title='p' data-ref="29p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_gmtoff" title='tm::tm_gmtoff' data-ref="tm::tm_gmtoff">tm_gmtoff</a>);</td></tr>
<tr><th id="304">304</th><td><u>#<span data-ppcond="300">else</span></u></td></tr>
<tr><th id="305">305</th><td>    PyStructSequence_SET_ITEM(v, <var>9</var>,</td></tr>
<tr><th id="306">306</th><td>        PyUnicode_DecodeLocale(zone, <q>"surrogateescape"</q>));</td></tr>
<tr><th id="307">307</th><td>    PyStructSequence_SET_ITEM(v, <var>10</var>, _PyLong_FromTime_t(gmtoff));</td></tr>
<tr><th id="308">308</th><td><u>#<span data-ppcond="300">endif</span> /* HAVE_STRUCT_TM_TM_ZONE */</u></td></tr>
<tr><th id="309">309</th><td><u>#undef <a class="macro" href="#289" data-ref="_M/SET">SET</a></u></td></tr>
<tr><th id="310">310</th><td>    <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="311">311</th><td>        <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(v); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 311, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col0 ref" href="#30v" title='v' data-ref="30v">v</a>);</td></tr>
<tr><th id="312">312</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="313">313</th><td>    }</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>    <b>return</b> <a class="local col0 ref" href="#30v" title='v' data-ref="30v">v</a>;</td></tr>
<tr><th id="316">316</th><td>}</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td><i  data-doc="parse_time_t_args">/* Parse arg tuple that can contain an optional float-or-None value;</i></td></tr>
<tr><th id="319">319</th><td><i  data-doc="parse_time_t_args">   format needs to be "|O:name".</i></td></tr>
<tr><th id="320">320</th><td><i  data-doc="parse_time_t_args">   Returns non-zero on success (parallels PyArg_ParseTuple).</i></td></tr>
<tr><th id="321">321</th><td><i  data-doc="parse_time_t_args">*/</i></td></tr>
<tr><th id="322">322</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="323">323</th><td><dfn class="tu decl def" id="parse_time_t_args" title='parse_time_t_args' data-type='int parse_time_t_args(PyObject * args, const char * format, time_t * pwhen)' data-ref="parse_time_t_args">parse_time_t_args</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="31args" title='args' data-type='PyObject *' data-ref="31args">args</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="32format" title='format' data-type='const char *' data-ref="32format">format</dfn>, <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> *<dfn class="local col3 decl" id="33pwhen" title='pwhen' data-type='time_t *' data-ref="33pwhen">pwhen</dfn>)</td></tr>
<tr><th id="324">324</th><td>{</td></tr>
<tr><th id="325">325</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="34ot" title='ot' data-type='PyObject *' data-ref="34ot">ot</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="326">326</th><td>    <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col5 decl" id="35whent" title='whent' data-type='time_t' data-ref="35whent">whent</dfn>;</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col1 ref" href="#31args" title='args' data-ref="31args">args</a>, <a class="local col2 ref" href="#32format" title='format' data-ref="32format">format</a>, &amp;<a class="local col4 ref" href="#34ot" title='ot' data-ref="34ot">ot</a>))</td></tr>
<tr><th id="329">329</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="330">330</th><td>    <b>if</b> (<a class="local col4 ref" href="#34ot" title='ot' data-ref="34ot">ot</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="local col4 ref" href="#34ot" title='ot' data-ref="34ot">ot</a> == <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>) {</td></tr>
<tr><th id="331">331</th><td>        <a class="local col5 ref" href="#35whent" title='whent' data-ref="35whent">whent</a> = <a class="ref" href="../../include/time.h.html#time" title='time' data-ref="time">time</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="332">332</th><td>    }</td></tr>
<tr><th id="333">333</th><td>    <b>else</b> {</td></tr>
<tr><th id="334">334</th><td>        <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_ObjectToTime_t" title='_PyTime_ObjectToTime_t' data-ref="_PyTime_ObjectToTime_t">_PyTime_ObjectToTime_t</a>(<a class="local col4 ref" href="#34ot" title='ot' data-ref="34ot">ot</a>, &amp;<a class="local col5 ref" href="#35whent" title='whent' data-ref="35whent">whent</a>, <a class="enum" href="../Include/pytime.h.html#_PyTime_ROUND_FLOOR" title='_PyTime_ROUND_FLOOR' data-ref="_PyTime_ROUND_FLOOR">_PyTime_ROUND_FLOOR</a>) == -<var>1</var>)</td></tr>
<tr><th id="335">335</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="336">336</th><td>    }</td></tr>
<tr><th id="337">337</th><td>    *<a class="local col3 ref" href="#33pwhen" title='pwhen' data-ref="33pwhen">pwhen</a> = <a class="local col5 ref" href="#35whent" title='whent' data-ref="35whent">whent</a>;</td></tr>
<tr><th id="338">338</th><td>    <b>return</b> <var>1</var>;</td></tr>
<tr><th id="339">339</th><td>}</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="342">342</th><td><dfn class="tu decl def" id="time_gmtime" title='time_gmtime' data-type='PyObject * time_gmtime(PyObject * self, PyObject * args)' data-ref="time_gmtime">time_gmtime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="36self" title='self' data-type='PyObject *' data-ref="36self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="37args" title='args' data-type='PyObject *' data-ref="37args">args</dfn>)</td></tr>
<tr><th id="343">343</th><td>{</td></tr>
<tr><th id="344">344</th><td>    <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col8 decl" id="38when" title='when' data-type='time_t' data-ref="38when">when</dfn>;</td></tr>
<tr><th id="345">345</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col9 decl" id="39buf" title='buf' data-type='struct tm' data-ref="39buf">buf</dfn>;</td></tr>
<tr><th id="346">346</th><td></td></tr>
<tr><th id="347">347</th><td>    <b>if</b> (!<a class="tu ref" href="#parse_time_t_args" title='parse_time_t_args' data-use='c' data-ref="parse_time_t_args">parse_time_t_args</a>(<a class="local col7 ref" href="#37args" title='args' data-ref="37args">args</a>, <q>"|O:gmtime"</q>, &amp;<a class="local col8 ref" href="#38when" title='when' data-ref="38when">when</a>))</td></tr>
<tr><th id="348">348</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="351">351</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_gmtime" title='_PyTime_gmtime' data-ref="_PyTime_gmtime">_PyTime_gmtime</a>(<a class="local col8 ref" href="#38when" title='when' data-ref="38when">when</a>, &amp;<a class="local col9 ref" href="#39buf" title='buf' data-ref="39buf">buf</a>) != <var>0</var>)</td></tr>
<tr><th id="352">352</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="353">353</th><td><u>#<span data-ppcond="353">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="354">354</th><td>    <b>return</b> <a class="tu ref" href="#tmtotuple" title='tmtotuple' data-use='c' data-ref="tmtotuple">tmtotuple</a>(&amp;<a class="local col9 ref" href="#39buf" title='buf' data-ref="39buf">buf</a>);</td></tr>
<tr><th id="355">355</th><td><u>#<span data-ppcond="353">else</span></u></td></tr>
<tr><th id="356">356</th><td>    <b>return</b> tmtotuple(&amp;buf, <q>"UTC"</q>, <var>0</var>);</td></tr>
<tr><th id="357">357</th><td><u>#<span data-ppcond="353">endif</span></u></td></tr>
<tr><th id="358">358</th><td>}</td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td><u>#<span data-ppcond="360">ifndef</span> <a class="macro" href="../pyconfig.h.html#1107" data-ref="_M/HAVE_TIMEGM">HAVE_TIMEGM</a></u></td></tr>
<tr><th id="361">361</th><td><em>static</em> time_t</td></tr>
<tr><th id="362">362</th><td>timegm(<b>struct</b> tm *p)</td></tr>
<tr><th id="363">363</th><td>{</td></tr>
<tr><th id="364">364</th><td>    <i>/* XXX: the following implementation will not work for tm_year &lt; 1970.</i></td></tr>
<tr><th id="365">365</th><td><i>       but it is likely that platforms that don't have timegm do not support</i></td></tr>
<tr><th id="366">366</th><td><i>       negative timestamps anyways. */</i></td></tr>
<tr><th id="367">367</th><td>    <b>return</b> p-&gt;tm_sec + p-&gt;tm_min*<var>60</var> + p-&gt;tm_hour*<var>3600</var> + p-&gt;tm_yday*<var>86400</var> +</td></tr>
<tr><th id="368">368</th><td>        (p-&gt;tm_year-<var>70</var>)*<var>31536000</var> + ((p-&gt;tm_year-<var>69</var>)/<var>4</var>)*<var>86400</var> -</td></tr>
<tr><th id="369">369</th><td>        ((p-&gt;tm_year-<var>1</var>)/<var>100</var>)*<var>86400</var> + ((p-&gt;tm_year+<var>299</var>)/<var>400</var>)*<var>86400</var>;</td></tr>
<tr><th id="370">370</th><td>}</td></tr>
<tr><th id="371">371</th><td><u>#<span data-ppcond="360">endif</span></u></td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char gmtime_doc[] = &quot;gmtime([seconds]) -&gt; (tm_year, tm_mon, tm_mday, tm_hour, tm_min,\n                       tm_sec, tm_wday, tm_yday, tm_isdst)\n\nConvert seconds since the Epoch to a time tuple expressing UTC (a.k.a.\nGMT).  When &apos;seconds&apos; is not passed in, convert the current time instead.\n\nIf the platform supports the tm_gmtoff and tm_zone, they are available as\nattributes only.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="gmtime_doc" title='gmtime_doc' data-ref="gmtime_doc">gmtime_doc</dfn>,</td></tr>
<tr><th id="374">374</th><td><q>"gmtime([seconds]) -&gt; (tm_year, tm_mon, tm_mday, tm_hour, tm_min,\n\</q></td></tr>
<tr><th id="375">375</th><td><q>                       tm_sec, tm_wday, tm_yday, tm_isdst)\n\</q></td></tr>
<tr><th id="376">376</th><td><q>\n\</q></td></tr>
<tr><th id="377">377</th><td><q>Convert seconds since the Epoch to a time tuple expressing UTC (a.k.a.\n\</q></td></tr>
<tr><th id="378">378</th><td><q>GMT).  When 'seconds' is not passed in, convert the current time instead.\n\</q></td></tr>
<tr><th id="379">379</th><td><q>\n\</q></td></tr>
<tr><th id="380">380</th><td><q>If the platform supports the tm_gmtoff and tm_zone, they are available as\n\</q></td></tr>
<tr><th id="381">381</th><td><q>attributes only."</q>);</td></tr>
<tr><th id="382">382</th><td></td></tr>
<tr><th id="383">383</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="384">384</th><td><dfn class="tu decl def" id="time_localtime" title='time_localtime' data-type='PyObject * time_localtime(PyObject * self, PyObject * args)' data-ref="time_localtime">time_localtime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="40self" title='self' data-type='PyObject *' data-ref="40self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="41args" title='args' data-type='PyObject *' data-ref="41args">args</dfn>)</td></tr>
<tr><th id="385">385</th><td>{</td></tr>
<tr><th id="386">386</th><td>    <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col2 decl" id="42when" title='when' data-type='time_t' data-ref="42when">when</dfn>;</td></tr>
<tr><th id="387">387</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col3 decl" id="43buf" title='buf' data-type='struct tm' data-ref="43buf">buf</dfn>;</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td>    <b>if</b> (!<a class="tu ref" href="#parse_time_t_args" title='parse_time_t_args' data-use='c' data-ref="parse_time_t_args">parse_time_t_args</a>(<a class="local col1 ref" href="#41args" title='args' data-ref="41args">args</a>, <q>"|O:localtime"</q>, &amp;<a class="local col2 ref" href="#42when" title='when' data-ref="42when">when</a>))</td></tr>
<tr><th id="390">390</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="391">391</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col2 ref" href="#42when" title='when' data-ref="42when">when</a>, &amp;<a class="local col3 ref" href="#43buf" title='buf' data-ref="43buf">buf</a>) != <var>0</var>)</td></tr>
<tr><th id="392">392</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="393">393</th><td><u>#<span data-ppcond="393">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="394">394</th><td>    <b>return</b> <a class="tu ref" href="#tmtotuple" title='tmtotuple' data-use='c' data-ref="tmtotuple">tmtotuple</a>(&amp;<a class="local col3 ref" href="#43buf" title='buf' data-ref="43buf">buf</a>);</td></tr>
<tr><th id="395">395</th><td><u>#<span data-ppcond="393">else</span></u></td></tr>
<tr><th id="396">396</th><td>    {</td></tr>
<tr><th id="397">397</th><td>        <b>struct</b> tm local = buf;</td></tr>
<tr><th id="398">398</th><td>        <em>char</em> zone[<var>100</var>];</td></tr>
<tr><th id="399">399</th><td>        time_t gmtoff;</td></tr>
<tr><th id="400">400</th><td>        strftime(zone, <b>sizeof</b>(zone), <q>"%Z"</q>, &amp;buf);</td></tr>
<tr><th id="401">401</th><td>        gmtoff = timegm(&amp;buf) - when;</td></tr>
<tr><th id="402">402</th><td>        <b>return</b> tmtotuple(&amp;local, zone, gmtoff);</td></tr>
<tr><th id="403">403</th><td>    }</td></tr>
<tr><th id="404">404</th><td><u>#<span data-ppcond="393">endif</span></u></td></tr>
<tr><th id="405">405</th><td>}</td></tr>
<tr><th id="406">406</th><td></td></tr>
<tr><th id="407">407</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char localtime_doc[] = &quot;localtime([seconds]) -&gt; (tm_year,tm_mon,tm_mday,tm_hour,tm_min,\n                          tm_sec,tm_wday,tm_yday,tm_isdst)\n\nConvert seconds since the Epoch to a time tuple expressing local time.\nWhen &apos;seconds&apos; is not passed in, convert the current time instead.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="localtime_doc" title='localtime_doc' data-ref="localtime_doc">localtime_doc</dfn>,</td></tr>
<tr><th id="408">408</th><td><q>"localtime([seconds]) -&gt; (tm_year,tm_mon,tm_mday,tm_hour,tm_min,\n\</q></td></tr>
<tr><th id="409">409</th><td><q>                          tm_sec,tm_wday,tm_yday,tm_isdst)\n\</q></td></tr>
<tr><th id="410">410</th><td><q>\n\</q></td></tr>
<tr><th id="411">411</th><td><q>Convert seconds since the Epoch to a time tuple expressing local time.\n\</q></td></tr>
<tr><th id="412">412</th><td><q>When 'seconds' is not passed in, convert the current time instead."</q>);</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td><i  data-doc="gettmarg">/* Convert 9-item tuple to tm structure.  Return 1 on success, set</i></td></tr>
<tr><th id="415">415</th><td><i  data-doc="gettmarg"> * an exception and return 0 on error.</i></td></tr>
<tr><th id="416">416</th><td><i  data-doc="gettmarg"> */</i></td></tr>
<tr><th id="417">417</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="418">418</th><td><dfn class="tu decl def" id="gettmarg" title='gettmarg' data-type='int gettmarg(PyObject * args, struct tm * p, const char * format)' data-ref="gettmarg">gettmarg</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="44args" title='args' data-type='PyObject *' data-ref="44args">args</dfn>, <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> *<dfn class="local col5 decl" id="45p" title='p' data-type='struct tm *' data-ref="45p">p</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="46format" title='format' data-type='const char *' data-ref="46format">format</dfn>)</td></tr>
<tr><th id="419">419</th><td>{</td></tr>
<tr><th id="420">420</th><td>    <em>int</em> <dfn class="local col7 decl" id="47y" title='y' data-type='int' data-ref="47y">y</dfn>;</td></tr>
<tr><th id="421">421</th><td></td></tr>
<tr><th id="422">422</th><td>    <a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>((<em>void</em> *) <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>, <kbd>'\0'</kbd>, <b>sizeof</b>(<b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a>));</td></tr>
<tr><th id="423">423</th><td></td></tr>
<tr><th id="424">424</th><td>    <b>if</b> (!<a class="macro" href="../Include/tupleobject.h.html#39" title="((((((PyObject*)(args))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 26))) != 0)" data-ref="_M/PyTuple_Check">PyTuple_Check</a>(<a class="local col4 ref" href="#44args" title='args' data-ref="44args">args</a>)) {</td></tr>
<tr><th id="425">425</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="426">426</th><td>                        <q>"Tuple or struct_time argument required"</q>);</td></tr>
<tr><th id="427">427</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="428">428</th><td>    }</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col4 ref" href="#44args" title='args' data-ref="44args">args</a>, <a class="local col6 ref" href="#46format" title='format' data-ref="46format">format</a>,</td></tr>
<tr><th id="431">431</th><td>                          &amp;<a class="local col7 ref" href="#47y" title='y' data-ref="47y">y</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a>,</td></tr>
<tr><th id="432">432</th><td>                          &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_hour" title='tm::tm_hour' data-ref="tm::tm_hour">tm_hour</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_min" title='tm::tm_min' data-ref="tm::tm_min">tm_min</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_sec" title='tm::tm_sec' data-ref="tm::tm_sec">tm_sec</a>,</td></tr>
<tr><th id="433">433</th><td>                          &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a>, &amp;<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a>))</td></tr>
<tr><th id="434">434</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="435">435</th><td>    <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_year" title='tm::tm_year' data-ref="tm::tm_year">tm_year</a> = <a class="local col7 ref" href="#47y" title='y' data-ref="47y">y</a> - <var>1900</var>;</td></tr>
<tr><th id="436">436</th><td>    <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a>--;</td></tr>
<tr><th id="437">437</th><td>    <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> = (<a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> + <var>1</var>) % <var>7</var>;</td></tr>
<tr><th id="438">438</th><td>    <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a>--;</td></tr>
<tr><th id="439">439</th><td><u>#<span data-ppcond="439">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="440">440</th><td>    <b>if</b> (<a class="macro" href="../Include/object.h.html#118" title="(((PyObject*)(args))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col4 ref" href="#44args" title='args' data-ref="44args">args</a>) == &amp;<a class="tu ref" href="#StructTimeType" title='StructTimeType' data-use='a' data-ref="StructTimeType">StructTimeType</a>) {</td></tr>
<tr><th id="441">441</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="48item" title='item' data-type='PyObject *' data-ref="48item">item</dfn>;</td></tr>
<tr><th id="442">442</th><td>        <a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a> = <a class="macro" href="../Include/tupleobject.h.html#58" title="(((PyTupleObject *)(args))-&gt;ob_item[9])" data-ref="_M/PyTuple_GET_ITEM">PyTuple_GET_ITEM</a>(<a class="local col4 ref" href="#44args" title='args' data-ref="44args">args</a>, <var>9</var>);</td></tr>
<tr><th id="443">443</th><td>        <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_zone" title='tm::tm_zone' data-ref="tm::tm_zone">tm_zone</a> = <a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a> == <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a> ? <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> : (<em>char</em>*)<a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_AsUTF8" title='PyUnicode_AsUTF8' data-ref="PyUnicode_AsUTF8">PyUnicode_AsUTF8</a>(<a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a>);</td></tr>
<tr><th id="444">444</th><td>        <a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a> = <a class="macro" href="../Include/tupleobject.h.html#58" title="(((PyTupleObject *)(args))-&gt;ob_item[10])" data-ref="_M/PyTuple_GET_ITEM">PyTuple_GET_ITEM</a>(<a class="local col4 ref" href="#44args" title='args' data-ref="44args">args</a>, <var>10</var>);</td></tr>
<tr><th id="445">445</th><td>        <a class="local col5 ref" href="#45p" title='p' data-ref="45p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_gmtoff" title='tm::tm_gmtoff' data-ref="tm::tm_gmtoff">tm_gmtoff</a> = <a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a> == <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a> ? <var>0</var> : <a class="ref" href="../Include/longobject.h.html#PyLong_AsLong" title='PyLong_AsLong' data-ref="PyLong_AsLong">PyLong_AsLong</a>(<a class="local col8 ref" href="#48item" title='item' data-ref="48item">item</a>);</td></tr>
<tr><th id="446">446</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="447">447</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="448">448</th><td>    }</td></tr>
<tr><th id="449">449</th><td><u>#<span data-ppcond="439">endif</span> /* HAVE_STRUCT_TM_TM_ZONE */</u></td></tr>
<tr><th id="450">450</th><td>    <b>return</b> <var>1</var>;</td></tr>
<tr><th id="451">451</th><td>}</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td><i  data-doc="checktm">/* Check values of the struct tm fields before it is passed to strftime() and</i></td></tr>
<tr><th id="454">454</th><td><i  data-doc="checktm"> * asctime().  Return 1 if all values are valid, otherwise set an exception</i></td></tr>
<tr><th id="455">455</th><td><i  data-doc="checktm"> * and returns 0.</i></td></tr>
<tr><th id="456">456</th><td><i  data-doc="checktm"> */</i></td></tr>
<tr><th id="457">457</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="458">458</th><td><dfn class="tu decl def" id="checktm" title='checktm' data-type='int checktm(struct tm * buf)' data-ref="checktm">checktm</dfn>(<b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a>* <dfn class="local col9 decl" id="49buf" title='buf' data-type='struct tm *' data-ref="49buf">buf</dfn>)</td></tr>
<tr><th id="459">459</th><td>{</td></tr>
<tr><th id="460">460</th><td>    <i>/* Checks added to make sure strftime() and asctime() does not crash Python by</i></td></tr>
<tr><th id="461">461</th><td><i>       indexing blindly into some array for a textual representation</i></td></tr>
<tr><th id="462">462</th><td><i>       by some bad index (fixes bug #897625 and #6608).</i></td></tr>
<tr><th id="463">463</th><td><i></i></td></tr>
<tr><th id="464">464</th><td><i>       Also support values of zero from Python code for arguments in which</i></td></tr>
<tr><th id="465">465</th><td><i>       that is out of range by forcing that value to the lowest value that</i></td></tr>
<tr><th id="466">466</th><td><i>       is valid (fixed bug #1520914).</i></td></tr>
<tr><th id="467">467</th><td><i></i></td></tr>
<tr><th id="468">468</th><td><i>       Valid ranges based on what is allowed in struct tm:</i></td></tr>
<tr><th id="469">469</th><td><i></i></td></tr>
<tr><th id="470">470</th><td><i>       - tm_year: [0, max(int)] (1)</i></td></tr>
<tr><th id="471">471</th><td><i>       - tm_mon: [0, 11] (2)</i></td></tr>
<tr><th id="472">472</th><td><i>       - tm_mday: [1, 31]</i></td></tr>
<tr><th id="473">473</th><td><i>       - tm_hour: [0, 23]</i></td></tr>
<tr><th id="474">474</th><td><i>       - tm_min: [0, 59]</i></td></tr>
<tr><th id="475">475</th><td><i>       - tm_sec: [0, 60]</i></td></tr>
<tr><th id="476">476</th><td><i>       - tm_wday: [0, 6] (1)</i></td></tr>
<tr><th id="477">477</th><td><i>       - tm_yday: [0, 365] (2)</i></td></tr>
<tr><th id="478">478</th><td><i>       - tm_isdst: [-max(int), max(int)]</i></td></tr>
<tr><th id="479">479</th><td><i></i></td></tr>
<tr><th id="480">480</th><td><i>       (1) gettmarg() handles bounds-checking.</i></td></tr>
<tr><th id="481">481</th><td><i>       (2) Python's acceptable range is one greater than the range in C,</i></td></tr>
<tr><th id="482">482</th><td><i>       thus need to check against automatic decrement by gettmarg().</i></td></tr>
<tr><th id="483">483</th><td><i>    */</i></td></tr>
<tr><th id="484">484</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a> == -<var>1</var>)</td></tr>
<tr><th id="485">485</th><td>        <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a> = <var>0</var>;</td></tr>
<tr><th id="486">486</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a> &gt; <var>11</var>) {</td></tr>
<tr><th id="487">487</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"month out of range"</q>);</td></tr>
<tr><th id="488">488</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="489">489</th><td>    }</td></tr>
<tr><th id="490">490</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a> == <var>0</var>)</td></tr>
<tr><th id="491">491</th><td>        <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a> = <var>1</var>;</td></tr>
<tr><th id="492">492</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a> &gt; <var>31</var>) {</td></tr>
<tr><th id="493">493</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"day of month out of range"</q>);</td></tr>
<tr><th id="494">494</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="495">495</th><td>    }</td></tr>
<tr><th id="496">496</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_hour" title='tm::tm_hour' data-ref="tm::tm_hour">tm_hour</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_hour" title='tm::tm_hour' data-ref="tm::tm_hour">tm_hour</a> &gt; <var>23</var>) {</td></tr>
<tr><th id="497">497</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"hour out of range"</q>);</td></tr>
<tr><th id="498">498</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="499">499</th><td>    }</td></tr>
<tr><th id="500">500</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_min" title='tm::tm_min' data-ref="tm::tm_min">tm_min</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_min" title='tm::tm_min' data-ref="tm::tm_min">tm_min</a> &gt; <var>59</var>) {</td></tr>
<tr><th id="501">501</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"minute out of range"</q>);</td></tr>
<tr><th id="502">502</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="503">503</th><td>    }</td></tr>
<tr><th id="504">504</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_sec" title='tm::tm_sec' data-ref="tm::tm_sec">tm_sec</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_sec" title='tm::tm_sec' data-ref="tm::tm_sec">tm_sec</a> &gt; <var>61</var>) {</td></tr>
<tr><th id="505">505</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"seconds out of range"</q>);</td></tr>
<tr><th id="506">506</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="507">507</th><td>    }</td></tr>
<tr><th id="508">508</th><td>    <i>/* tm_wday does not need checking of its upper-bound since taking</i></td></tr>
<tr><th id="509">509</th><td><i>    ``% 7`` in gettmarg() automatically restricts the range. */</i></td></tr>
<tr><th id="510">510</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="511">511</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"day of week out of range"</q>);</td></tr>
<tr><th id="512">512</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="513">513</th><td>    }</td></tr>
<tr><th id="514">514</th><td>    <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a> == -<var>1</var>)</td></tr>
<tr><th id="515">515</th><td>        <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a> = <var>0</var>;</td></tr>
<tr><th id="516">516</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a> &lt; <var>0</var> || <a class="local col9 ref" href="#49buf" title='buf' data-ref="49buf">buf</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_yday" title='tm::tm_yday' data-ref="tm::tm_yday">tm_yday</a> &gt; <var>365</var>) {</td></tr>
<tr><th id="517">517</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"day of year out of range"</q>);</td></tr>
<tr><th id="518">518</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="519">519</th><td>    }</td></tr>
<tr><th id="520">520</th><td>    <b>return</b> <var>1</var>;</td></tr>
<tr><th id="521">521</th><td>}</td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td><u>#<span data-ppcond="523">ifdef</span> <span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span></u></td></tr>
<tr><th id="524">524</th><td>   <i>/* wcsftime() doesn't format correctly time zones, see issue #10653 */</i></td></tr>
<tr><th id="525">525</th><td><u>#  undef HAVE_WCSFTIME</u></td></tr>
<tr><th id="526">526</th><td><u>#<span data-ppcond="523">endif</span></u></td></tr>
<tr><th id="527">527</th><td><u>#define <dfn class="macro" id="_M/STRFTIME_FORMAT_CODES" data-ref="_M/STRFTIME_FORMAT_CODES">STRFTIME_FORMAT_CODES</dfn> \</u></td></tr>
<tr><th id="528">528</th><td><u>"Commonly used format codes:\n\</u></td></tr>
<tr><th id="529">529</th><td><u>\n\</u></td></tr>
<tr><th id="530">530</th><td><u>%Y  Year with century as a decimal number.\n\</u></td></tr>
<tr><th id="531">531</th><td><u>%m  Month as a decimal number [01,12].\n\</u></td></tr>
<tr><th id="532">532</th><td><u>%d  Day of the month as a decimal number [01,31].\n\</u></td></tr>
<tr><th id="533">533</th><td><u>%H  Hour (24-hour clock) as a decimal number [00,23].\n\</u></td></tr>
<tr><th id="534">534</th><td><u>%M  Minute as a decimal number [00,59].\n\</u></td></tr>
<tr><th id="535">535</th><td><u>%S  Second as a decimal number [00,61].\n\</u></td></tr>
<tr><th id="536">536</th><td><u>%z  Time zone offset from UTC.\n\</u></td></tr>
<tr><th id="537">537</th><td><u>%a  Locale's abbreviated weekday name.\n\</u></td></tr>
<tr><th id="538">538</th><td><u>%A  Locale's full weekday name.\n\</u></td></tr>
<tr><th id="539">539</th><td><u>%b  Locale's abbreviated month name.\n\</u></td></tr>
<tr><th id="540">540</th><td><u>%B  Locale's full month name.\n\</u></td></tr>
<tr><th id="541">541</th><td><u>%c  Locale's appropriate date and time representation.\n\</u></td></tr>
<tr><th id="542">542</th><td><u>%I  Hour (12-hour clock) as a decimal number [01,12].\n\</u></td></tr>
<tr><th id="543">543</th><td><u>%p  Locale's equivalent of either AM or PM.\n\</u></td></tr>
<tr><th id="544">544</th><td><u>\n\</u></td></tr>
<tr><th id="545">545</th><td><u>Other codes may be available on your platform.  See documentation for\n\</u></td></tr>
<tr><th id="546">546</th><td><u>the C library strftime function.\n"</u></td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td><u>#<span data-ppcond="548">ifdef</span> <a class="macro" href="../pyconfig.h.html#925" data-ref="_M/HAVE_STRFTIME">HAVE_STRFTIME</a></u></td></tr>
<tr><th id="549">549</th><td><u>#<span data-ppcond="549">ifdef</span> <a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a></u></td></tr>
<tr><th id="550">550</th><td><u>#define <dfn class="macro" id="_M/time_char" data-ref="_M/time_char">time_char</dfn> <span class='typedef' title='wchar_t' data-type='int' data-ref="wchar_t">wchar_t</span></u></td></tr>
<tr><th id="551">551</th><td><u>#define <dfn class="macro" id="_M/format_time" data-ref="_M/format_time">format_time</dfn> <a class="ref" href="../../include/wchar.h.html#wcsftime" title='wcsftime' data-ref="wcsftime">wcsftime</a></u></td></tr>
<tr><th id="552">552</th><td><u>#define <dfn class="macro" id="_M/time_strlen" data-ref="_M/time_strlen">time_strlen</dfn> <a class="ref" href="../../include/wchar.h.html#wcslen" title='wcslen' data-ref="wcslen">wcslen</a></u></td></tr>
<tr><th id="553">553</th><td><u>#<span data-ppcond="549">else</span></u></td></tr>
<tr><th id="554">554</th><td><u>#define time_char char</u></td></tr>
<tr><th id="555">555</th><td><u>#define format_time strftime</u></td></tr>
<tr><th id="556">556</th><td><u>#define time_strlen strlen</u></td></tr>
<tr><th id="557">557</th><td><u>#<span data-ppcond="549">endif</span></u></td></tr>
<tr><th id="558">558</th><td></td></tr>
<tr><th id="559">559</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="560">560</th><td><dfn class="tu decl def" id="time_strftime" title='time_strftime' data-type='PyObject * time_strftime(PyObject * self, PyObject * args)' data-ref="time_strftime">time_strftime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="50self" title='self' data-type='PyObject *' data-ref="50self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="51args" title='args' data-type='PyObject *' data-ref="51args">args</dfn>)</td></tr>
<tr><th id="561">561</th><td>{</td></tr>
<tr><th id="562">562</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="52tup" title='tup' data-type='PyObject *' data-ref="52tup">tup</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="563">563</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col3 decl" id="53buf" title='buf' data-type='struct tm' data-ref="53buf">buf</dfn>;</td></tr>
<tr><th id="564">564</th><td>    <em>const</em> <a class="macro" href="#550" title="wchar_t" data-ref="_M/time_char">time_char</a> *<dfn class="local col4 decl" id="54fmt" title='fmt' data-type='const wchar_t *' data-ref="54fmt">fmt</dfn>;</td></tr>
<tr><th id="565">565</th><td><u>#<span data-ppcond="565">ifdef</span> <a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a></u></td></tr>
<tr><th id="566">566</th><td>    <span class='typedef' title='wchar_t' data-type='int' data-ref="wchar_t">wchar_t</span> *<dfn class="local col5 decl" id="55format" title='format' data-type='wchar_t *' data-ref="55format">format</dfn>;</td></tr>
<tr><th id="567">567</th><td><u>#<span data-ppcond="565">else</span></u></td></tr>
<tr><th id="568">568</th><td>    PyObject *format;</td></tr>
<tr><th id="569">569</th><td><u>#<span data-ppcond="565">endif</span></u></td></tr>
<tr><th id="570">570</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="56format_arg" title='format_arg' data-type='PyObject *' data-ref="56format_arg">format_arg</dfn>;</td></tr>
<tr><th id="571">571</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="57fmtlen" title='fmtlen' data-type='size_t' data-ref="57fmtlen">fmtlen</dfn>, <dfn class="local col8 decl" id="58buflen" title='buflen' data-type='size_t' data-ref="58buflen">buflen</dfn>;</td></tr>
<tr><th id="572">572</th><td>    <a class="macro" href="#550" title="wchar_t" data-ref="_M/time_char">time_char</a> *<dfn class="local col9 decl" id="59outbuf" title='outbuf' data-type='wchar_t *' data-ref="59outbuf">outbuf</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="573">573</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col0 decl" id="60i" title='i' data-type='size_t' data-ref="60i">i</dfn>;</td></tr>
<tr><th id="574">574</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="61ret" title='ret' data-type='PyObject *' data-ref="61ret">ret</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td>    <a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>((<em>void</em> *) &amp;<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>, <kbd>'\0'</kbd>, <b>sizeof</b>(<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>));</td></tr>
<tr><th id="577">577</th><td></td></tr>
<tr><th id="578">578</th><td>    <i>/* Will always expect a unicode string to be passed as format.</i></td></tr>
<tr><th id="579">579</th><td><i>       Given that there's no str type anymore in py3k this seems safe.</i></td></tr>
<tr><th id="580">580</th><td><i>    */</i></td></tr>
<tr><th id="581">581</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col1 ref" href="#51args" title='args' data-ref="51args">args</a>, <q>"U|O:strftime"</q>, &amp;<a class="local col6 ref" href="#56format_arg" title='format_arg' data-ref="56format_arg">format_arg</a>, &amp;<a class="local col2 ref" href="#52tup" title='tup' data-ref="52tup">tup</a>))</td></tr>
<tr><th id="582">582</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="583">583</th><td></td></tr>
<tr><th id="584">584</th><td>    <b>if</b> (<a class="local col2 ref" href="#52tup" title='tup' data-ref="52tup">tup</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="585">585</th><td>        <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col2 decl" id="62tt" title='tt' data-type='time_t' data-ref="62tt">tt</dfn> = <a class="ref" href="../../include/time.h.html#time" title='time' data-ref="time">time</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="586">586</th><td>        <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col2 ref" href="#62tt" title='tt' data-ref="62tt">tt</a>, &amp;<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>) != <var>0</var>)</td></tr>
<tr><th id="587">587</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="588">588</th><td>    }</td></tr>
<tr><th id="589">589</th><td>    <b>else</b> <b>if</b> (!<a class="tu ref" href="#gettmarg" title='gettmarg' data-use='c' data-ref="gettmarg">gettmarg</a>(<a class="local col2 ref" href="#52tup" title='tup' data-ref="52tup">tup</a>, &amp;<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>,</td></tr>
<tr><th id="590">590</th><td>                       <q>"iiiiiiiii;strftime(): illegal time tuple argument"</q>) ||</td></tr>
<tr><th id="591">591</th><td>             !<a class="tu ref" href="#checktm" title='checktm' data-use='c' data-ref="checktm">checktm</a>(&amp;<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>))</td></tr>
<tr><th id="592">592</th><td>    {</td></tr>
<tr><th id="593">593</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="594">594</th><td>    }</td></tr>
<tr><th id="595">595</th><td></td></tr>
<tr><th id="596">596</th><td><u>#<span data-ppcond="596">if</span> defined(<span class="macro" data-ref="_M/_MSC_VER">_MSC_VER</span>) || defined(<span class="macro" data-ref="_M/sun">sun</span>) || defined(<span class="macro" data-ref="_M/_AIX">_AIX</span>)</u></td></tr>
<tr><th id="597">597</th><td>    <b>if</b> (buf.tm_year + <var>1900</var> &lt; <var>1</var> || <var>9999</var> &lt; buf.tm_year + <var>1900</var>) {</td></tr>
<tr><th id="598">598</th><td>        PyErr_SetString(PyExc_ValueError,</td></tr>
<tr><th id="599">599</th><td>                        <q>"strftime() requires year in [1; 9999]"</q>);</td></tr>
<tr><th id="600">600</th><td>        <b>return</b> NULL;</td></tr>
<tr><th id="601">601</th><td>    }</td></tr>
<tr><th id="602">602</th><td><u>#<span data-ppcond="596">endif</span></u></td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>    <i>/* Normalize tm_isdst just in case someone foolishly implements %Z</i></td></tr>
<tr><th id="605">605</th><td><i>       based on the assumption that tm_isdst falls within the range of</i></td></tr>
<tr><th id="606">606</th><td><i>       [-1, 1] */</i></td></tr>
<tr><th id="607">607</th><td>    <b>if</b> (<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a> &lt; -<var>1</var>)</td></tr>
<tr><th id="608">608</th><td>        <a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a> = -<var>1</var>;</td></tr>
<tr><th id="609">609</th><td>    <b>else</b> <b>if</b> (<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a> &gt; <var>1</var>)</td></tr>
<tr><th id="610">610</th><td>        <a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_isdst" title='tm::tm_isdst' data-ref="tm::tm_isdst">tm_isdst</a> = <var>1</var>;</td></tr>
<tr><th id="611">611</th><td></td></tr>
<tr><th id="612">612</th><td><u>#<span data-ppcond="612">ifdef</span> <a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a></u></td></tr>
<tr><th id="613">613</th><td>    <a class="local col5 ref" href="#55format" title='format' data-ref="55format">format</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_AsWideCharString" title='PyUnicode_AsWideCharString' data-ref="PyUnicode_AsWideCharString">PyUnicode_AsWideCharString</a>(<a class="local col6 ref" href="#56format_arg" title='format_arg' data-ref="56format_arg">format_arg</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="614">614</th><td>    <b>if</b> (<a class="local col5 ref" href="#55format" title='format' data-ref="55format">format</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="615">615</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="616">616</th><td>    <a class="local col4 ref" href="#54fmt" title='fmt' data-ref="54fmt">fmt</a> = <a class="local col5 ref" href="#55format" title='format' data-ref="55format">format</a>;</td></tr>
<tr><th id="617">617</th><td><u>#<span data-ppcond="612">else</span></u></td></tr>
<tr><th id="618">618</th><td>    <i>/* Convert the unicode string to an ascii one */</i></td></tr>
<tr><th id="619">619</th><td>    format = PyUnicode_EncodeLocale(format_arg, <q>"surrogateescape"</q>);</td></tr>
<tr><th id="620">620</th><td>    <b>if</b> (format == NULL)</td></tr>
<tr><th id="621">621</th><td>        <b>return</b> NULL;</td></tr>
<tr><th id="622">622</th><td>    fmt = PyBytes_AS_STRING(format);</td></tr>
<tr><th id="623">623</th><td><u>#<span data-ppcond="612">endif</span></u></td></tr>
<tr><th id="624">624</th><td></td></tr>
<tr><th id="625">625</th><td><u>#<span data-ppcond="625">if</span> defined(<span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span>) &amp;&amp; !defined(<a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a>)</u></td></tr>
<tr><th id="626">626</th><td>    <i>/* check that the format string contains only valid directives */</i></td></tr>
<tr><th id="627">627</th><td>    <b>for</b> (outbuf = strchr(fmt, <kbd>'%'</kbd>);</td></tr>
<tr><th id="628">628</th><td>        outbuf != NULL;</td></tr>
<tr><th id="629">629</th><td>        outbuf = strchr(outbuf+<var>2</var>, <kbd>'%'</kbd>))</td></tr>
<tr><th id="630">630</th><td>    {</td></tr>
<tr><th id="631">631</th><td>        <b>if</b> (outbuf[<var>1</var>] == <kbd>'#'</kbd>)</td></tr>
<tr><th id="632">632</th><td>            ++outbuf; <i>/* not documented by python, */</i></td></tr>
<tr><th id="633">633</th><td>        <b>if</b> (outbuf[<var>1</var>] == <kbd>'\0'</kbd>)</td></tr>
<tr><th id="634">634</th><td>            <b>break</b>;</td></tr>
<tr><th id="635">635</th><td>        <b>if</b> ((outbuf[<var>1</var>] == <kbd>'y'</kbd>) &amp;&amp; buf.tm_year &lt; <var>0</var>) {</td></tr>
<tr><th id="636">636</th><td>            PyErr_SetString(PyExc_ValueError,</td></tr>
<tr><th id="637">637</th><td>                        <q>"format %y requires year &gt;= 1900 on Windows"</q>);</td></tr>
<tr><th id="638">638</th><td>            Py_DECREF(format);</td></tr>
<tr><th id="639">639</th><td>            <b>return</b> NULL;</td></tr>
<tr><th id="640">640</th><td>        }</td></tr>
<tr><th id="641">641</th><td>    }</td></tr>
<tr><th id="642">642</th><td><u>#<span data-ppcond="625">elif</span> (defined(<span class="macro" data-ref="_M/_AIX">_AIX</span>) || defined(<span class="macro" data-ref="_M/sun">sun</span>)) &amp;&amp; defined(<a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a>)</u></td></tr>
<tr><th id="643">643</th><td>    <b>for</b> (outbuf = wcschr(fmt, <kbd>'%'</kbd>);</td></tr>
<tr><th id="644">644</th><td>        outbuf != NULL;</td></tr>
<tr><th id="645">645</th><td>        outbuf = wcschr(outbuf+<var>2</var>, <kbd>'%'</kbd>))</td></tr>
<tr><th id="646">646</th><td>    {</td></tr>
<tr><th id="647">647</th><td>        <b>if</b> (outbuf[<var>1</var>] == L<kbd>'\0'</kbd>)</td></tr>
<tr><th id="648">648</th><td>            <b>break</b>;</td></tr>
<tr><th id="649">649</th><td>        <i>/* Issue #19634: On AIX, wcsftime("y", (1899, 1, 1, 0, 0, 0, 0, 0, 0))</i></td></tr>
<tr><th id="650">650</th><td><i>           returns "0/" instead of "99" */</i></td></tr>
<tr><th id="651">651</th><td>        <b>if</b> (outbuf[<var>1</var>] == L<kbd>'y'</kbd> &amp;&amp; buf.tm_year &lt; <var>0</var>) {</td></tr>
<tr><th id="652">652</th><td>            PyErr_SetString(PyExc_ValueError,</td></tr>
<tr><th id="653">653</th><td>                            <q>"format %y requires year &gt;= 1900 on AIX"</q>);</td></tr>
<tr><th id="654">654</th><td>            <b>return</b> NULL;</td></tr>
<tr><th id="655">655</th><td>        }</td></tr>
<tr><th id="656">656</th><td>    }</td></tr>
<tr><th id="657">657</th><td><u>#<span data-ppcond="625">endif</span></u></td></tr>
<tr><th id="658">658</th><td></td></tr>
<tr><th id="659">659</th><td>    <a class="local col7 ref" href="#57fmtlen" title='fmtlen' data-ref="57fmtlen">fmtlen</a> = <a class="macro" href="#552" title="wcslen" data-ref="_M/time_strlen">time_strlen</a>(<a class="local col4 ref" href="#54fmt" title='fmt' data-ref="54fmt">fmt</a>);</td></tr>
<tr><th id="660">660</th><td></td></tr>
<tr><th id="661">661</th><td>    <i>/* I hate these functions that presume you know how big the output</i></td></tr>
<tr><th id="662">662</th><td><i>     * will be ahead of time...</i></td></tr>
<tr><th id="663">663</th><td><i>     */</i></td></tr>
<tr><th id="664">664</th><td>    <b>for</b> (<a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a> = <var>1024</var>; ; <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a> += <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a>) {</td></tr>
<tr><th id="665">665</th><td>        <a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a> = (<a class="macro" href="#550" title="wchar_t" data-ref="_M/time_char">time_char</a> *)<a class="ref" href="../Include/pymem.h.html#PyMem_Malloc" title='PyMem_Malloc' data-ref="PyMem_Malloc">PyMem_Malloc</a>(<a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a>*<b>sizeof</b>(<a class="macro" href="#550" title="wchar_t" data-ref="_M/time_char">time_char</a>));</td></tr>
<tr><th id="666">666</th><td>        <b>if</b> (<a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="667">667</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_NoMemory" title='PyErr_NoMemory' data-ref="PyErr_NoMemory">PyErr_NoMemory</a>();</td></tr>
<tr><th id="668">668</th><td>            <b>break</b>;</td></tr>
<tr><th id="669">669</th><td>        }</td></tr>
<tr><th id="670">670</th><td><u>#<span data-ppcond="670">if</span> defined <span class="macro" data-ref="_M/_MSC_VER">_MSC_VER</span> &amp;&amp; _MSC_VER &gt;= 1400 &amp;&amp; defined(<span class="macro" data-ref="_M/__STDC_SECURE_LIB__">__STDC_SECURE_LIB__</span>)</u></td></tr>
<tr><th id="671">671</th><td>        errno = <var>0</var>;</td></tr>
<tr><th id="672">672</th><td><u>#<span data-ppcond="670">endif</span></u></td></tr>
<tr><th id="673">673</th><td>        <a class="macro" href="../Include/pyport.h.html#790" title="" data-ref="_M/_Py_BEGIN_SUPPRESS_IPH">_Py_BEGIN_SUPPRESS_IPH</a></td></tr>
<tr><th id="674">674</th><td>        <a class="local col8 ref" href="#58buflen" title='buflen' data-ref="58buflen">buflen</a> = <a class="macro" href="#551" title="wcsftime" data-ref="_M/format_time">format_time</a>(<a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a>, <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a>, <a class="local col4 ref" href="#54fmt" title='fmt' data-ref="54fmt">fmt</a>, &amp;<a class="local col3 ref" href="#53buf" title='buf' data-ref="53buf">buf</a>);</td></tr>
<tr><th id="675">675</th><td>        <a class="macro" href="../Include/pyport.h.html#791" title="" data-ref="_M/_Py_END_SUPPRESS_IPH">_Py_END_SUPPRESS_IPH</a></td></tr>
<tr><th id="676">676</th><td><u>#<span data-ppcond="676">if</span> defined <span class="macro" data-ref="_M/_MSC_VER">_MSC_VER</span> &amp;&amp; _MSC_VER &gt;= 1400 &amp;&amp; defined(<span class="macro" data-ref="_M/__STDC_SECURE_LIB__">__STDC_SECURE_LIB__</span>)</u></td></tr>
<tr><th id="677">677</th><td>        <i>/* VisualStudio .NET 2005 does this properly */</i></td></tr>
<tr><th id="678">678</th><td>        <b>if</b> (buflen == <var>0</var> &amp;&amp; errno == EINVAL) {</td></tr>
<tr><th id="679">679</th><td>            PyErr_SetString(PyExc_ValueError, <q>"Invalid format string"</q>);</td></tr>
<tr><th id="680">680</th><td>            PyMem_Free(outbuf);</td></tr>
<tr><th id="681">681</th><td>            <b>break</b>;</td></tr>
<tr><th id="682">682</th><td>        }</td></tr>
<tr><th id="683">683</th><td><u>#<span data-ppcond="676">endif</span></u></td></tr>
<tr><th id="684">684</th><td>        <b>if</b> (<a class="local col8 ref" href="#58buflen" title='buflen' data-ref="58buflen">buflen</a> &gt; <var>0</var> || <a class="local col0 ref" href="#60i" title='i' data-ref="60i">i</a> &gt;= <var>256</var> * <a class="local col7 ref" href="#57fmtlen" title='fmtlen' data-ref="57fmtlen">fmtlen</a>) {</td></tr>
<tr><th id="685">685</th><td>            <i>/* If the buffer is 256 times as long as the format,</i></td></tr>
<tr><th id="686">686</th><td><i>               it's probably not failing for lack of room!</i></td></tr>
<tr><th id="687">687</th><td><i>               More likely, the format yields an empty result,</i></td></tr>
<tr><th id="688">688</th><td><i>               e.g. an empty format, or %Z when the timezone</i></td></tr>
<tr><th id="689">689</th><td><i>               is unknown. */</i></td></tr>
<tr><th id="690">690</th><td><u>#<span data-ppcond="690">ifdef</span> <a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a></u></td></tr>
<tr><th id="691">691</th><td>            <a class="local col1 ref" href="#61ret" title='ret' data-ref="61ret">ret</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_FromWideChar" title='PyUnicode_FromWideChar' data-ref="PyUnicode_FromWideChar">PyUnicode_FromWideChar</a>(<a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a>, <a class="local col8 ref" href="#58buflen" title='buflen' data-ref="58buflen">buflen</a>);</td></tr>
<tr><th id="692">692</th><td><u>#<span data-ppcond="690">else</span></u></td></tr>
<tr><th id="693">693</th><td>            ret = PyUnicode_DecodeLocaleAndSize(outbuf, buflen,</td></tr>
<tr><th id="694">694</th><td>                                                <q>"surrogateescape"</q>);</td></tr>
<tr><th id="695">695</th><td><u>#<span data-ppcond="690">endif</span></u></td></tr>
<tr><th id="696">696</th><td>            <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a>);</td></tr>
<tr><th id="697">697</th><td>            <b>break</b>;</td></tr>
<tr><th id="698">698</th><td>        }</td></tr>
<tr><th id="699">699</th><td>        <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col9 ref" href="#59outbuf" title='outbuf' data-ref="59outbuf">outbuf</a>);</td></tr>
<tr><th id="700">700</th><td>    }</td></tr>
<tr><th id="701">701</th><td><u>#<span data-ppcond="701">ifdef</span> <a class="macro" href="../pyconfig.h.html#1183" data-ref="_M/HAVE_WCSFTIME">HAVE_WCSFTIME</a></u></td></tr>
<tr><th id="702">702</th><td>    <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col5 ref" href="#55format" title='format' data-ref="55format">format</a>);</td></tr>
<tr><th id="703">703</th><td><u>#<span data-ppcond="701">else</span></u></td></tr>
<tr><th id="704">704</th><td>    Py_DECREF(format);</td></tr>
<tr><th id="705">705</th><td><u>#<span data-ppcond="701">endif</span></u></td></tr>
<tr><th id="706">706</th><td>    <b>return</b> <a class="local col1 ref" href="#61ret" title='ret' data-ref="61ret">ret</a>;</td></tr>
<tr><th id="707">707</th><td>}</td></tr>
<tr><th id="708">708</th><td></td></tr>
<tr><th id="709">709</th><td><u>#undef <a class="macro" href="#550" data-ref="_M/time_char">time_char</a></u></td></tr>
<tr><th id="710">710</th><td><u>#undef <a class="macro" href="#551" data-ref="_M/format_time">format_time</a></u></td></tr>
<tr><th id="711">711</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char strftime_doc[] = &quot;strftime(format[, tuple]) -&gt; string\n\nConvert a time tuple to a string according to a format specification.\nSee the library reference manual for formatting codes. When the time tuple\nis not present, current time as returned by localtime() is used.\n\n&quot; &quot;Commonly used format codes:\n\n%Y  Year with century as a decimal number.\n%m  Month as a decimal number [01,12].\n%d  Day of the month as a decimal number [01,31].\n%H  Hour (24-hour clock) as a decimal number [00,23].\n%M  Minute as a decimal number [00,59].\n%S  Second as a decimal number [00,61].\n%z  Time zone offset from UTC.\n%a  Locale&apos;s abbreviated weekday name.\n%A  Locale&apos;s full weekday name.\n%b  Locale&apos;s abbreviated month name.\n%B  Locale&apos;s full month name.\n%c  Locale&apos;s appropriate date and time representation.\n%I  Hour (12-hour clock) as a decimal number [01,12].\n%p  Locale&apos;s equivalent of either AM or PM.\n\nOther codes may be available on your platform.  See documentation for\nthe C library strftime function.\n&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="strftime_doc" title='strftime_doc' data-ref="strftime_doc">strftime_doc</dfn>,</td></tr>
<tr><th id="712">712</th><td><q>"strftime(format[, tuple]) -&gt; string\n\</q></td></tr>
<tr><th id="713">713</th><td><q>\n\</q></td></tr>
<tr><th id="714">714</th><td><q>Convert a time tuple to a string according to a format specification.\n\</q></td></tr>
<tr><th id="715">715</th><td><q>See the library reference manual for formatting codes. When the time tuple\n\</q></td></tr>
<tr><th id="716">716</th><td><q>is not present, current time as returned by localtime() is used.\n\</q></td></tr>
<tr><th id="717">717</th><td><q>\n"</q> <a class="macro" href="#527" title="&quot;Commonly used format codes:\n\n%Y  Year with century as a decimal number.\n%m  Month as a decimal number [01,12].\n%d  Day of the month as a decimal number [01,31].\n%H  Hour (24-hour clock) as a decimal number [00,23].\n%M  Minute as a decimal number [00,59].\n%S  Second as a decimal number [00,61].\n%z  Time zone offset from UTC.\n%a  Locale&apos;s abbreviated weekday name.\n%A  Locale&apos;s full weekday name.\n%b  Locale&apos;s abbreviated month name.\n%B  Locale&apos;s full month name.\n%c  Locale&apos;s appropriate date and time representation.\n%I  Hour (12-hour clock) as a decimal number [01,12].\n%p  Locale&apos;s equivalent of either AM or PM.\n\nOther codes may be available on your platform.  See documentation for\nthe C library strftime function.\n&quot;" data-ref="_M/STRFTIME_FORMAT_CODES">STRFTIME_FORMAT_CODES</a>);</td></tr>
<tr><th id="718">718</th><td><u>#<span data-ppcond="548">endif</span> /* HAVE_STRFTIME */</u></td></tr>
<tr><th id="719">719</th><td></td></tr>
<tr><th id="720">720</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="721">721</th><td><dfn class="tu decl def" id="time_strptime" title='time_strptime' data-type='PyObject * time_strptime(PyObject * self, PyObject * args)' data-ref="time_strptime">time_strptime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="63self" title='self' data-type='PyObject *' data-ref="63self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="64args" title='args' data-type='PyObject *' data-ref="64args">args</dfn>)</td></tr>
<tr><th id="722">722</th><td>{</td></tr>
<tr><th id="723">723</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="65module" title='module' data-type='PyObject *' data-ref="65module">module</dfn>, *<dfn class="local col6 decl" id="66func" title='func' data-type='PyObject *' data-ref="66func">func</dfn>, *<dfn class="local col7 decl" id="67result" title='result' data-type='PyObject *' data-ref="67result">result</dfn>;</td></tr>
<tr><th id="724">724</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId__strptime_time = { .next = ((void*)0), .string = &quot;_strptime_time&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(_strptime_time);</td></tr>
<tr><th id="725">725</th><td></td></tr>
<tr><th id="726">726</th><td>    <a class="local col5 ref" href="#65module" title='module' data-ref="65module">module</a> = <a class="ref" href="../Include/import.h.html#PyImport_ImportModuleNoBlock" title='PyImport_ImportModuleNoBlock' data-ref="PyImport_ImportModuleNoBlock">PyImport_ImportModuleNoBlock</a>(<q>"_strptime"</q>);</td></tr>
<tr><th id="727">727</th><td>    <b>if</b> (!<a class="local col5 ref" href="#65module" title='module' data-ref="65module">module</a>)</td></tr>
<tr><th id="728">728</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="729">729</th><td></td></tr>
<tr><th id="730">730</th><td>    <a class="local col6 ref" href="#66func" title='func' data-ref="66func">func</a> = <a class="ref" href="../Include/object.h.html#_PyObject_GetAttrId" title='_PyObject_GetAttrId' data-ref="_PyObject_GetAttrId">_PyObject_GetAttrId</a>(<a class="local col5 ref" href="#65module" title='module' data-ref="65module">module</a>, &amp;<a class="local col8 ref" href="#724" title='PyId__strptime_time' data-ref="68PyId__strptime_time">PyId__strptime_time</a>);</td></tr>
<tr><th id="731">731</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(module); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 731, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col5 ref" href="#65module" title='module' data-ref="65module">module</a>);</td></tr>
<tr><th id="732">732</th><td>    <b>if</b> (!<a class="local col6 ref" href="#66func" title='func' data-ref="66func">func</a>) {</td></tr>
<tr><th id="733">733</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="734">734</th><td>    }</td></tr>
<tr><th id="735">735</th><td></td></tr>
<tr><th id="736">736</th><td>    <a class="local col7 ref" href="#67result" title='result' data-ref="67result">result</a> = <a class="ref" href="../Include/abstract.h.html#PyObject_Call" title='PyObject_Call' data-ref="PyObject_Call">PyObject_Call</a>(<a class="local col6 ref" href="#66func" title='func' data-ref="66func">func</a>, <a class="local col4 ref" href="#64args" title='args' data-ref="64args">args</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="737">737</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(func); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 737, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col6 ref" href="#66func" title='func' data-ref="66func">func</a>);</td></tr>
<tr><th id="738">738</th><td>    <b>return</b> <a class="local col7 ref" href="#67result" title='result' data-ref="67result">result</a>;</td></tr>
<tr><th id="739">739</th><td>}</td></tr>
<tr><th id="740">740</th><td></td></tr>
<tr><th id="741">741</th><td></td></tr>
<tr><th id="742">742</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char strptime_doc[] = &quot;strptime(string, format) -&gt; struct_time\n\nParse a string to a time tuple according to a format specification.\nSee the library reference manual for formatting codes (same as\nstrftime()).\n\n&quot; &quot;Commonly used format codes:\n\n%Y  Year with century as a decimal number.\n%m  Month as a decimal number [01,12].\n%d  Day of the month as a decimal number [01,31].\n%H  Hour (24-hour clock) as a decimal number [00,23].\n%M  Minute as a decimal number [00,59].\n%S  Second as a decimal number [00,61].\n%z  Time zone offset from UTC.\n%a  Locale&apos;s abbreviated weekday name.\n%A  Locale&apos;s full weekday name.\n%b  Locale&apos;s abbreviated month name.\n%B  Locale&apos;s full month name.\n%c  Locale&apos;s appropriate date and time representation.\n%I  Hour (12-hour clock) as a decimal number [01,12].\n%p  Locale&apos;s equivalent of either AM or PM.\n\nOther codes may be available on your platform.  See documentation for\nthe C library strftime function.\n&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="strptime_doc" title='strptime_doc' data-ref="strptime_doc">strptime_doc</dfn>,</td></tr>
<tr><th id="743">743</th><td><q>"strptime(string, format) -&gt; struct_time\n\</q></td></tr>
<tr><th id="744">744</th><td><q>\n\</q></td></tr>
<tr><th id="745">745</th><td><q>Parse a string to a time tuple according to a format specification.\n\</q></td></tr>
<tr><th id="746">746</th><td><q>See the library reference manual for formatting codes (same as\n\</q></td></tr>
<tr><th id="747">747</th><td><q>strftime()).\n\</q></td></tr>
<tr><th id="748">748</th><td><q>\n"</q> <a class="macro" href="#527" title="&quot;Commonly used format codes:\n\n%Y  Year with century as a decimal number.\n%m  Month as a decimal number [01,12].\n%d  Day of the month as a decimal number [01,31].\n%H  Hour (24-hour clock) as a decimal number [00,23].\n%M  Minute as a decimal number [00,59].\n%S  Second as a decimal number [00,61].\n%z  Time zone offset from UTC.\n%a  Locale&apos;s abbreviated weekday name.\n%A  Locale&apos;s full weekday name.\n%b  Locale&apos;s abbreviated month name.\n%B  Locale&apos;s full month name.\n%c  Locale&apos;s appropriate date and time representation.\n%I  Hour (12-hour clock) as a decimal number [01,12].\n%p  Locale&apos;s equivalent of either AM or PM.\n\nOther codes may be available on your platform.  See documentation for\nthe C library strftime function.\n&quot;" data-ref="_M/STRFTIME_FORMAT_CODES">STRFTIME_FORMAT_CODES</a>);</td></tr>
<tr><th id="749">749</th><td></td></tr>
<tr><th id="750">750</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="751">751</th><td><dfn class="tu decl def" id="_asctime" title='_asctime' data-type='PyObject * _asctime(struct tm * timeptr)' data-ref="_asctime">_asctime</dfn>(<b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> *<dfn class="local col9 decl" id="69timeptr" title='timeptr' data-type='struct tm *' data-ref="69timeptr">timeptr</dfn>)</td></tr>
<tr><th id="752">752</th><td>{</td></tr>
<tr><th id="753">753</th><td>    <i>/* Inspired by Open Group reference implementation available at</i></td></tr>
<tr><th id="754">754</th><td><i>     * <a href="http://pubs.opengroup.org/onlinepubs/009695399/functions/asctime.html">http://pubs.opengroup.org/onlinepubs/009695399/functions/asctime.html</a> */</i></td></tr>
<tr><th id="755">755</th><td>    <em>static</em> <em>const</em> <em>char</em> <dfn class="local col0 decl" id="70wday_name" title='wday_name' data-type='const char [7][4]' data-ref="70wday_name">wday_name</dfn>[<var>7</var>][<var>4</var>] = {</td></tr>
<tr><th id="756">756</th><td>        <q>"Sun"</q>, <q>"Mon"</q>, <q>"Tue"</q>, <q>"Wed"</q>, <q>"Thu"</q>, <q>"Fri"</q>, <q>"Sat"</q></td></tr>
<tr><th id="757">757</th><td>    };</td></tr>
<tr><th id="758">758</th><td>    <em>static</em> <em>const</em> <em>char</em> <dfn class="local col1 decl" id="71mon_name" title='mon_name' data-type='const char [12][4]' data-ref="71mon_name">mon_name</dfn>[<var>12</var>][<var>4</var>] = {</td></tr>
<tr><th id="759">759</th><td>        <q>"Jan"</q>, <q>"Feb"</q>, <q>"Mar"</q>, <q>"Apr"</q>, <q>"May"</q>, <q>"Jun"</q>,</td></tr>
<tr><th id="760">760</th><td>        <q>"Jul"</q>, <q>"Aug"</q>, <q>"Sep"</q>, <q>"Oct"</q>, <q>"Nov"</q>, <q>"Dec"</q></td></tr>
<tr><th id="761">761</th><td>    };</td></tr>
<tr><th id="762">762</th><td>    <b>return</b> <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_FromFormat" title='PyUnicode_FromFormat' data-ref="PyUnicode_FromFormat">PyUnicode_FromFormat</a>(</td></tr>
<tr><th id="763">763</th><td>        <q>"%s %s%3d %.2d:%.2d:%.2d %d"</q>,</td></tr>
<tr><th id="764">764</th><td>        <a class="local col0 ref" href="#70wday_name" title='wday_name' data-ref="70wday_name">wday_name</a>[<a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a>],</td></tr>
<tr><th id="765">765</th><td>        <a class="local col1 ref" href="#71mon_name" title='mon_name' data-ref="71mon_name">mon_name</a>[<a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mon" title='tm::tm_mon' data-ref="tm::tm_mon">tm_mon</a>],</td></tr>
<tr><th id="766">766</th><td>        <a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_mday" title='tm::tm_mday' data-ref="tm::tm_mday">tm_mday</a>, <a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_hour" title='tm::tm_hour' data-ref="tm::tm_hour">tm_hour</a>,</td></tr>
<tr><th id="767">767</th><td>        <a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_min" title='tm::tm_min' data-ref="tm::tm_min">tm_min</a>, <a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_sec" title='tm::tm_sec' data-ref="tm::tm_sec">tm_sec</a>,</td></tr>
<tr><th id="768">768</th><td>        <var>1900</var> + <a class="local col9 ref" href="#69timeptr" title='timeptr' data-ref="69timeptr">timeptr</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_year" title='tm::tm_year' data-ref="tm::tm_year">tm_year</a>);</td></tr>
<tr><th id="769">769</th><td>}</td></tr>
<tr><th id="770">770</th><td></td></tr>
<tr><th id="771">771</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="772">772</th><td><dfn class="tu decl def" id="time_asctime" title='time_asctime' data-type='PyObject * time_asctime(PyObject * self, PyObject * args)' data-ref="time_asctime">time_asctime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="72self" title='self' data-type='PyObject *' data-ref="72self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="73args" title='args' data-type='PyObject *' data-ref="73args">args</dfn>)</td></tr>
<tr><th id="773">773</th><td>{</td></tr>
<tr><th id="774">774</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="74tup" title='tup' data-type='PyObject *' data-ref="74tup">tup</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="775">775</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col5 decl" id="75buf" title='buf' data-type='struct tm' data-ref="75buf">buf</dfn>;</td></tr>
<tr><th id="776">776</th><td></td></tr>
<tr><th id="777">777</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_UnpackTuple" title='PyArg_UnpackTuple' data-ref="PyArg_UnpackTuple">PyArg_UnpackTuple</a>(<a class="local col3 ref" href="#73args" title='args' data-ref="73args">args</a>, <q>"asctime"</q>, <var>0</var>, <var>1</var>, &amp;<a class="local col4 ref" href="#74tup" title='tup' data-ref="74tup">tup</a>))</td></tr>
<tr><th id="778">778</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="779">779</th><td>    <b>if</b> (<a class="local col4 ref" href="#74tup" title='tup' data-ref="74tup">tup</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="780">780</th><td>        <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col6 decl" id="76tt" title='tt' data-type='time_t' data-ref="76tt">tt</dfn> = <a class="ref" href="../../include/time.h.html#time" title='time' data-ref="time">time</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="781">781</th><td>        <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col6 ref" href="#76tt" title='tt' data-ref="76tt">tt</a>, &amp;<a class="local col5 ref" href="#75buf" title='buf' data-ref="75buf">buf</a>) != <var>0</var>)</td></tr>
<tr><th id="782">782</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="783">783</th><td>    }</td></tr>
<tr><th id="784">784</th><td>    <b>else</b> <b>if</b> (!<a class="tu ref" href="#gettmarg" title='gettmarg' data-use='c' data-ref="gettmarg">gettmarg</a>(<a class="local col4 ref" href="#74tup" title='tup' data-ref="74tup">tup</a>, &amp;<a class="local col5 ref" href="#75buf" title='buf' data-ref="75buf">buf</a>,</td></tr>
<tr><th id="785">785</th><td>                       <q>"iiiiiiiii;asctime(): illegal time tuple argument"</q>) ||</td></tr>
<tr><th id="786">786</th><td>             !<a class="tu ref" href="#checktm" title='checktm' data-use='c' data-ref="checktm">checktm</a>(&amp;<a class="local col5 ref" href="#75buf" title='buf' data-ref="75buf">buf</a>))</td></tr>
<tr><th id="787">787</th><td>    {</td></tr>
<tr><th id="788">788</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="789">789</th><td>    }</td></tr>
<tr><th id="790">790</th><td>    <b>return</b> <a class="tu ref" href="#_asctime" title='_asctime' data-use='c' data-ref="_asctime">_asctime</a>(&amp;<a class="local col5 ref" href="#75buf" title='buf' data-ref="75buf">buf</a>);</td></tr>
<tr><th id="791">791</th><td>}</td></tr>
<tr><th id="792">792</th><td></td></tr>
<tr><th id="793">793</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char asctime_doc[] = &quot;asctime([tuple]) -&gt; string\n\nConvert a time tuple to a string, e.g. &apos;Sat Jun 06 16:26:11 1998&apos;.\nWhen the time tuple is not present, current time as returned by localtime()\nis used.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="asctime_doc" title='asctime_doc' data-ref="asctime_doc">asctime_doc</dfn>,</td></tr>
<tr><th id="794">794</th><td><q>"asctime([tuple]) -&gt; string\n\</q></td></tr>
<tr><th id="795">795</th><td><q>\n\</q></td></tr>
<tr><th id="796">796</th><td><q>Convert a time tuple to a string, e.g. 'Sat Jun 06 16:26:11 1998'.\n\</q></td></tr>
<tr><th id="797">797</th><td><q>When the time tuple is not present, current time as returned by localtime()\n\</q></td></tr>
<tr><th id="798">798</th><td><q>is used."</q>);</td></tr>
<tr><th id="799">799</th><td></td></tr>
<tr><th id="800">800</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="801">801</th><td><dfn class="tu decl def" id="time_ctime" title='time_ctime' data-type='PyObject * time_ctime(PyObject * self, PyObject * args)' data-ref="time_ctime">time_ctime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="77self" title='self' data-type='PyObject *' data-ref="77self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="78args" title='args' data-type='PyObject *' data-ref="78args">args</dfn>)</td></tr>
<tr><th id="802">802</th><td>{</td></tr>
<tr><th id="803">803</th><td>    <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col9 decl" id="79tt" title='tt' data-type='time_t' data-ref="79tt">tt</dfn>;</td></tr>
<tr><th id="804">804</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col0 decl" id="80buf" title='buf' data-type='struct tm' data-ref="80buf">buf</dfn>;</td></tr>
<tr><th id="805">805</th><td>    <b>if</b> (!<a class="tu ref" href="#parse_time_t_args" title='parse_time_t_args' data-use='c' data-ref="parse_time_t_args">parse_time_t_args</a>(<a class="local col8 ref" href="#78args" title='args' data-ref="78args">args</a>, <q>"|O:ctime"</q>, &amp;<a class="local col9 ref" href="#79tt" title='tt' data-ref="79tt">tt</a>))</td></tr>
<tr><th id="806">806</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="807">807</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col9 ref" href="#79tt" title='tt' data-ref="79tt">tt</a>, &amp;<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>) != <var>0</var>)</td></tr>
<tr><th id="808">808</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="809">809</th><td>    <b>return</b> <a class="tu ref" href="#_asctime" title='_asctime' data-use='c' data-ref="_asctime">_asctime</a>(&amp;<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>);</td></tr>
<tr><th id="810">810</th><td>}</td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char ctime_doc[] = &quot;ctime(seconds) -&gt; string\n\nConvert a time in seconds since the Epoch to a string in local time.\nThis is equivalent to asctime(localtime(seconds)). When the time tuple is\nnot present, current time as returned by localtime() is used.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="ctime_doc" title='ctime_doc' data-ref="ctime_doc">ctime_doc</dfn>,</td></tr>
<tr><th id="813">813</th><td><q>"ctime(seconds) -&gt; string\n\</q></td></tr>
<tr><th id="814">814</th><td><q>\n\</q></td></tr>
<tr><th id="815">815</th><td><q>Convert a time in seconds since the Epoch to a string in local time.\n\</q></td></tr>
<tr><th id="816">816</th><td><q>This is equivalent to asctime(localtime(seconds)). When the time tuple is\n\</q></td></tr>
<tr><th id="817">817</th><td><q>not present, current time as returned by localtime() is used."</q>);</td></tr>
<tr><th id="818">818</th><td></td></tr>
<tr><th id="819">819</th><td><u>#<span data-ppcond="819">ifdef</span> <a class="macro" href="../pyconfig.h.html#627" data-ref="_M/HAVE_MKTIME">HAVE_MKTIME</a></u></td></tr>
<tr><th id="820">820</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="821">821</th><td><dfn class="tu decl def" id="time_mktime" title='time_mktime' data-type='PyObject * time_mktime(PyObject * self, PyObject * tup)' data-ref="time_mktime">time_mktime</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="81self" title='self' data-type='PyObject *' data-ref="81self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="82tup" title='tup' data-type='PyObject *' data-ref="82tup">tup</dfn>)</td></tr>
<tr><th id="822">822</th><td>{</td></tr>
<tr><th id="823">823</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col3 decl" id="83buf" title='buf' data-type='struct tm' data-ref="83buf">buf</dfn>;</td></tr>
<tr><th id="824">824</th><td>    <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col4 decl" id="84tt" title='tt' data-type='time_t' data-ref="84tt">tt</dfn>;</td></tr>
<tr><th id="825">825</th><td>    <b>if</b> (!<a class="tu ref" href="#gettmarg" title='gettmarg' data-use='c' data-ref="gettmarg">gettmarg</a>(<a class="local col2 ref" href="#82tup" title='tup' data-ref="82tup">tup</a>, &amp;<a class="local col3 ref" href="#83buf" title='buf' data-ref="83buf">buf</a>,</td></tr>
<tr><th id="826">826</th><td>                  <q>"iiiiiiiii;mktime(): illegal time tuple argument"</q>))</td></tr>
<tr><th id="827">827</th><td>    {</td></tr>
<tr><th id="828">828</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="829">829</th><td>    }</td></tr>
<tr><th id="830">830</th><td><u>#<span data-ppcond="830">ifdef</span> <span class="macro" data-ref="_M/_AIX">_AIX</span></u></td></tr>
<tr><th id="831">831</th><td>    <i>/* year &lt; 1902 or year &gt; 2037 */</i></td></tr>
<tr><th id="832">832</th><td>    <b>if</b> (buf.tm_year &lt; <var>2</var> || buf.tm_year &gt; <var>137</var>) {</td></tr>
<tr><th id="833">833</th><td>        <i>/* Issue #19748: On AIX, mktime() doesn't report overflow error for</i></td></tr>
<tr><th id="834">834</th><td><i>         * timestamp &lt; -2^31 or timestamp &gt; 2**31-1. */</i></td></tr>
<tr><th id="835">835</th><td>        PyErr_SetString(PyExc_OverflowError,</td></tr>
<tr><th id="836">836</th><td>                        <q>"mktime argument out of range"</q>);</td></tr>
<tr><th id="837">837</th><td>        <b>return</b> NULL;</td></tr>
<tr><th id="838">838</th><td>    }</td></tr>
<tr><th id="839">839</th><td><u>#<span data-ppcond="830">else</span></u></td></tr>
<tr><th id="840">840</th><td>    <a class="local col3 ref" href="#83buf" title='buf' data-ref="83buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> = -<var>1</var>;  <i>/* sentinel; original value ignored */</i></td></tr>
<tr><th id="841">841</th><td><u>#<span data-ppcond="830">endif</span></u></td></tr>
<tr><th id="842">842</th><td>    <a class="local col4 ref" href="#84tt" title='tt' data-ref="84tt">tt</a> = <a class="ref" href="../../include/time.h.html#mktime" title='mktime' data-ref="mktime">mktime</a>(&amp;<a class="local col3 ref" href="#83buf" title='buf' data-ref="83buf">buf</a>);</td></tr>
<tr><th id="843">843</th><td>    <i>/* Return value of -1 does not necessarily mean an error, but tm_wday</i></td></tr>
<tr><th id="844">844</th><td><i>     * cannot remain set to -1 if mktime succeeded. */</i></td></tr>
<tr><th id="845">845</th><td>    <b>if</b> (<a class="local col4 ref" href="#84tt" title='tt' data-ref="84tt">tt</a> == (<a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a>)(-<var>1</var>)</td></tr>
<tr><th id="846">846</th><td><u>#<span data-ppcond="846">ifndef</span> <span class="macro" data-ref="_M/_AIX">_AIX</span></u></td></tr>
<tr><th id="847">847</th><td>        <i>/* Return value of -1 does not necessarily mean an error, but</i></td></tr>
<tr><th id="848">848</th><td><i>         * tm_wday cannot remain set to -1 if mktime succeeded. */</i></td></tr>
<tr><th id="849">849</th><td>        &amp;&amp; <a class="local col3 ref" href="#83buf" title='buf' data-ref="83buf">buf</a>.<a class="ref" href="../../include/time.h.html#tm::tm_wday" title='tm::tm_wday' data-ref="tm::tm_wday">tm_wday</a> == -<var>1</var></td></tr>
<tr><th id="850">850</th><td><u>#<span data-ppcond="846">else</span></u></td></tr>
<tr><th id="851">851</th><td>        <i>/* on AIX, tm_wday is always sets, even on error */</i></td></tr>
<tr><th id="852">852</th><td><u>#<span data-ppcond="846">endif</span></u></td></tr>
<tr><th id="853">853</th><td>       )</td></tr>
<tr><th id="854">854</th><td>    {</td></tr>
<tr><th id="855">855</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="856">856</th><td>                        <q>"mktime argument out of range"</q>);</td></tr>
<tr><th id="857">857</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="858">858</th><td>    }</td></tr>
<tr><th id="859">859</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>((<em>double</em>)<a class="local col4 ref" href="#84tt" title='tt' data-ref="84tt">tt</a>);</td></tr>
<tr><th id="860">860</th><td>}</td></tr>
<tr><th id="861">861</th><td></td></tr>
<tr><th id="862">862</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char mktime_doc[] = &quot;mktime(tuple) -&gt; floating point number\n\nConvert a time tuple in local time to seconds since the Epoch.\nNote that mktime(gmtime(0)) will not generally return zero for most\ntime zones; instead the returned value will either be equal to that\nof the timezone or altzone attributes on the time module.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="mktime_doc" title='mktime_doc' data-ref="mktime_doc">mktime_doc</dfn>,</td></tr>
<tr><th id="863">863</th><td><q>"mktime(tuple) -&gt; floating point number\n\</q></td></tr>
<tr><th id="864">864</th><td><q>\n\</q></td></tr>
<tr><th id="865">865</th><td><q>Convert a time tuple in local time to seconds since the Epoch.\n\</q></td></tr>
<tr><th id="866">866</th><td><q>Note that mktime(gmtime(0)) will not generally return zero for most\n\</q></td></tr>
<tr><th id="867">867</th><td><q>time zones; instead the returned value will either be equal to that\n\</q></td></tr>
<tr><th id="868">868</th><td><q>of the timezone or altzone attributes on the time module."</q>);</td></tr>
<tr><th id="869">869</th><td><u>#<span data-ppcond="819">endif</span> /* HAVE_MKTIME */</u></td></tr>
<tr><th id="870">870</th><td></td></tr>
<tr><th id="871">871</th><td><u>#<span data-ppcond="871">ifdef</span> <a class="macro" href="../pyconfig.h.html#1193" data-ref="_M/HAVE_WORKING_TZSET">HAVE_WORKING_TZSET</a></u></td></tr>
<tr><th id="872">872</th><td><em>static</em> <em>void</em> <a class="tu decl" href="#PyInit_timezone" title='PyInit_timezone' data-type='void PyInit_timezone(PyObject * module)' data-ref="PyInit_timezone">PyInit_timezone</a>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="85module" title='module' data-type='PyObject *' data-ref="85module">module</dfn>);</td></tr>
<tr><th id="873">873</th><td></td></tr>
<tr><th id="874">874</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="875">875</th><td><dfn class="tu decl def" id="time_tzset" title='time_tzset' data-type='PyObject * time_tzset(PyObject * self, PyObject * unused)' data-ref="time_tzset">time_tzset</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="86self" title='self' data-type='PyObject *' data-ref="86self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="87unused" title='unused' data-type='PyObject *' data-ref="87unused">unused</dfn>)</td></tr>
<tr><th id="876">876</th><td>{</td></tr>
<tr><th id="877">877</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>* <dfn class="local col8 decl" id="88m" title='m' data-type='PyObject *' data-ref="88m">m</dfn>;</td></tr>
<tr><th id="878">878</th><td></td></tr>
<tr><th id="879">879</th><td>    <a class="local col8 ref" href="#88m" title='m' data-ref="88m">m</a> = <a class="ref" href="../Include/import.h.html#PyImport_ImportModuleNoBlock" title='PyImport_ImportModuleNoBlock' data-ref="PyImport_ImportModuleNoBlock">PyImport_ImportModuleNoBlock</a>(<q>"time"</q>);</td></tr>
<tr><th id="880">880</th><td>    <b>if</b> (<a class="local col8 ref" href="#88m" title='m' data-ref="88m">m</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="881">881</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="882">882</th><td>    }</td></tr>
<tr><th id="883">883</th><td></td></tr>
<tr><th id="884">884</th><td>    <a class="ref" href="../../include/time.h.html#tzset" title='tzset' data-ref="tzset">tzset</a>();</td></tr>
<tr><th id="885">885</th><td></td></tr>
<tr><th id="886">886</th><td>    <i>/* Reset timezone, altzone, daylight and tzname */</i></td></tr>
<tr><th id="887">887</th><td>    <a class="tu ref" href="#PyInit_timezone" title='PyInit_timezone' data-use='c' data-ref="PyInit_timezone">PyInit_timezone</a>(<a class="local col8 ref" href="#88m" title='m' data-ref="88m">m</a>);</td></tr>
<tr><th id="888">888</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(m); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 888, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#88m" title='m' data-ref="88m">m</a>);</td></tr>
<tr><th id="889">889</th><td>    <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="890">890</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="891">891</th><td></td></tr>
<tr><th id="892">892</th><td>    <a class="macro" href="../Include/object.h.html#913" title="return ( _Py_RefTotal++ , ((PyObject *)((&amp;_Py_NoneStruct)))-&gt;ob_refcnt++), (&amp;_Py_NoneStruct)" data-ref="_M/Py_RETURN_NONE">Py_RETURN_NONE</a>;</td></tr>
<tr><th id="893">893</th><td>}</td></tr>
<tr><th id="894">894</th><td></td></tr>
<tr><th id="895">895</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char tzset_doc[] = &quot;tzset()\n\nInitialize, or reinitialize, the local timezone to the value stored in\nos.environ[&apos;TZ&apos;]. The TZ environment variable should be specified in\nstandard Unix timezone format as documented in the tzset man page\n(eg. &apos;US/Eastern&apos;, &apos;Europe/Amsterdam&apos;). Unknown timezones will silently\nfall back to UTC. If the TZ environment variable is not set, the local\ntimezone is set to the systems best guess of wallclock time.\nChanging the TZ environment variable without calling tzset *may* change\nthe local timezone used by methods such as localtime, but this behaviour\nshould not be relied on.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="tzset_doc" title='tzset_doc' data-ref="tzset_doc">tzset_doc</dfn>,</td></tr>
<tr><th id="896">896</th><td><q>"tzset()\n\</q></td></tr>
<tr><th id="897">897</th><td><q>\n\</q></td></tr>
<tr><th id="898">898</th><td><q>Initialize, or reinitialize, the local timezone to the value stored in\n\</q></td></tr>
<tr><th id="899">899</th><td><q>os.environ['TZ']. The TZ environment variable should be specified in\n\</q></td></tr>
<tr><th id="900">900</th><td><q>standard Unix timezone format as documented in the tzset man page\n\</q></td></tr>
<tr><th id="901">901</th><td><q>(eg. 'US/Eastern', 'Europe/Amsterdam'). Unknown timezones will silently\n\</q></td></tr>
<tr><th id="902">902</th><td><q>fall back to UTC. If the TZ environment variable is not set, the local\n\</q></td></tr>
<tr><th id="903">903</th><td><q>timezone is set to the systems best guess of wallclock time.\n\</q></td></tr>
<tr><th id="904">904</th><td><q>Changing the TZ environment variable without calling tzset *may* change\n\</q></td></tr>
<tr><th id="905">905</th><td><q>the local timezone used by methods such as localtime, but this behaviour\n\</q></td></tr>
<tr><th id="906">906</th><td><q>should not be relied on."</q>);</td></tr>
<tr><th id="907">907</th><td><u>#<span data-ppcond="871">endif</span> /* HAVE_WORKING_TZSET */</u></td></tr>
<tr><th id="908">908</th><td></td></tr>
<tr><th id="909">909</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="910">910</th><td><dfn class="tu decl def" id="pymonotonic" title='pymonotonic' data-type='PyObject * pymonotonic(_Py_clock_info_t * info)' data-ref="pymonotonic">pymonotonic</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col9 decl" id="89info" title='info' data-type='_Py_clock_info_t *' data-ref="89info">info</dfn>)</td></tr>
<tr><th id="911">911</th><td>{</td></tr>
<tr><th id="912">912</th><td>    <a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col0 decl" id="90t" title='t' data-type='_PyTime_t' data-ref="90t">t</dfn>;</td></tr>
<tr><th id="913">913</th><td>    <em>double</em> <dfn class="local col1 decl" id="91d" title='d' data-type='double' data-ref="91d">d</dfn>;</td></tr>
<tr><th id="914">914</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_GetMonotonicClockWithInfo" title='_PyTime_GetMonotonicClockWithInfo' data-ref="_PyTime_GetMonotonicClockWithInfo">_PyTime_GetMonotonicClockWithInfo</a>(&amp;<a class="local col0 ref" href="#90t" title='t' data-ref="90t">t</a>, <a class="local col9 ref" href="#89info" title='info' data-ref="89info">info</a>) &lt; <var>0</var>) {</td></tr>
<tr><th id="915">915</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((info != ((void*)0)) ? (void) (0) : __assert_fail (&quot;info != NULL&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 915, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col9 ref" href="#89info" title='info' data-ref="89info">info</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="916">916</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="917">917</th><td>    }</td></tr>
<tr><th id="918">918</th><td>    <a class="local col1 ref" href="#91d" title='d' data-ref="91d">d</a> = <a class="ref" href="../Include/pytime.h.html#_PyTime_AsSecondsDouble" title='_PyTime_AsSecondsDouble' data-ref="_PyTime_AsSecondsDouble">_PyTime_AsSecondsDouble</a>(<a class="local col0 ref" href="#90t" title='t' data-ref="90t">t</a>);</td></tr>
<tr><th id="919">919</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col1 ref" href="#91d" title='d' data-ref="91d">d</a>);</td></tr>
<tr><th id="920">920</th><td>}</td></tr>
<tr><th id="921">921</th><td></td></tr>
<tr><th id="922">922</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="923">923</th><td><dfn class="tu decl def" id="time_monotonic" title='time_monotonic' data-type='PyObject * time_monotonic(PyObject * self, PyObject * unused)' data-ref="time_monotonic">time_monotonic</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="92self" title='self' data-type='PyObject *' data-ref="92self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="93unused" title='unused' data-type='PyObject *' data-ref="93unused">unused</dfn>)</td></tr>
<tr><th id="924">924</th><td>{</td></tr>
<tr><th id="925">925</th><td>    <b>return</b> <a class="tu ref" href="#pymonotonic" title='pymonotonic' data-use='c' data-ref="pymonotonic">pymonotonic</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="926">926</th><td>}</td></tr>
<tr><th id="927">927</th><td></td></tr>
<tr><th id="928">928</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char monotonic_doc[] = &quot;monotonic() -&gt; float\n\nMonotonic clock, cannot go backward.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="monotonic_doc" title='monotonic_doc' data-ref="monotonic_doc">monotonic_doc</dfn>,</td></tr>
<tr><th id="929">929</th><td><q>"monotonic() -&gt; float\n\</q></td></tr>
<tr><th id="930">930</th><td><q>\n\</q></td></tr>
<tr><th id="931">931</th><td><q>Monotonic clock, cannot go backward."</q>);</td></tr>
<tr><th id="932">932</th><td></td></tr>
<tr><th id="933">933</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*</td></tr>
<tr><th id="934">934</th><td><dfn class="tu decl def" id="perf_counter" title='perf_counter' data-type='PyObject * perf_counter(_Py_clock_info_t * info)' data-ref="perf_counter">perf_counter</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col4 decl" id="94info" title='info' data-type='_Py_clock_info_t *' data-ref="94info">info</dfn>)</td></tr>
<tr><th id="935">935</th><td>{</td></tr>
<tr><th id="936">936</th><td><u>#<span data-ppcond="936">ifdef</span> <span class="macro" data-ref="_M/WIN32_PERF_COUNTER">WIN32_PERF_COUNTER</span></u></td></tr>
<tr><th id="937">937</th><td>    <b>return</b> win_perf_counter(info);</td></tr>
<tr><th id="938">938</th><td><u>#<span data-ppcond="936">else</span></u></td></tr>
<tr><th id="939">939</th><td>    <b>return</b> <a class="tu ref" href="#pymonotonic" title='pymonotonic' data-use='c' data-ref="pymonotonic">pymonotonic</a>(<a class="local col4 ref" href="#94info" title='info' data-ref="94info">info</a>);</td></tr>
<tr><th id="940">940</th><td><u>#<span data-ppcond="936">endif</span></u></td></tr>
<tr><th id="941">941</th><td>}</td></tr>
<tr><th id="942">942</th><td></td></tr>
<tr><th id="943">943</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="944">944</th><td><dfn class="tu decl def" id="time_perf_counter" title='time_perf_counter' data-type='PyObject * time_perf_counter(PyObject * self, PyObject * unused)' data-ref="time_perf_counter">time_perf_counter</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="95self" title='self' data-type='PyObject *' data-ref="95self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="96unused" title='unused' data-type='PyObject *' data-ref="96unused">unused</dfn>)</td></tr>
<tr><th id="945">945</th><td>{</td></tr>
<tr><th id="946">946</th><td>    <b>return</b> <a class="tu ref" href="#perf_counter" title='perf_counter' data-use='c' data-ref="perf_counter">perf_counter</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="947">947</th><td>}</td></tr>
<tr><th id="948">948</th><td></td></tr>
<tr><th id="949">949</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char perf_counter_doc[] = &quot;perf_counter() -&gt; float\n\nPerformance counter for benchmarking.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="perf_counter_doc" title='perf_counter_doc' data-ref="perf_counter_doc">perf_counter_doc</dfn>,</td></tr>
<tr><th id="950">950</th><td><q>"perf_counter() -&gt; float\n\</q></td></tr>
<tr><th id="951">951</th><td><q>\n\</q></td></tr>
<tr><th id="952">952</th><td><q>Performance counter for benchmarking."</q>);</td></tr>
<tr><th id="953">953</th><td></td></tr>
<tr><th id="954">954</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*</td></tr>
<tr><th id="955">955</th><td><dfn class="tu decl def" id="py_process_time" title='py_process_time' data-type='PyObject * py_process_time(_Py_clock_info_t * info)' data-ref="py_process_time">py_process_time</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col7 decl" id="97info" title='info' data-type='_Py_clock_info_t *' data-ref="97info">info</dfn>)</td></tr>
<tr><th id="956">956</th><td>{</td></tr>
<tr><th id="957">957</th><td><u>#<span data-ppcond="957">if</span> defined(<span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span>)</u></td></tr>
<tr><th id="958">958</th><td>    HANDLE process;</td></tr>
<tr><th id="959">959</th><td>    FILETIME creation_time, exit_time, kernel_time, user_time;</td></tr>
<tr><th id="960">960</th><td>    ULARGE_INTEGER large;</td></tr>
<tr><th id="961">961</th><td>    <em>double</em> total;</td></tr>
<tr><th id="962">962</th><td>    BOOL ok;</td></tr>
<tr><th id="963">963</th><td></td></tr>
<tr><th id="964">964</th><td>    process = GetCurrentProcess();</td></tr>
<tr><th id="965">965</th><td>    ok = GetProcessTimes(process, &amp;creation_time, &amp;exit_time, &amp;kernel_time, &amp;user_time);</td></tr>
<tr><th id="966">966</th><td>    <b>if</b> (!ok)</td></tr>
<tr><th id="967">967</th><td>        <b>return</b> PyErr_SetFromWindowsErr(<var>0</var>);</td></tr>
<tr><th id="968">968</th><td></td></tr>
<tr><th id="969">969</th><td>    large.u.LowPart = kernel_time.dwLowDateTime;</td></tr>
<tr><th id="970">970</th><td>    large.u.HighPart = kernel_time.dwHighDateTime;</td></tr>
<tr><th id="971">971</th><td>    total = (<em>double</em>)large.QuadPart;</td></tr>
<tr><th id="972">972</th><td>    large.u.LowPart = user_time.dwLowDateTime;</td></tr>
<tr><th id="973">973</th><td>    large.u.HighPart = user_time.dwHighDateTime;</td></tr>
<tr><th id="974">974</th><td>    total += (<em>double</em>)large.QuadPart;</td></tr>
<tr><th id="975">975</th><td>    <b>if</b> (info) {</td></tr>
<tr><th id="976">976</th><td>        info-&gt;implementation = <q>"GetProcessTimes()"</q>;</td></tr>
<tr><th id="977">977</th><td>        info-&gt;resolution = <var>1e-7</var>;</td></tr>
<tr><th id="978">978</th><td>        info-&gt;monotonic = <var>1</var>;</td></tr>
<tr><th id="979">979</th><td>        info-&gt;adjustable = <var>0</var>;</td></tr>
<tr><th id="980">980</th><td>    }</td></tr>
<tr><th id="981">981</th><td>    <b>return</b> PyFloat_FromDouble(total * <var>1e-7</var>);</td></tr>
<tr><th id="982">982</th><td><u>#<span data-ppcond="957">else</span></u></td></tr>
<tr><th id="983">983</th><td></td></tr>
<tr><th id="984">984</th><td><u>#<span data-ppcond="984">if</span> defined(<a class="macro" href="../pyconfig.h.html#1038" data-ref="_M/HAVE_SYS_RESOURCE_H">HAVE_SYS_RESOURCE_H</a>)</u></td></tr>
<tr><th id="985">985</th><td>    <b>struct</b> <a class="type" href="../../include/x86_64-linux-gnu/bits/resource.h.html#rusage" title='rusage' data-ref="rusage">rusage</a> <dfn class="local col8 decl" id="98ru" title='ru' data-type='struct rusage' data-ref="98ru">ru</dfn>;</td></tr>
<tr><th id="986">986</th><td><u>#<span data-ppcond="984">endif</span></u></td></tr>
<tr><th id="987">987</th><td><u>#<span data-ppcond="987">ifdef</span> <a class="macro" href="../pyconfig.h.html#1110" data-ref="_M/HAVE_TIMES">HAVE_TIMES</a></u></td></tr>
<tr><th id="988">988</th><td>    <b>struct</b> <a class="type" href="../../include/x86_64-linux-gnu/sys/times.h.html#tms" title='tms' data-ref="tms">tms</a> <dfn class="local col9 decl" id="99t" title='t' data-type='struct tms' data-ref="99t">t</dfn>;</td></tr>
<tr><th id="989">989</th><td>    <em>static</em> <em>long</em> <dfn class="local col0 decl" id="100ticks_per_second" title='ticks_per_second' data-type='long' data-ref="100ticks_per_second">ticks_per_second</dfn> = -<var>1</var>;</td></tr>
<tr><th id="990">990</th><td><u>#<span data-ppcond="987">endif</span></u></td></tr>
<tr><th id="991">991</th><td></td></tr>
<tr><th id="992">992</th><td><u>#<span data-ppcond="992">if</span> defined(<a class="macro" href="../pyconfig.h.html#127" data-ref="_M/HAVE_CLOCK_GETTIME">HAVE_CLOCK_GETTIME</a>) \</u></td></tr>
<tr><th id="993">993</th><td><u>    &amp;&amp; (defined(<a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#65" data-ref="_M/CLOCK_PROCESS_CPUTIME_ID">CLOCK_PROCESS_CPUTIME_ID</a>) || defined(<span class="macro" data-ref="_M/CLOCK_PROF">CLOCK_PROF</span>))</u></td></tr>
<tr><th id="994">994</th><td>    <b>struct</b> <a class="type" href="../../include/time.h.html#timespec" title='timespec' data-ref="timespec">timespec</a> <dfn class="local col1 decl" id="101tp" title='tp' data-type='struct timespec' data-ref="101tp">tp</dfn>;</td></tr>
<tr><th id="995">995</th><td><u>#<span data-ppcond="995">ifdef</span> <span class="macro" data-ref="_M/CLOCK_PROF">CLOCK_PROF</span></u></td></tr>
<tr><th id="996">996</th><td>    <em>const</em> clockid_t clk_id = CLOCK_PROF;</td></tr>
<tr><th id="997">997</th><td>    <em>const</em> <em>char</em> *function = <q>"clock_gettime(CLOCK_PROF)"</q>;</td></tr>
<tr><th id="998">998</th><td><u>#<span data-ppcond="995">else</span></u></td></tr>
<tr><th id="999">999</th><td>    <em>const</em> <a class="typedef" href="../../include/time.h.html#clockid_t" title='clockid_t' data-type='__clockid_t' data-ref="clockid_t">clockid_t</a> <dfn class="local col2 decl" id="102clk_id" title='clk_id' data-type='const clockid_t' data-ref="102clk_id">clk_id</dfn> = <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#65" title="2" data-ref="_M/CLOCK_PROCESS_CPUTIME_ID">CLOCK_PROCESS_CPUTIME_ID</a>;</td></tr>
<tr><th id="1000">1000</th><td>    <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="103function" title='function' data-type='const char *' data-ref="103function">function</dfn> = <q>"clock_gettime(CLOCK_PROCESS_CPUTIME_ID)"</q>;</td></tr>
<tr><th id="1001">1001</th><td><u>#<span data-ppcond="995">endif</span></u></td></tr>
<tr><th id="1002">1002</th><td></td></tr>
<tr><th id="1003">1003</th><td>    <b>if</b> (<a class="ref" href="../../include/time.h.html#clock_gettime" title='clock_gettime' data-ref="clock_gettime">clock_gettime</a>(<a class="local col2 ref" href="#102clk_id" title='clk_id' data-ref="102clk_id">clk_id</a>, &amp;<a class="local col1 ref" href="#101tp" title='tp' data-ref="101tp">tp</a>) == <var>0</var>) {</td></tr>
<tr><th id="1004">1004</th><td>        <b>if</b> (<a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>) {</td></tr>
<tr><th id="1005">1005</th><td>            <b>struct</b> <a class="type" href="../../include/time.h.html#timespec" title='timespec' data-ref="timespec">timespec</a> <dfn class="local col4 decl" id="104res" title='res' data-type='struct timespec' data-ref="104res">res</dfn>;</td></tr>
<tr><th id="1006">1006</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> = <a class="local col3 ref" href="#103function" title='function' data-ref="103function">function</a>;</td></tr>
<tr><th id="1007">1007</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> = <var>1</var>;</td></tr>
<tr><th id="1008">1008</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> = <var>0</var>;</td></tr>
<tr><th id="1009">1009</th><td>            <b>if</b> (<a class="ref" href="../../include/time.h.html#clock_getres" title='clock_getres' data-ref="clock_getres">clock_getres</a>(<a class="local col2 ref" href="#102clk_id" title='clk_id' data-ref="102clk_id">clk_id</a>, &amp;<a class="local col4 ref" href="#104res" title='res' data-ref="104res">res</a>) == <var>0</var>)</td></tr>
<tr><th id="1010">1010</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = <a class="local col4 ref" href="#104res" title='res' data-ref="104res">res</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_sec" title='timespec::tv_sec' data-ref="timespec::tv_sec">tv_sec</a> + <a class="local col4 ref" href="#104res" title='res' data-ref="104res">res</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_nsec" title='timespec::tv_nsec' data-ref="timespec::tv_nsec">tv_nsec</a> * <var>1e-9</var>;</td></tr>
<tr><th id="1011">1011</th><td>            <b>else</b></td></tr>
<tr><th id="1012">1012</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = <var>1e-9</var>;</td></tr>
<tr><th id="1013">1013</th><td>        }</td></tr>
<tr><th id="1014">1014</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col1 ref" href="#101tp" title='tp' data-ref="101tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_sec" title='timespec::tv_sec' data-ref="timespec::tv_sec">tv_sec</a> + <a class="local col1 ref" href="#101tp" title='tp' data-ref="101tp">tp</a>.<a class="ref" href="../../include/time.h.html#timespec::tv_nsec" title='timespec::tv_nsec' data-ref="timespec::tv_nsec">tv_nsec</a> * <var>1e-9</var>);</td></tr>
<tr><th id="1015">1015</th><td>    }</td></tr>
<tr><th id="1016">1016</th><td><u>#<span data-ppcond="992">endif</span></u></td></tr>
<tr><th id="1017">1017</th><td></td></tr>
<tr><th id="1018">1018</th><td><u>#<span data-ppcond="1018">if</span> defined(<a class="macro" href="../pyconfig.h.html#1038" data-ref="_M/HAVE_SYS_RESOURCE_H">HAVE_SYS_RESOURCE_H</a>)</u></td></tr>
<tr><th id="1019">1019</th><td>    <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/sys/resource.h.html#getrusage" title='getrusage' data-ref="getrusage">getrusage</a>(<a class="macro" href="../../include/x86_64-linux-gnu/bits/resource.h.html#162" title="RUSAGE_SELF" data-ref="_M/RUSAGE_SELF">RUSAGE_SELF</a>, &amp;<a class="local col8 ref" href="#98ru" title='ru' data-ref="98ru">ru</a>) == <var>0</var>) {</td></tr>
<tr><th id="1020">1020</th><td>        <em>double</em> <dfn class="local col5 decl" id="105total" title='total' data-type='double' data-ref="105total">total</dfn>;</td></tr>
<tr><th id="1021">1021</th><td>        <a class="local col5 ref" href="#105total" title='total' data-ref="105total">total</a> = <a class="local col8 ref" href="#98ru" title='ru' data-ref="98ru">ru</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/resource.h.html#rusage::ru_utime" title='rusage::ru_utime' data-ref="rusage::ru_utime">ru_utime</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/time.h.html#timeval::tv_sec" title='timeval::tv_sec' data-ref="timeval::tv_sec">tv_sec</a> + <a class="local col8 ref" href="#98ru" title='ru' data-ref="98ru">ru</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/resource.h.html#rusage::ru_utime" title='rusage::ru_utime' data-ref="rusage::ru_utime">ru_utime</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/time.h.html#timeval::tv_usec" title='timeval::tv_usec' data-ref="timeval::tv_usec">tv_usec</a> * <var>1e-6</var>;</td></tr>
<tr><th id="1022">1022</th><td>        <a class="local col5 ref" href="#105total" title='total' data-ref="105total">total</a> += <a class="local col8 ref" href="#98ru" title='ru' data-ref="98ru">ru</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/resource.h.html#rusage::ru_stime" title='rusage::ru_stime' data-ref="rusage::ru_stime">ru_stime</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/time.h.html#timeval::tv_sec" title='timeval::tv_sec' data-ref="timeval::tv_sec">tv_sec</a> + <a class="local col8 ref" href="#98ru" title='ru' data-ref="98ru">ru</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/resource.h.html#rusage::ru_stime" title='rusage::ru_stime' data-ref="rusage::ru_stime">ru_stime</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/time.h.html#timeval::tv_usec" title='timeval::tv_usec' data-ref="timeval::tv_usec">tv_usec</a> * <var>1e-6</var>;</td></tr>
<tr><th id="1023">1023</th><td>        <b>if</b> (<a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>) {</td></tr>
<tr><th id="1024">1024</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> = <q>"getrusage(RUSAGE_SELF)"</q>;</td></tr>
<tr><th id="1025">1025</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> = <var>1</var>;</td></tr>
<tr><th id="1026">1026</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> = <var>0</var>;</td></tr>
<tr><th id="1027">1027</th><td>            <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = <var>1e-6</var>;</td></tr>
<tr><th id="1028">1028</th><td>        }</td></tr>
<tr><th id="1029">1029</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col5 ref" href="#105total" title='total' data-ref="105total">total</a>);</td></tr>
<tr><th id="1030">1030</th><td>    }</td></tr>
<tr><th id="1031">1031</th><td><u>#<span data-ppcond="1018">endif</span></u></td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td><u>#<span data-ppcond="1033">ifdef</span> <a class="macro" href="../pyconfig.h.html#1110" data-ref="_M/HAVE_TIMES">HAVE_TIMES</a></u></td></tr>
<tr><th id="1034">1034</th><td>    <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/sys/times.h.html#times" title='times' data-ref="times">times</a>(&amp;<a class="local col9 ref" href="#99t" title='t' data-ref="99t">t</a>) != (<a class="typedef" href="../../include/time.h.html#clock_t" title='clock_t' data-type='__clock_t' data-ref="clock_t">clock_t</a>)-<var>1</var>) {</td></tr>
<tr><th id="1035">1035</th><td>        <em>double</em> <dfn class="local col6 decl" id="106total" title='total' data-type='double' data-ref="106total">total</dfn>;</td></tr>
<tr><th id="1036">1036</th><td></td></tr>
<tr><th id="1037">1037</th><td>        <b>if</b> (<a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a> == -<var>1</var>) {</td></tr>
<tr><th id="1038">1038</th><td><u>#<span data-ppcond="1038">if</span> defined(<a class="macro" href="../pyconfig.h.html#976" data-ref="_M/HAVE_SYSCONF">HAVE_SYSCONF</a>) &amp;&amp; defined(<a class="macro" href="../../include/x86_64-linux-gnu/bits/confname.h.html#78" data-ref="_M/_SC_CLK_TCK">_SC_CLK_TCK</a>)</u></td></tr>
<tr><th id="1039">1039</th><td>            <a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a> = <a class="ref" href="../../include/unistd.h.html#sysconf" title='sysconf' data-ref="sysconf">sysconf</a>(<a class="macro" href="../../include/x86_64-linux-gnu/bits/confname.h.html#78" title="_SC_CLK_TCK" data-ref="_M/_SC_CLK_TCK">_SC_CLK_TCK</a>);</td></tr>
<tr><th id="1040">1040</th><td>            <b>if</b> (<a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a> &lt; <var>1</var>)</td></tr>
<tr><th id="1041">1041</th><td>                <a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a> = -<var>1</var>;</td></tr>
<tr><th id="1042">1042</th><td><u>#<span data-ppcond="1038">elif</span> defined(HZ)</u></td></tr>
<tr><th id="1043">1043</th><td>            ticks_per_second = HZ;</td></tr>
<tr><th id="1044">1044</th><td><u>#else</u></td></tr>
<tr><th id="1045">1045</th><td>            ticks_per_second = <var>60</var>; <i>/* magic fallback value; may be bogus */</i></td></tr>
<tr><th id="1046">1046</th><td><u>#<span data-ppcond="1038">endif</span></u></td></tr>
<tr><th id="1047">1047</th><td>        }</td></tr>
<tr><th id="1048">1048</th><td></td></tr>
<tr><th id="1049">1049</th><td>        <b>if</b> (<a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a> != -<var>1</var>) {</td></tr>
<tr><th id="1050">1050</th><td>            <a class="local col6 ref" href="#106total" title='total' data-ref="106total">total</a> = (<em>double</em>)<a class="local col9 ref" href="#99t" title='t' data-ref="99t">t</a>.<a class="ref" href="../../include/x86_64-linux-gnu/sys/times.h.html#tms::tms_utime" title='tms::tms_utime' data-ref="tms::tms_utime">tms_utime</a> / <a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a>;</td></tr>
<tr><th id="1051">1051</th><td>            <a class="local col6 ref" href="#106total" title='total' data-ref="106total">total</a> += (<em>double</em>)<a class="local col9 ref" href="#99t" title='t' data-ref="99t">t</a>.<a class="ref" href="../../include/x86_64-linux-gnu/sys/times.h.html#tms::tms_stime" title='tms::tms_stime' data-ref="tms::tms_stime">tms_stime</a> / <a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a>;</td></tr>
<tr><th id="1052">1052</th><td>            <b>if</b> (<a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>) {</td></tr>
<tr><th id="1053">1053</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> = <q>"times()"</q>;</td></tr>
<tr><th id="1054">1054</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> = <var>1</var>;</td></tr>
<tr><th id="1055">1055</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> = <var>0</var>;</td></tr>
<tr><th id="1056">1056</th><td>                <a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>-&gt;<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = <var>1.0</var> / <a class="local col0 ref" href="#100ticks_per_second" title='ticks_per_second' data-ref="100ticks_per_second">ticks_per_second</a>;</td></tr>
<tr><th id="1057">1057</th><td>            }</td></tr>
<tr><th id="1058">1058</th><td>            <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col6 ref" href="#106total" title='total' data-ref="106total">total</a>);</td></tr>
<tr><th id="1059">1059</th><td>        }</td></tr>
<tr><th id="1060">1060</th><td>    }</td></tr>
<tr><th id="1061">1061</th><td><u>#<span data-ppcond="1033">endif</span></u></td></tr>
<tr><th id="1062">1062</th><td></td></tr>
<tr><th id="1063">1063</th><td>    <i>/* Currently, Python 3 requires clock() to build: see issue #22624 */</i></td></tr>
<tr><th id="1064">1064</th><td>    <b>return</b> <a class="tu ref" href="#floatclock" title='floatclock' data-use='c' data-ref="floatclock">floatclock</a>(<a class="local col7 ref" href="#97info" title='info' data-ref="97info">info</a>);</td></tr>
<tr><th id="1065">1065</th><td><u>#<span data-ppcond="957">endif</span></u></td></tr>
<tr><th id="1066">1066</th><td>}</td></tr>
<tr><th id="1067">1067</th><td></td></tr>
<tr><th id="1068">1068</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1069">1069</th><td><dfn class="tu decl def" id="time_process_time" title='time_process_time' data-type='PyObject * time_process_time(PyObject * self, PyObject * unused)' data-ref="time_process_time">time_process_time</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="107self" title='self' data-type='PyObject *' data-ref="107self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="108unused" title='unused' data-type='PyObject *' data-ref="108unused">unused</dfn>)</td></tr>
<tr><th id="1070">1070</th><td>{</td></tr>
<tr><th id="1071">1071</th><td>    <b>return</b> <a class="tu ref" href="#py_process_time" title='py_process_time' data-use='c' data-ref="py_process_time">py_process_time</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1072">1072</th><td>}</td></tr>
<tr><th id="1073">1073</th><td></td></tr>
<tr><th id="1074">1074</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char process_time_doc[] = &quot;process_time() -&gt; float\n\nProcess time for profiling: sum of the kernel and user-space CPU time.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="process_time_doc" title='process_time_doc' data-ref="process_time_doc">process_time_doc</dfn>,</td></tr>
<tr><th id="1075">1075</th><td><q>"process_time() -&gt; float\n\</q></td></tr>
<tr><th id="1076">1076</th><td><q>\n\</q></td></tr>
<tr><th id="1077">1077</th><td><q>Process time for profiling: sum of the kernel and user-space CPU time."</q>);</td></tr>
<tr><th id="1078">1078</th><td></td></tr>
<tr><th id="1079">1079</th><td></td></tr>
<tr><th id="1080">1080</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1081">1081</th><td><dfn class="tu decl def" id="time_get_clock_info" title='time_get_clock_info' data-type='PyObject * time_get_clock_info(PyObject * self, PyObject * args)' data-ref="time_get_clock_info">time_get_clock_info</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="109self" title='self' data-type='PyObject *' data-ref="109self">self</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="110args" title='args' data-type='PyObject *' data-ref="110args">args</dfn>)</td></tr>
<tr><th id="1082">1082</th><td>{</td></tr>
<tr><th id="1083">1083</th><td>    <em>char</em> *<dfn class="local col1 decl" id="111name" title='name' data-type='char *' data-ref="111name">name</dfn>;</td></tr>
<tr><th id="1084">1084</th><td>    <a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> <dfn class="local col2 decl" id="112info" title='info' data-type='_Py_clock_info_t' data-ref="112info">info</dfn>;</td></tr>
<tr><th id="1085">1085</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="113obj" title='obj' data-type='PyObject *' data-ref="113obj">obj</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, *<dfn class="local col4 decl" id="114dict" title='dict' data-type='PyObject *' data-ref="114dict">dict</dfn>, *<dfn class="local col5 decl" id="115ns" title='ns' data-type='PyObject *' data-ref="115ns">ns</dfn>;</td></tr>
<tr><th id="1086">1086</th><td></td></tr>
<tr><th id="1087">1087</th><td>    <b>if</b> (!<a class="ref" href="../Include/modsupport.h.html#PyArg_ParseTuple" title='PyArg_ParseTuple' data-ref="PyArg_ParseTuple">PyArg_ParseTuple</a>(<a class="local col0 ref" href="#110args" title='args' data-ref="110args">args</a>, <q>"s:get_clock_info"</q>, &amp;<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>))</td></tr>
<tr><th id="1088">1088</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1089">1089</th><td></td></tr>
<tr><th id="1090">1090</th><td><u>#<span data-ppcond="1090">ifdef</span> <a class="macro" href="../pyconfig.h.html#1255" data-ref="_M/Py_DEBUG">Py_DEBUG</a></u></td></tr>
<tr><th id="1091">1091</th><td>    <a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1092">1092</th><td>    <a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> = -<var>1</var>;</td></tr>
<tr><th id="1093">1093</th><td>    <a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> = -<var>1</var>;</td></tr>
<tr><th id="1094">1094</th><td>    <a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> = -<var>1.0</var>;</td></tr>
<tr><th id="1095">1095</th><td><u>#<span data-ppcond="1090">else</span></u></td></tr>
<tr><th id="1096">1096</th><td>    info.implementation = <q>""</q>;</td></tr>
<tr><th id="1097">1097</th><td>    info.monotonic = <var>0</var>;</td></tr>
<tr><th id="1098">1098</th><td>    info.adjustable = <var>0</var>;</td></tr>
<tr><th id="1099">1099</th><td>    info.resolution = <var>1.0</var>;</td></tr>
<tr><th id="1100">1100</th><td><u>#<span data-ppcond="1090">endif</span></u></td></tr>
<tr><th id="1101">1101</th><td></td></tr>
<tr><th id="1102">1102</th><td>    <b>if</b> (<a class="ref" href="../../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp">strcmp</a>(<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>, <q>"time"</q>) == <var>0</var>)</td></tr>
<tr><th id="1103">1103</th><td>        <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="tu ref" href="#floattime" title='floattime' data-use='c' data-ref="floattime">floattime</a>(&amp;<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>);</td></tr>
<tr><th id="1104">1104</th><td><u>#<span data-ppcond="1104">ifdef</span> <a class="macro" href="#115" data-ref="_M/PYCLOCK">PYCLOCK</a></u></td></tr>
<tr><th id="1105">1105</th><td>    <b>else</b> <b>if</b> (<a class="ref" href="../../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp">strcmp</a>(<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>, <q>"clock"</q>) == <var>0</var>)</td></tr>
<tr><th id="1106">1106</th><td>        <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="tu ref" href="#pyclock" title='pyclock' data-use='c' data-ref="pyclock">pyclock</a>(&amp;<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>);</td></tr>
<tr><th id="1107">1107</th><td><u>#<span data-ppcond="1104">endif</span></u></td></tr>
<tr><th id="1108">1108</th><td>    <b>else</b> <b>if</b> (<a class="ref" href="../../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp">strcmp</a>(<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>, <q>"monotonic"</q>) == <var>0</var>)</td></tr>
<tr><th id="1109">1109</th><td>        <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="tu ref" href="#pymonotonic" title='pymonotonic' data-use='c' data-ref="pymonotonic">pymonotonic</a>(&amp;<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>);</td></tr>
<tr><th id="1110">1110</th><td>    <b>else</b> <b>if</b> (<a class="ref" href="../../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp">strcmp</a>(<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>, <q>"perf_counter"</q>) == <var>0</var>)</td></tr>
<tr><th id="1111">1111</th><td>        <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="tu ref" href="#perf_counter" title='perf_counter' data-use='c' data-ref="perf_counter">perf_counter</a>(&amp;<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>);</td></tr>
<tr><th id="1112">1112</th><td>    <b>else</b> <b>if</b> (<a class="ref" href="../../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp">strcmp</a>(<a class="local col1 ref" href="#111name" title='name' data-ref="111name">name</a>, <q>"process_time"</q>) == <var>0</var>)</td></tr>
<tr><th id="1113">1113</th><td>        <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="tu ref" href="#py_process_time" title='py_process_time' data-use='c' data-ref="py_process_time">py_process_time</a>(&amp;<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>);</td></tr>
<tr><th id="1114">1114</th><td>    <b>else</b> {</td></tr>
<tr><th id="1115">1115</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"unknown clock"</q>);</td></tr>
<tr><th id="1116">1116</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1117">1117</th><td>    }</td></tr>
<tr><th id="1118">1118</th><td>    <b>if</b> (<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1119">1119</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1120">1120</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(obj); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1120, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1121">1121</th><td></td></tr>
<tr><th id="1122">1122</th><td>    <a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a> = <a class="ref" href="../Include/dictobject.h.html#PyDict_New" title='PyDict_New' data-ref="PyDict_New">PyDict_New</a>();</td></tr>
<tr><th id="1123">1123</th><td>    <b>if</b> (<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1124">1124</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1125">1125</th><td></td></tr>
<tr><th id="1126">1126</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((info.implementation != ((void*)0)) ? (void) (0) : __assert_fail (&quot;info.implementation != NULL&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1126, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1127">1127</th><td>    <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_FromString" title='PyUnicode_FromString' data-ref="PyUnicode_FromString">PyUnicode_FromString</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::implementation" title='(anonymous struct)::implementation' data-ref="(anonymous)::implementation">implementation</a>);</td></tr>
<tr><th id="1128">1128</th><td>    <b>if</b> (<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1129">1129</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1130">1130</th><td>    <b>if</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_SetItemString" title='PyDict_SetItemString' data-ref="PyDict_SetItemString">PyDict_SetItemString</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>, <q>"implementation"</q>, <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>) == -<var>1</var>)</td></tr>
<tr><th id="1131">1131</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1132">1132</th><td>    <a class="macro" href="../Include/object.h.html#831" title="do { PyObject *_py_tmp = (PyObject *)(obj); if (_py_tmp != ((void*)0)) { (obj) = ((void*)0); do { PyObject *_py_decref_tmp = (PyObject *)(_py_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1132, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1133">1133</th><td></td></tr>
<tr><th id="1134">1134</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((info.monotonic != -1) ? (void) (0) : __assert_fail (&quot;info.monotonic != -1&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1134, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a> != -<var>1</var>);</td></tr>
<tr><th id="1135">1135</th><td>    <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="ref" href="../Include/boolobject.h.html#PyBool_FromLong" title='PyBool_FromLong' data-ref="PyBool_FromLong">PyBool_FromLong</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::monotonic" title='(anonymous struct)::monotonic' data-ref="(anonymous)::monotonic">monotonic</a>);</td></tr>
<tr><th id="1136">1136</th><td>    <b>if</b> (<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1137">1137</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1138">1138</th><td>    <b>if</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_SetItemString" title='PyDict_SetItemString' data-ref="PyDict_SetItemString">PyDict_SetItemString</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>, <q>"monotonic"</q>, <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>) == -<var>1</var>)</td></tr>
<tr><th id="1139">1139</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1140">1140</th><td>    <a class="macro" href="../Include/object.h.html#831" title="do { PyObject *_py_tmp = (PyObject *)(obj); if (_py_tmp != ((void*)0)) { (obj) = ((void*)0); do { PyObject *_py_decref_tmp = (PyObject *)(_py_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1140, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1141">1141</th><td></td></tr>
<tr><th id="1142">1142</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((info.adjustable != -1) ? (void) (0) : __assert_fail (&quot;info.adjustable != -1&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1142, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a> != -<var>1</var>);</td></tr>
<tr><th id="1143">1143</th><td>    <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="ref" href="../Include/boolobject.h.html#PyBool_FromLong" title='PyBool_FromLong' data-ref="PyBool_FromLong">PyBool_FromLong</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::adjustable" title='(anonymous struct)::adjustable' data-ref="(anonymous)::adjustable">adjustable</a>);</td></tr>
<tr><th id="1144">1144</th><td>    <b>if</b> (<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1145">1145</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1146">1146</th><td>    <b>if</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_SetItemString" title='PyDict_SetItemString' data-ref="PyDict_SetItemString">PyDict_SetItemString</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>, <q>"adjustable"</q>, <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>) == -<var>1</var>)</td></tr>
<tr><th id="1147">1147</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1148">1148</th><td>    <a class="macro" href="../Include/object.h.html#831" title="do { PyObject *_py_tmp = (PyObject *)(obj); if (_py_tmp != ((void*)0)) { (obj) = ((void*)0); do { PyObject *_py_decref_tmp = (PyObject *)(_py_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1148, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1149">1149</th><td></td></tr>
<tr><th id="1150">1150</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((info.resolution &gt; 0.0) ? (void) (0) : __assert_fail (&quot;info.resolution &gt; 0.0&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1150, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> &gt; <var>0.0</var>);</td></tr>
<tr><th id="1151">1151</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((info.resolution &lt;= 1.0) ? (void) (0) : __assert_fail (&quot;info.resolution &lt;= 1.0&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1151, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a> &lt;= <var>1.0</var>);</td></tr>
<tr><th id="1152">1152</th><td>    <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col2 ref" href="#112info" title='info' data-ref="112info">info</a>.<a class="ref" href="../Include/pytime.h.html#(anonymous)::resolution" title='(anonymous struct)::resolution' data-ref="(anonymous)::resolution">resolution</a>);</td></tr>
<tr><th id="1153">1153</th><td>    <b>if</b> (<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1154">1154</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1155">1155</th><td>    <b>if</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_SetItemString" title='PyDict_SetItemString' data-ref="PyDict_SetItemString">PyDict_SetItemString</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>, <q>"resolution"</q>, <a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>) == -<var>1</var>)</td></tr>
<tr><th id="1156">1156</th><td>        <b>goto</b> <a class="lbl" href="#116error" data-ref="116error">error</a>;</td></tr>
<tr><th id="1157">1157</th><td>    <a class="macro" href="../Include/object.h.html#831" title="do { PyObject *_py_tmp = (PyObject *)(obj); if (_py_tmp != ((void*)0)) { (obj) = ((void*)0); do { PyObject *_py_decref_tmp = (PyObject *)(_py_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1157, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1158">1158</th><td></td></tr>
<tr><th id="1159">1159</th><td>    <a class="local col5 ref" href="#115ns" title='ns' data-ref="115ns">ns</a> = <a class="ref" href="../Include/namespaceobject.h.html#_PyNamespace_New" title='_PyNamespace_New' data-ref="_PyNamespace_New">_PyNamespace_New</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>);</td></tr>
<tr><th id="1160">1160</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(dict); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1160, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>);</td></tr>
<tr><th id="1161">1161</th><td>    <b>return</b> <a class="local col5 ref" href="#115ns" title='ns' data-ref="115ns">ns</a>;</td></tr>
<tr><th id="1162">1162</th><td></td></tr>
<tr><th id="1163">1163</th><td><dfn class="lbl" id="116error" data-ref="116error">error</dfn>:</td></tr>
<tr><th id="1164">1164</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(dict); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1164, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#114dict" title='dict' data-ref="114dict">dict</a>);</td></tr>
<tr><th id="1165">1165</th><td>    <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(obj); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1165, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col3 ref" href="#113obj" title='obj' data-ref="113obj">obj</a>);</td></tr>
<tr><th id="1166">1166</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1167">1167</th><td>}</td></tr>
<tr><th id="1168">1168</th><td></td></tr>
<tr><th id="1169">1169</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char get_clock_info_doc[] = &quot;get_clock_info(name: str) -&gt; dict\n\nGet information of the specified clock.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="get_clock_info_doc" title='get_clock_info_doc' data-ref="get_clock_info_doc">get_clock_info_doc</dfn>,</td></tr>
<tr><th id="1170">1170</th><td><q>"get_clock_info(name: str) -&gt; dict\n\</q></td></tr>
<tr><th id="1171">1171</th><td><q>\n\</q></td></tr>
<tr><th id="1172">1172</th><td><q>Get information of the specified clock."</q>);</td></tr>
<tr><th id="1173">1173</th><td></td></tr>
<tr><th id="1174">1174</th><td><u>#<span data-ppcond="1174">if</span> !defined(<span class="macro" data-ref="_M/HAVE_TZNAME">HAVE_TZNAME</span>) || defined(<a class="macro" href="../../include/features.h.html#358" data-ref="_M/__GLIBC__">__GLIBC__</a>) || defined(<span class="macro" data-ref="_M/__CYGWIN__">__CYGWIN__</span>)</u></td></tr>
<tr><th id="1175">1175</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1176">1176</th><td><dfn class="tu decl def" id="get_zone" title='get_zone' data-type='void get_zone(char * zone, int n, struct tm * p)' data-ref="get_zone">get_zone</dfn>(<em>char</em> *<dfn class="local col7 decl" id="117zone" title='zone' data-type='char *' data-ref="117zone">zone</dfn>, <em>int</em> <dfn class="local col8 decl" id="118n" title='n' data-type='int' data-ref="118n">n</dfn>, <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> *<dfn class="local col9 decl" id="119p" title='p' data-type='struct tm *' data-ref="119p">p</dfn>)</td></tr>
<tr><th id="1177">1177</th><td>{</td></tr>
<tr><th id="1178">1178</th><td><u>#<span data-ppcond="1178">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="1179">1179</th><td>    <a class="ref" href="../../include/string.h.html#strncpy" title='strncpy' data-ref="strncpy">strncpy</a>(<a class="local col7 ref" href="#117zone" title='zone' data-ref="117zone">zone</a>, <a class="local col9 ref" href="#119p" title='p' data-ref="119p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_zone" title='tm::tm_zone' data-ref="tm::tm_zone">tm_zone</a> ? <a class="local col9 ref" href="#119p" title='p' data-ref="119p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_zone" title='tm::tm_zone' data-ref="tm::tm_zone">tm_zone</a> : <q>"   "</q>, <a class="local col8 ref" href="#118n" title='n' data-ref="118n">n</a>);</td></tr>
<tr><th id="1180">1180</th><td><u>#<span data-ppcond="1178">else</span></u></td></tr>
<tr><th id="1181">1181</th><td>    tzset();</td></tr>
<tr><th id="1182">1182</th><td>    strftime(zone, n, <q>"%Z"</q>, p);</td></tr>
<tr><th id="1183">1183</th><td><u>#<span data-ppcond="1178">endif</span></u></td></tr>
<tr><th id="1184">1184</th><td>}</td></tr>
<tr><th id="1185">1185</th><td></td></tr>
<tr><th id="1186">1186</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1187">1187</th><td><dfn class="tu decl def" id="get_gmtoff" title='get_gmtoff' data-type='int get_gmtoff(time_t t, struct tm * p)' data-ref="get_gmtoff">get_gmtoff</dfn>(<a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col0 decl" id="120t" title='t' data-type='time_t' data-ref="120t">t</dfn>, <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> *<dfn class="local col1 decl" id="121p" title='p' data-type='struct tm *' data-ref="121p">p</dfn>)</td></tr>
<tr><th id="1188">1188</th><td>{</td></tr>
<tr><th id="1189">1189</th><td><u>#<span data-ppcond="1189">ifdef</span> <a class="macro" href="../pyconfig.h.html#964" data-ref="_M/HAVE_STRUCT_TM_TM_ZONE">HAVE_STRUCT_TM_TM_ZONE</a></u></td></tr>
<tr><th id="1190">1190</th><td>    <b>return</b> <a class="local col1 ref" href="#121p" title='p' data-ref="121p">p</a>-&gt;<a class="ref" href="../../include/time.h.html#tm::tm_gmtoff" title='tm::tm_gmtoff' data-ref="tm::tm_gmtoff">tm_gmtoff</a>;</td></tr>
<tr><th id="1191">1191</th><td><u>#<span data-ppcond="1189">else</span></u></td></tr>
<tr><th id="1192">1192</th><td>    <b>return</b> timegm(p) - t;</td></tr>
<tr><th id="1193">1193</th><td><u>#<span data-ppcond="1189">endif</span></u></td></tr>
<tr><th id="1194">1194</th><td>}</td></tr>
<tr><th id="1195">1195</th><td><u>#<span data-ppcond="1174">endif</span> /* !defined(HAVE_TZNAME) || defined(__GLIBC__) || defined(__CYGWIN__) */</u></td></tr>
<tr><th id="1196">1196</th><td></td></tr>
<tr><th id="1197">1197</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1198">1198</th><td><dfn class="tu decl def" id="PyInit_timezone" title='PyInit_timezone' data-type='void PyInit_timezone(PyObject * m)' data-ref="PyInit_timezone">PyInit_timezone</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="122m" title='m' data-type='PyObject *' data-ref="122m">m</dfn>) {</td></tr>
<tr><th id="1199">1199</th><td>    <i>/* This code moved from PyInit_time wholesale to allow calling it from</i></td></tr>
<tr><th id="1200">1200</th><td><i>    time_tzset. In the future, some parts of it can be moved back</i></td></tr>
<tr><th id="1201">1201</th><td><i>    (for platforms that don't HAVE_WORKING_TZSET, when we know what they</i></td></tr>
<tr><th id="1202">1202</th><td><i>    are), and the extraneous calls to tzset(3) should be removed.</i></td></tr>
<tr><th id="1203">1203</th><td><i>    I haven't done this yet, as I don't want to change this code as</i></td></tr>
<tr><th id="1204">1204</th><td><i>    little as possible when introducing the time.tzset and time.tzsetwall</i></td></tr>
<tr><th id="1205">1205</th><td><i>    methods. This should simply be a method of doing the following once,</i></td></tr>
<tr><th id="1206">1206</th><td><i>    at the top of this function and removing the call to tzset() from</i></td></tr>
<tr><th id="1207">1207</th><td><i>    time_tzset():</i></td></tr>
<tr><th id="1208">1208</th><td><i></i></td></tr>
<tr><th id="1209">1209</th><td><i>        #ifdef HAVE_TZSET</i></td></tr>
<tr><th id="1210">1210</th><td><i>        tzset()</i></td></tr>
<tr><th id="1211">1211</th><td><i>        #endif</i></td></tr>
<tr><th id="1212">1212</th><td><i></i></td></tr>
<tr><th id="1213">1213</th><td><i>    And I'm lazy and hate C so nyer.</i></td></tr>
<tr><th id="1214">1214</th><td><i>     */</i></td></tr>
<tr><th id="1215">1215</th><td><u>#<span data-ppcond="1215">if</span> defined(<span class="macro" data-ref="_M/HAVE_TZNAME">HAVE_TZNAME</span>) &amp;&amp; !defined(<a class="macro" href="../../include/features.h.html#358" data-ref="_M/__GLIBC__">__GLIBC__</a>) &amp;&amp; !defined(<span class="macro" data-ref="_M/__CYGWIN__">__CYGWIN__</span>)</u></td></tr>
<tr><th id="1216">1216</th><td>    PyObject *otz0, *otz1;</td></tr>
<tr><th id="1217">1217</th><td>    tzset();</td></tr>
<tr><th id="1218">1218</th><td>    PyModule_AddIntConstant(m, <q>"timezone"</q>, timezone);</td></tr>
<tr><th id="1219">1219</th><td><u>#ifdef HAVE_ALTZONE</u></td></tr>
<tr><th id="1220">1220</th><td>    PyModule_AddIntConstant(m, <q>"altzone"</q>, altzone);</td></tr>
<tr><th id="1221">1221</th><td><u>#else</u></td></tr>
<tr><th id="1222">1222</th><td>    PyModule_AddIntConstant(m, <q>"altzone"</q>, timezone-<var>3600</var>);</td></tr>
<tr><th id="1223">1223</th><td><u>#endif</u></td></tr>
<tr><th id="1224">1224</th><td>    PyModule_AddIntConstant(m, <q>"daylight"</q>, daylight);</td></tr>
<tr><th id="1225">1225</th><td>    otz0 = PyUnicode_DecodeLocale(tzname[<var>0</var>], <q>"surrogateescape"</q>);</td></tr>
<tr><th id="1226">1226</th><td>    otz1 = PyUnicode_DecodeLocale(tzname[<var>1</var>], <q>"surrogateescape"</q>);</td></tr>
<tr><th id="1227">1227</th><td>    PyModule_AddObject(m, <q>"tzname"</q>, Py_BuildValue(<q>"(NN)"</q>, otz0, otz1));</td></tr>
<tr><th id="1228">1228</th><td><u>#<span data-ppcond="1215">else</span> /* !HAVE_TZNAME || __GLIBC__ || __CYGWIN__*/</u></td></tr>
<tr><th id="1229">1229</th><td>    {</td></tr>
<tr><th id="1230">1230</th><td><u>#define <dfn class="macro" id="_M/YEAR" data-ref="_M/YEAR">YEAR</dfn> ((<a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a>)((365 * 24 + 6) * 3600))</u></td></tr>
<tr><th id="1231">1231</th><td>        <a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> <dfn class="local col3 decl" id="123t" title='t' data-type='time_t' data-ref="123t">t</dfn>;</td></tr>
<tr><th id="1232">1232</th><td>        <b>struct</b> <a class="type" href="../../include/time.h.html#tm" title='tm' data-ref="tm">tm</a> <dfn class="local col4 decl" id="124p" title='p' data-type='struct tm' data-ref="124p">p</dfn>;</td></tr>
<tr><th id="1233">1233</th><td>        <em>long</em> <dfn class="local col5 decl" id="125janzone" title='janzone' data-type='long' data-ref="125janzone">janzone</dfn>, <dfn class="local col6 decl" id="126julyzone" title='julyzone' data-type='long' data-ref="126julyzone">julyzone</dfn>;</td></tr>
<tr><th id="1234">1234</th><td>        <em>char</em> <dfn class="local col7 decl" id="127janname" title='janname' data-type='char [10]' data-ref="127janname">janname</dfn>[<var>10</var>], <dfn class="local col8 decl" id="128julyname" title='julyname' data-type='char [10]' data-ref="128julyname">julyname</dfn>[<var>10</var>];</td></tr>
<tr><th id="1235">1235</th><td>        <a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a> = (<a class="ref" href="../../include/time.h.html#time" title='time' data-ref="time">time</a>((<a class="typedef" href="../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t">time_t</a> *)<var>0</var>) / <a class="macro" href="#1230" title="((time_t)((365 * 24 + 6) * 3600))" data-ref="_M/YEAR">YEAR</a>) * <a class="macro" href="#1230" title="((time_t)((365 * 24 + 6) * 3600))" data-ref="_M/YEAR">YEAR</a>;</td></tr>
<tr><th id="1236">1236</th><td>        <a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1237">1237</th><td>        <a class="tu ref" href="#get_zone" title='get_zone' data-use='c' data-ref="get_zone">get_zone</a>(<a class="local col7 ref" href="#127janname" title='janname' data-ref="127janname">janname</a>, <var>9</var>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1238">1238</th><td>        <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a> = -<a class="tu ref" href="#get_gmtoff" title='get_gmtoff' data-use='c' data-ref="get_gmtoff">get_gmtoff</a>(<a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1239">1239</th><td>        <a class="local col7 ref" href="#127janname" title='janname' data-ref="127janname">janname</a>[<var>9</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1240">1240</th><td>        <a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a> += <a class="macro" href="#1230" title="((time_t)((365 * 24 + 6) * 3600))" data-ref="_M/YEAR">YEAR</a>/<var>2</var>;</td></tr>
<tr><th id="1241">1241</th><td>        <a class="ref" href="../Include/pytime.h.html#_PyTime_localtime" title='_PyTime_localtime' data-ref="_PyTime_localtime">_PyTime_localtime</a>(<a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1242">1242</th><td>        <a class="tu ref" href="#get_zone" title='get_zone' data-use='c' data-ref="get_zone">get_zone</a>(<a class="local col8 ref" href="#128julyname" title='julyname' data-ref="128julyname">julyname</a>, <var>9</var>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1243">1243</th><td>        <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a> = -<a class="tu ref" href="#get_gmtoff" title='get_gmtoff' data-use='c' data-ref="get_gmtoff">get_gmtoff</a>(<a class="local col3 ref" href="#123t" title='t' data-ref="123t">t</a>, &amp;<a class="local col4 ref" href="#124p" title='p' data-ref="124p">p</a>);</td></tr>
<tr><th id="1244">1244</th><td>        <a class="local col8 ref" href="#128julyname" title='julyname' data-ref="128julyname">julyname</a>[<var>9</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1245">1245</th><td></td></tr>
<tr><th id="1246">1246</th><td>        <b>if</b>( <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a> &lt; <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a> ) {</td></tr>
<tr><th id="1247">1247</th><td>            <i>/* DST is reversed in the southern hemisphere */</i></td></tr>
<tr><th id="1248">1248</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"timezone"</q>, <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a>);</td></tr>
<tr><th id="1249">1249</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"altzone"</q>, <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a>);</td></tr>
<tr><th id="1250">1250</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"daylight"</q>,</td></tr>
<tr><th id="1251">1251</th><td>                                    <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a> != <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a>);</td></tr>
<tr><th id="1252">1252</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"tzname"</q>,</td></tr>
<tr><th id="1253">1253</th><td>                               <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(zz)"</q>,</td></tr>
<tr><th id="1254">1254</th><td>                                             <a class="local col8 ref" href="#128julyname" title='julyname' data-ref="128julyname">julyname</a>, <a class="local col7 ref" href="#127janname" title='janname' data-ref="127janname">janname</a>));</td></tr>
<tr><th id="1255">1255</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1256">1256</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"timezone"</q>, <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a>);</td></tr>
<tr><th id="1257">1257</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"altzone"</q>, <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a>);</td></tr>
<tr><th id="1258">1258</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"daylight"</q>,</td></tr>
<tr><th id="1259">1259</th><td>                                    <a class="local col5 ref" href="#125janzone" title='janzone' data-ref="125janzone">janzone</a> != <a class="local col6 ref" href="#126julyzone" title='julyzone' data-ref="126julyzone">julyzone</a>);</td></tr>
<tr><th id="1260">1260</th><td>            <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col2 ref" href="#122m" title='m' data-ref="122m">m</a>, <q>"tzname"</q>,</td></tr>
<tr><th id="1261">1261</th><td>                               <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(zz)"</q>,</td></tr>
<tr><th id="1262">1262</th><td>                                             <a class="local col7 ref" href="#127janname" title='janname' data-ref="127janname">janname</a>, <a class="local col8 ref" href="#128julyname" title='julyname' data-ref="128julyname">julyname</a>));</td></tr>
<tr><th id="1263">1263</th><td>        }</td></tr>
<tr><th id="1264">1264</th><td>    }</td></tr>
<tr><th id="1265">1265</th><td><u>#<span data-ppcond="1265">ifdef</span> <span class="macro" data-ref="_M/__CYGWIN__">__CYGWIN__</span></u></td></tr>
<tr><th id="1266">1266</th><td>    tzset();</td></tr>
<tr><th id="1267">1267</th><td>    PyModule_AddIntConstant(m, <q>"timezone"</q>, _timezone);</td></tr>
<tr><th id="1268">1268</th><td>    PyModule_AddIntConstant(m, <q>"altzone"</q>, _timezone-<var>3600</var>);</td></tr>
<tr><th id="1269">1269</th><td>    PyModule_AddIntConstant(m, <q>"daylight"</q>, _daylight);</td></tr>
<tr><th id="1270">1270</th><td>    PyModule_AddObject(m, <q>"tzname"</q>,</td></tr>
<tr><th id="1271">1271</th><td>                       Py_BuildValue(<q>"(zz)"</q>, _tzname[<var>0</var>], _tzname[<var>1</var>]));</td></tr>
<tr><th id="1272">1272</th><td><u>#<span data-ppcond="1265">endif</span> /* __CYGWIN__ */</u></td></tr>
<tr><th id="1273">1273</th><td><u>#<span data-ppcond="1215">endif</span> /* !HAVE_TZNAME || __GLIBC__ || __CYGWIN__*/</u></td></tr>
<tr><th id="1274">1274</th><td>}</td></tr>
<tr><th id="1275">1275</th><td></td></tr>
<tr><th id="1276">1276</th><td></td></tr>
<tr><th id="1277">1277</th><td><em>static</em> <a class="typedef" href="../Include/methodobject.h.html#PyMethodDef" title='PyMethodDef' data-type='struct PyMethodDef' data-ref="PyMethodDef">PyMethodDef</a> <dfn class="tu decl def" id="time_methods" title='time_methods' data-type='PyMethodDef [19]' data-ref="time_methods">time_methods</dfn>[] = {</td></tr>
<tr><th id="1278">1278</th><td>    {<q>"time"</q>,            <a class="tu ref" href="#time_time" title='time_time' data-ref="time_time">time_time</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#43" title='time_doc' data-ref="time_doc">time_doc</a>},</td></tr>
<tr><th id="1279">1279</th><td><u>#<span data-ppcond="1279">ifdef</span> <a class="macro" href="#115" data-ref="_M/PYCLOCK">PYCLOCK</a></u></td></tr>
<tr><th id="1280">1280</th><td>    {<q>"clock"</q>,           <a class="tu ref" href="#time_clock" title='time_clock' data-ref="time_clock">time_clock</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#132" title='clock_doc' data-ref="clock_doc">clock_doc</a>},</td></tr>
<tr><th id="1281">1281</th><td><u>#<span data-ppcond="1279">endif</span></u></td></tr>
<tr><th id="1282">1282</th><td><u>#<span data-ppcond="1282">ifdef</span> <a class="macro" href="../pyconfig.h.html#127" data-ref="_M/HAVE_CLOCK_GETTIME">HAVE_CLOCK_GETTIME</a></u></td></tr>
<tr><th id="1283">1283</th><td>    {<q>"clock_gettime"</q>,   <a class="tu ref" href="#time_clock_gettime" title='time_clock_gettime' data-ref="time_clock_gettime">time_clock_gettime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#159" title='clock_gettime_doc' data-ref="clock_gettime_doc">clock_gettime_doc</a>},</td></tr>
<tr><th id="1284">1284</th><td><u>#<span data-ppcond="1282">endif</span></u></td></tr>
<tr><th id="1285">1285</th><td><u>#<span data-ppcond="1285">ifdef</span> <a class="macro" href="../pyconfig.h.html#130" data-ref="_M/HAVE_CLOCK_SETTIME">HAVE_CLOCK_SETTIME</a></u></td></tr>
<tr><th id="1286">1286</th><td>    {<q>"clock_settime"</q>,   <a class="tu ref" href="#time_clock_settime" title='time_clock_settime' data-ref="time_clock_settime">time_clock_settime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#192" title='clock_settime_doc' data-ref="clock_settime_doc">clock_settime_doc</a>},</td></tr>
<tr><th id="1287">1287</th><td><u>#<span data-ppcond="1285">endif</span></u></td></tr>
<tr><th id="1288">1288</th><td><u>#<span data-ppcond="1288">ifdef</span> <a class="macro" href="../pyconfig.h.html#124" data-ref="_M/HAVE_CLOCK_GETRES">HAVE_CLOCK_GETRES</a></u></td></tr>
<tr><th id="1289">1289</th><td>    {<q>"clock_getres"</q>,    <a class="tu ref" href="#time_clock_getres" title='time_clock_getres' data-ref="time_clock_getres">time_clock_getres</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#218" title='clock_getres_doc' data-ref="clock_getres_doc">clock_getres_doc</a>},</td></tr>
<tr><th id="1290">1290</th><td><u>#<span data-ppcond="1288">endif</span></u></td></tr>
<tr><th id="1291">1291</th><td>    {<q>"sleep"</q>,           <a class="tu ref" href="#time_sleep" title='time_sleep' data-ref="time_sleep">time_sleep</a>, <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>, <a class="ref" href="#240" title='sleep_doc' data-ref="sleep_doc">sleep_doc</a>},</td></tr>
<tr><th id="1292">1292</th><td>    {<q>"gmtime"</q>,          <a class="tu ref" href="#time_gmtime" title='time_gmtime' data-ref="time_gmtime">time_gmtime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#373" title='gmtime_doc' data-ref="gmtime_doc">gmtime_doc</a>},</td></tr>
<tr><th id="1293">1293</th><td>    {<q>"localtime"</q>,       <a class="tu ref" href="#time_localtime" title='time_localtime' data-ref="time_localtime">time_localtime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#407" title='localtime_doc' data-ref="localtime_doc">localtime_doc</a>},</td></tr>
<tr><th id="1294">1294</th><td>    {<q>"asctime"</q>,         <a class="tu ref" href="#time_asctime" title='time_asctime' data-ref="time_asctime">time_asctime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#793" title='asctime_doc' data-ref="asctime_doc">asctime_doc</a>},</td></tr>
<tr><th id="1295">1295</th><td>    {<q>"ctime"</q>,           <a class="tu ref" href="#time_ctime" title='time_ctime' data-ref="time_ctime">time_ctime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#812" title='ctime_doc' data-ref="ctime_doc">ctime_doc</a>},</td></tr>
<tr><th id="1296">1296</th><td><u>#<span data-ppcond="1296">ifdef</span> <a class="macro" href="../pyconfig.h.html#627" data-ref="_M/HAVE_MKTIME">HAVE_MKTIME</a></u></td></tr>
<tr><th id="1297">1297</th><td>    {<q>"mktime"</q>,          <a class="tu ref" href="#time_mktime" title='time_mktime' data-ref="time_mktime">time_mktime</a>, <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>, <a class="ref" href="#862" title='mktime_doc' data-ref="mktime_doc">mktime_doc</a>},</td></tr>
<tr><th id="1298">1298</th><td><u>#<span data-ppcond="1296">endif</span></u></td></tr>
<tr><th id="1299">1299</th><td><u>#<span data-ppcond="1299">ifdef</span> <a class="macro" href="../pyconfig.h.html#925" data-ref="_M/HAVE_STRFTIME">HAVE_STRFTIME</a></u></td></tr>
<tr><th id="1300">1300</th><td>    {<q>"strftime"</q>,        <a class="tu ref" href="#time_strftime" title='time_strftime' data-ref="time_strftime">time_strftime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#711" title='strftime_doc' data-ref="strftime_doc">strftime_doc</a>},</td></tr>
<tr><th id="1301">1301</th><td><u>#<span data-ppcond="1299">endif</span></u></td></tr>
<tr><th id="1302">1302</th><td>    {<q>"strptime"</q>,        <a class="tu ref" href="#time_strptime" title='time_strptime' data-ref="time_strptime">time_strptime</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#742" title='strptime_doc' data-ref="strptime_doc">strptime_doc</a>},</td></tr>
<tr><th id="1303">1303</th><td><u>#<span data-ppcond="1303">ifdef</span> <a class="macro" href="../pyconfig.h.html#1193" data-ref="_M/HAVE_WORKING_TZSET">HAVE_WORKING_TZSET</a></u></td></tr>
<tr><th id="1304">1304</th><td>    {<q>"tzset"</q>,           <a class="tu ref" href="#time_tzset" title='time_tzset' data-ref="time_tzset">time_tzset</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#895" title='tzset_doc' data-ref="tzset_doc">tzset_doc</a>},</td></tr>
<tr><th id="1305">1305</th><td><u>#<span data-ppcond="1303">endif</span></u></td></tr>
<tr><th id="1306">1306</th><td>    {<q>"monotonic"</q>,       <a class="tu ref" href="#time_monotonic" title='time_monotonic' data-ref="time_monotonic">time_monotonic</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#928" title='monotonic_doc' data-ref="monotonic_doc">monotonic_doc</a>},</td></tr>
<tr><th id="1307">1307</th><td>    {<q>"process_time"</q>,    <a class="tu ref" href="#time_process_time" title='time_process_time' data-ref="time_process_time">time_process_time</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#1074" title='process_time_doc' data-ref="process_time_doc">process_time_doc</a>},</td></tr>
<tr><th id="1308">1308</th><td>    {<q>"perf_counter"</q>,    <a class="tu ref" href="#time_perf_counter" title='time_perf_counter' data-ref="time_perf_counter">time_perf_counter</a>, <a class="macro" href="../Include/methodobject.h.html#74" title="0x0004" data-ref="_M/METH_NOARGS">METH_NOARGS</a>, <a class="ref" href="#949" title='perf_counter_doc' data-ref="perf_counter_doc">perf_counter_doc</a>},</td></tr>
<tr><th id="1309">1309</th><td>    {<q>"get_clock_info"</q>,  <a class="tu ref" href="#time_get_clock_info" title='time_get_clock_info' data-ref="time_get_clock_info">time_get_clock_info</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>, <a class="ref" href="#1169" title='get_clock_info_doc' data-ref="get_clock_info_doc">get_clock_info_doc</a>},</td></tr>
<tr><th id="1310">1310</th><td>    {<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,              <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>}           <i>/* sentinel */</i></td></tr>
<tr><th id="1311">1311</th><td>};</td></tr>
<tr><th id="1312">1312</th><td></td></tr>
<tr><th id="1313">1313</th><td></td></tr>
<tr><th id="1314">1314</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char module_doc[] = &quot;This module provides various functions to manipulate time values.\n\nThere are two standard representations of time.  One is the number\nof seconds since the Epoch, in UTC (a.k.a. GMT).  It may be an integer\nor a floating point number (to represent fractions of seconds).\nThe Epoch is system-defined; on Unix, it is generally January 1st, 1970.\nThe actual value can be retrieved by calling gmtime(0).\n\nThe other representation is a tuple of 9 integers giving local time.\nThe tuple items are:\n  year (including century, e.g. 1998)\n  month (1-12)\n  day (1-31)\n  hours (0-23)\n  minutes (0-59)\n  seconds (0-59)\n  weekday (0-6, Monday is 0)\n  Julian day (day in the year, 1-366)\n  DST (Daylight Savings Time) flag (-1, 0 or 1)\nIf the DST flag is 0, the time is given in the regular time zone;\nif it is 1, the time is given in the DST time zone;\nif it is -1, mktime() should guess based on the date and time.\n\nVariables:\n\ntimezone -- difference in seconds between UTC and local standard time\naltzone -- difference in  seconds between UTC and local DST time\ndaylight -- whether local time should reflect DST\ntzname -- tuple of (standard time zone name, DST time zone name)\n\nFunctions:\n\ntime() -- return current time in seconds since the Epoch as a float\nclock() -- return CPU time since process start as a float\nsleep() -- delay for a number of seconds given as a float\ngmtime() -- convert seconds since Epoch to UTC tuple\nlocaltime() -- convert seconds since Epoch to local time tuple\nasctime() -- convert time tuple to string\nctime() -- convert time in seconds to string\nmktime() -- convert local time tuple to seconds since Epoch\nstrftime() -- convert time tuple to string according to format specification\nstrptime() -- parse string to time tuple according to format specification\ntzset() -- change the local timezone&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="module_doc" title='module_doc' data-ref="module_doc">module_doc</dfn>,</td></tr>
<tr><th id="1315">1315</th><td><q>"This module provides various functions to manipulate time values.\n\</q></td></tr>
<tr><th id="1316">1316</th><td><q>\n\</q></td></tr>
<tr><th id="1317">1317</th><td><q>There are two standard representations of time.  One is the number\n\</q></td></tr>
<tr><th id="1318">1318</th><td><q>of seconds since the Epoch, in UTC (a.k.a. GMT).  It may be an integer\n\</q></td></tr>
<tr><th id="1319">1319</th><td><q>or a floating point number (to represent fractions of seconds).\n\</q></td></tr>
<tr><th id="1320">1320</th><td><q>The Epoch is system-defined; on Unix, it is generally January 1st, 1970.\n\</q></td></tr>
<tr><th id="1321">1321</th><td><q>The actual value can be retrieved by calling gmtime(0).\n\</q></td></tr>
<tr><th id="1322">1322</th><td><q>\n\</q></td></tr>
<tr><th id="1323">1323</th><td><q>The other representation is a tuple of 9 integers giving local time.\n\</q></td></tr>
<tr><th id="1324">1324</th><td><q>The tuple items are:\n\</q></td></tr>
<tr><th id="1325">1325</th><td><q>  year (including century, e.g. 1998)\n\</q></td></tr>
<tr><th id="1326">1326</th><td><q>  month (1-12)\n\</q></td></tr>
<tr><th id="1327">1327</th><td><q>  day (1-31)\n\</q></td></tr>
<tr><th id="1328">1328</th><td><q>  hours (0-23)\n\</q></td></tr>
<tr><th id="1329">1329</th><td><q>  minutes (0-59)\n\</q></td></tr>
<tr><th id="1330">1330</th><td><q>  seconds (0-59)\n\</q></td></tr>
<tr><th id="1331">1331</th><td><q>  weekday (0-6, Monday is 0)\n\</q></td></tr>
<tr><th id="1332">1332</th><td><q>  Julian day (day in the year, 1-366)\n\</q></td></tr>
<tr><th id="1333">1333</th><td><q>  DST (Daylight Savings Time) flag (-1, 0 or 1)\n\</q></td></tr>
<tr><th id="1334">1334</th><td><q>If the DST flag is 0, the time is given in the regular time zone;\n\</q></td></tr>
<tr><th id="1335">1335</th><td><q>if it is 1, the time is given in the DST time zone;\n\</q></td></tr>
<tr><th id="1336">1336</th><td><q>if it is -1, mktime() should guess based on the date and time.\n\</q></td></tr>
<tr><th id="1337">1337</th><td><q>\n\</q></td></tr>
<tr><th id="1338">1338</th><td><q>Variables:\n\</q></td></tr>
<tr><th id="1339">1339</th><td><q>\n\</q></td></tr>
<tr><th id="1340">1340</th><td><q>timezone -- difference in seconds between UTC and local standard time\n\</q></td></tr>
<tr><th id="1341">1341</th><td><q>altzone -- difference in  seconds between UTC and local DST time\n\</q></td></tr>
<tr><th id="1342">1342</th><td><q>daylight -- whether local time should reflect DST\n\</q></td></tr>
<tr><th id="1343">1343</th><td><q>tzname -- tuple of (standard time zone name, DST time zone name)\n\</q></td></tr>
<tr><th id="1344">1344</th><td><q>\n\</q></td></tr>
<tr><th id="1345">1345</th><td><q>Functions:\n\</q></td></tr>
<tr><th id="1346">1346</th><td><q>\n\</q></td></tr>
<tr><th id="1347">1347</th><td><q>time() -- return current time in seconds since the Epoch as a float\n\</q></td></tr>
<tr><th id="1348">1348</th><td><q>clock() -- return CPU time since process start as a float\n\</q></td></tr>
<tr><th id="1349">1349</th><td><q>sleep() -- delay for a number of seconds given as a float\n\</q></td></tr>
<tr><th id="1350">1350</th><td><q>gmtime() -- convert seconds since Epoch to UTC tuple\n\</q></td></tr>
<tr><th id="1351">1351</th><td><q>localtime() -- convert seconds since Epoch to local time tuple\n\</q></td></tr>
<tr><th id="1352">1352</th><td><q>asctime() -- convert time tuple to string\n\</q></td></tr>
<tr><th id="1353">1353</th><td><q>ctime() -- convert time in seconds to string\n\</q></td></tr>
<tr><th id="1354">1354</th><td><q>mktime() -- convert local time tuple to seconds since Epoch\n\</q></td></tr>
<tr><th id="1355">1355</th><td><q>strftime() -- convert time tuple to string according to format specification\n\</q></td></tr>
<tr><th id="1356">1356</th><td><q>strptime() -- parse string to time tuple according to format specification\n\</q></td></tr>
<tr><th id="1357">1357</th><td><q>tzset() -- change the local timezone"</q>);</td></tr>
<tr><th id="1358">1358</th><td></td></tr>
<tr><th id="1359">1359</th><td></td></tr>
<tr><th id="1360">1360</th><td></td></tr>
<tr><th id="1361">1361</th><td><em>static</em> <b>struct</b> <a class="type" href="../Include/moduleobject.h.html#PyModuleDef" title='PyModuleDef' data-ref="PyModuleDef">PyModuleDef</a> <dfn class="tu decl def" id="timemodule" title='timemodule' data-type='struct PyModuleDef' data-ref="timemodule">timemodule</dfn> = {</td></tr>
<tr><th id="1362">1362</th><td>    <a class="macro" href="../Include/moduleobject.h.html#50" title="{ { 0, 0, 1, ((void*)0) }, ((void*)0), 0, ((void*)0), }" data-ref="_M/PyModuleDef_HEAD_INIT">PyModuleDef_HEAD_INIT</a>,</td></tr>
<tr><th id="1363">1363</th><td>    <q>"time"</q>,</td></tr>
<tr><th id="1364">1364</th><td>    <a class="ref" href="#1314" title='module_doc' data-ref="module_doc">module_doc</a>,</td></tr>
<tr><th id="1365">1365</th><td>    -<var>1</var>,</td></tr>
<tr><th id="1366">1366</th><td>    <a class="tu ref" href="#time_methods" title='time_methods' data-ref="time_methods">time_methods</a>,</td></tr>
<tr><th id="1367">1367</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1368">1368</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1369">1369</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1370">1370</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1371">1371</th><td>};</td></tr>
<tr><th id="1372">1372</th><td></td></tr>
<tr><th id="1373">1373</th><td><a class="macro" href="../Include/pyport.h.html#685" title="PyObject*" data-ref="_M/PyMODINIT_FUNC">PyMODINIT_FUNC</a></td></tr>
<tr><th id="1374">1374</th><td><dfn class="decl def" id="PyInit_time" title='PyInit_time' data-ref="PyInit_time">PyInit_time</dfn>(<em>void</em>)</td></tr>
<tr><th id="1375">1375</th><td>{</td></tr>
<tr><th id="1376">1376</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="129m" title='m' data-type='PyObject *' data-ref="129m">m</dfn>;</td></tr>
<tr><th id="1377">1377</th><td>    <a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a> = <a class="macro" href="../Include/modsupport.h.html#199" title="PyModule_Create2TraceRefs(&amp;timemodule, 1013)" data-ref="_M/PyModule_Create">PyModule_Create</a>(&amp;<a class="tu ref" href="#timemodule" title='timemodule' data-use='a' data-ref="timemodule">timemodule</a>);</td></tr>
<tr><th id="1378">1378</th><td>    <b>if</b> (<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1379">1379</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1380">1380</th><td></td></tr>
<tr><th id="1381">1381</th><td>    <i>/* Set, or reset, module variables like time.timezone */</i></td></tr>
<tr><th id="1382">1382</th><td>    <a class="tu ref" href="#PyInit_timezone" title='PyInit_timezone' data-use='c' data-ref="PyInit_timezone">PyInit_timezone</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>);</td></tr>
<tr><th id="1383">1383</th><td></td></tr>
<tr><th id="1384">1384</th><td><u>#<span data-ppcond="1384">ifdef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#61" data-ref="_M/CLOCK_REALTIME">CLOCK_REALTIME</a></u></td></tr>
<tr><th id="1385">1385</th><td>    <a class="macro" href="../Include/modsupport.h.html#120" title="PyModule_AddIntConstant(m, &quot;CLOCK_REALTIME&quot;, 0)" data-ref="_M/PyModule_AddIntMacro">PyModule_AddIntMacro</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#61" title="0" data-ref="_M/CLOCK_REALTIME">CLOCK_REALTIME</a>);</td></tr>
<tr><th id="1386">1386</th><td><u>#<span data-ppcond="1384">endif</span></u></td></tr>
<tr><th id="1387">1387</th><td><u>#<span data-ppcond="1387">ifdef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#63" data-ref="_M/CLOCK_MONOTONIC">CLOCK_MONOTONIC</a></u></td></tr>
<tr><th id="1388">1388</th><td>    <a class="macro" href="../Include/modsupport.h.html#120" title="PyModule_AddIntConstant(m, &quot;CLOCK_MONOTONIC&quot;, 1)" data-ref="_M/PyModule_AddIntMacro">PyModule_AddIntMacro</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#63" title="1" data-ref="_M/CLOCK_MONOTONIC">CLOCK_MONOTONIC</a>);</td></tr>
<tr><th id="1389">1389</th><td><u>#<span data-ppcond="1387">endif</span></u></td></tr>
<tr><th id="1390">1390</th><td><u>#<span data-ppcond="1390">ifdef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#69" data-ref="_M/CLOCK_MONOTONIC_RAW">CLOCK_MONOTONIC_RAW</a></u></td></tr>
<tr><th id="1391">1391</th><td>    <a class="macro" href="../Include/modsupport.h.html#120" title="PyModule_AddIntConstant(m, &quot;CLOCK_MONOTONIC_RAW&quot;, 4)" data-ref="_M/PyModule_AddIntMacro">PyModule_AddIntMacro</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#69" title="4" data-ref="_M/CLOCK_MONOTONIC_RAW">CLOCK_MONOTONIC_RAW</a>);</td></tr>
<tr><th id="1392">1392</th><td><u>#<span data-ppcond="1390">endif</span></u></td></tr>
<tr><th id="1393">1393</th><td><u>#<span data-ppcond="1393">ifdef</span> <span class="macro" data-ref="_M/CLOCK_HIGHRES">CLOCK_HIGHRES</span></u></td></tr>
<tr><th id="1394">1394</th><td>    PyModule_AddIntMacro(m, CLOCK_HIGHRES);</td></tr>
<tr><th id="1395">1395</th><td><u>#<span data-ppcond="1393">endif</span></u></td></tr>
<tr><th id="1396">1396</th><td><u>#<span data-ppcond="1396">ifdef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#65" data-ref="_M/CLOCK_PROCESS_CPUTIME_ID">CLOCK_PROCESS_CPUTIME_ID</a></u></td></tr>
<tr><th id="1397">1397</th><td>    <a class="macro" href="../Include/modsupport.h.html#120" title="PyModule_AddIntConstant(m, &quot;CLOCK_PROCESS_CPUTIME_ID&quot;, 2)" data-ref="_M/PyModule_AddIntMacro">PyModule_AddIntMacro</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#65" title="2" data-ref="_M/CLOCK_PROCESS_CPUTIME_ID">CLOCK_PROCESS_CPUTIME_ID</a>);</td></tr>
<tr><th id="1398">1398</th><td><u>#<span data-ppcond="1396">endif</span></u></td></tr>
<tr><th id="1399">1399</th><td><u>#<span data-ppcond="1399">ifdef</span> <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#67" data-ref="_M/CLOCK_THREAD_CPUTIME_ID">CLOCK_THREAD_CPUTIME_ID</a></u></td></tr>
<tr><th id="1400">1400</th><td>    <a class="macro" href="../Include/modsupport.h.html#120" title="PyModule_AddIntConstant(m, &quot;CLOCK_THREAD_CPUTIME_ID&quot;, 3)" data-ref="_M/PyModule_AddIntMacro">PyModule_AddIntMacro</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <a class="macro" href="../../include/x86_64-linux-gnu/bits/time.h.html#67" title="3" data-ref="_M/CLOCK_THREAD_CPUTIME_ID">CLOCK_THREAD_CPUTIME_ID</a>);</td></tr>
<tr><th id="1401">1401</th><td><u>#<span data-ppcond="1399">endif</span></u></td></tr>
<tr><th id="1402">1402</th><td></td></tr>
<tr><th id="1403">1403</th><td>    <b>if</b> (!<a class="tu ref" href="#initialized" title='initialized' data-use='r' data-ref="initialized">initialized</a>) {</td></tr>
<tr><th id="1404">1404</th><td>        <b>if</b> (<a class="ref" href="../Include/structseq.h.html#PyStructSequence_InitType2" title='PyStructSequence_InitType2' data-ref="PyStructSequence_InitType2">PyStructSequence_InitType2</a>(&amp;<a class="tu ref" href="#StructTimeType" title='StructTimeType' data-use='a' data-ref="StructTimeType">StructTimeType</a>,</td></tr>
<tr><th id="1405">1405</th><td>                                       &amp;<a class="tu ref" href="#struct_time_type_desc" title='struct_time_type_desc' data-use='a' data-ref="struct_time_type_desc">struct_time_type_desc</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="1406">1406</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1407">1407</th><td>    }</td></tr>
<tr><th id="1408">1408</th><td>    <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(&amp;StructTimeType))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(&amp;<a class="tu ref" href="#StructTimeType" title='StructTimeType' data-use='a' data-ref="StructTimeType">StructTimeType</a>);</td></tr>
<tr><th id="1409">1409</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <q>"_STRUCT_TM_ITEMS"</q>, <var>11</var>);</td></tr>
<tr><th id="1410">1410</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>, <q>"struct_time"</q>, (<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*) &amp;<a class="tu ref" href="#StructTimeType" title='StructTimeType' data-use='a' data-ref="StructTimeType">StructTimeType</a>);</td></tr>
<tr><th id="1411">1411</th><td>    <a class="tu ref" href="#initialized" title='initialized' data-use='w' data-ref="initialized">initialized</a> = <var>1</var>;</td></tr>
<tr><th id="1412">1412</th><td>    <b>return</b> <a class="local col9 ref" href="#129m" title='m' data-ref="129m">m</a>;</td></tr>
<tr><th id="1413">1413</th><td>}</td></tr>
<tr><th id="1414">1414</th><td></td></tr>
<tr><th id="1415">1415</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*</td></tr>
<tr><th id="1416">1416</th><td><dfn class="tu decl def" id="floattime" title='floattime' data-type='PyObject * floattime(_Py_clock_info_t * info)' data-ref="floattime">floattime</dfn>(<a class="typedef" href="../Include/pytime.h.html#_Py_clock_info_t" title='_Py_clock_info_t' data-type='struct _Py_clock_info_t' data-ref="_Py_clock_info_t">_Py_clock_info_t</a> *<dfn class="local col0 decl" id="130info" title='info' data-type='_Py_clock_info_t *' data-ref="130info">info</dfn>)</td></tr>
<tr><th id="1417">1417</th><td>{</td></tr>
<tr><th id="1418">1418</th><td>    <a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col1 decl" id="131t" title='t' data-type='_PyTime_t' data-ref="131t">t</dfn>;</td></tr>
<tr><th id="1419">1419</th><td>    <em>double</em> <dfn class="local col2 decl" id="132d" title='d' data-type='double' data-ref="132d">d</dfn>;</td></tr>
<tr><th id="1420">1420</th><td>    <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_GetSystemClockWithInfo" title='_PyTime_GetSystemClockWithInfo' data-ref="_PyTime_GetSystemClockWithInfo">_PyTime_GetSystemClockWithInfo</a>(&amp;<a class="local col1 ref" href="#131t" title='t' data-ref="131t">t</a>, <a class="local col0 ref" href="#130info" title='info' data-ref="130info">info</a>) &lt; <var>0</var>) {</td></tr>
<tr><th id="1421">1421</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((info != ((void*)0)) ? (void) (0) : __assert_fail (&quot;info != NULL&quot;, &quot;/home/jon/workspace/cpython/Modules/timemodule.c&quot;, 1421, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col0 ref" href="#130info" title='info' data-ref="130info">info</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1422">1422</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1423">1423</th><td>    }</td></tr>
<tr><th id="1424">1424</th><td>    <a class="local col2 ref" href="#132d" title='d' data-ref="132d">d</a> = <a class="ref" href="../Include/pytime.h.html#_PyTime_AsSecondsDouble" title='_PyTime_AsSecondsDouble' data-ref="_PyTime_AsSecondsDouble">_PyTime_AsSecondsDouble</a>(<a class="local col1 ref" href="#131t" title='t' data-ref="131t">t</a>);</td></tr>
<tr><th id="1425">1425</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col2 ref" href="#132d" title='d' data-ref="132d">d</a>);</td></tr>
<tr><th id="1426">1426</th><td>}</td></tr>
<tr><th id="1427">1427</th><td></td></tr>
<tr><th id="1428">1428</th><td></td></tr>
<tr><th id="1429">1429</th><td><i  data-doc="pysleep">/* Implement pysleep() for various platforms.</i></td></tr>
<tr><th id="1430">1430</th><td><i  data-doc="pysleep">   When interrupted (or when another error occurs), return -1 and</i></td></tr>
<tr><th id="1431">1431</th><td><i  data-doc="pysleep">   set an exception; else return 0. */</i></td></tr>
<tr><th id="1432">1432</th><td></td></tr>
<tr><th id="1433">1433</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1434">1434</th><td><dfn class="tu decl def" id="pysleep" title='pysleep' data-type='int pysleep(_PyTime_t secs)' data-ref="pysleep">pysleep</dfn>(<a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col3 decl" id="133secs" title='secs' data-type='_PyTime_t' data-ref="133secs">secs</dfn>)</td></tr>
<tr><th id="1435">1435</th><td>{</td></tr>
<tr><th id="1436">1436</th><td>    <a class="typedef" href="../Include/pytime.h.html#_PyTime_t" title='_PyTime_t' data-type='int64_t' data-ref="_PyTime_t">_PyTime_t</a> <dfn class="local col4 decl" id="134deadline" title='deadline' data-type='_PyTime_t' data-ref="134deadline">deadline</dfn>, <dfn class="local col5 decl" id="135monotonic" title='monotonic' data-type='_PyTime_t' data-ref="135monotonic">monotonic</dfn>;</td></tr>
<tr><th id="1437">1437</th><td><u>#<span data-ppcond="1437">ifndef</span> <span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span></u></td></tr>
<tr><th id="1438">1438</th><td>    <b>struct</b> <a class="type" href="../../include/x86_64-linux-gnu/bits/time.h.html#timeval" title='timeval' data-ref="timeval">timeval</a> <dfn class="local col6 decl" id="136timeout" title='timeout' data-type='struct timeval' data-ref="136timeout">timeout</dfn>;</td></tr>
<tr><th id="1439">1439</th><td>    <em>int</em> <dfn class="local col7 decl" id="137err" title='err' data-type='int' data-ref="137err">err</dfn> = <var>0</var>;</td></tr>
<tr><th id="1440">1440</th><td><u>#<span data-ppcond="1437">else</span></u></td></tr>
<tr><th id="1441">1441</th><td>    _PyTime_t millisecs;</td></tr>
<tr><th id="1442">1442</th><td>    <em>unsigned</em> <em>long</em> ul_millis;</td></tr>
<tr><th id="1443">1443</th><td>    DWORD rc;</td></tr>
<tr><th id="1444">1444</th><td>    HANDLE hInterruptEvent;</td></tr>
<tr><th id="1445">1445</th><td><u>#<span data-ppcond="1437">endif</span></u></td></tr>
<tr><th id="1446">1446</th><td></td></tr>
<tr><th id="1447">1447</th><td>    <a class="local col4 ref" href="#134deadline" title='deadline' data-ref="134deadline">deadline</a> = <a class="ref" href="../Include/pytime.h.html#_PyTime_GetMonotonicClock" title='_PyTime_GetMonotonicClock' data-ref="_PyTime_GetMonotonicClock">_PyTime_GetMonotonicClock</a>() + <a class="local col3 ref" href="#133secs" title='secs' data-ref="133secs">secs</a>;</td></tr>
<tr><th id="1448">1448</th><td></td></tr>
<tr><th id="1449">1449</th><td>    <b>do</b> {</td></tr>
<tr><th id="1450">1450</th><td><u>#<span data-ppcond="1450">ifndef</span> <span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span></u></td></tr>
<tr><th id="1451">1451</th><td>        <b>if</b> (<a class="ref" href="../Include/pytime.h.html#_PyTime_AsTimeval" title='_PyTime_AsTimeval' data-ref="_PyTime_AsTimeval">_PyTime_AsTimeval</a>(<a class="local col3 ref" href="#133secs" title='secs' data-ref="133secs">secs</a>, &amp;<a class="local col6 ref" href="#136timeout" title='timeout' data-ref="136timeout">timeout</a>, <a class="enum" href="../Include/pytime.h.html#_PyTime_ROUND_CEILING" title='_PyTime_ROUND_CEILING' data-ref="_PyTime_ROUND_CEILING">_PyTime_ROUND_CEILING</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="1452">1452</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1453">1453</th><td></td></tr>
<tr><th id="1454">1454</th><td>        <a class="macro" href="../Include/ceval.h.html#208" title="{ PyThreadState *_save; _save = PyEval_SaveThread();" data-ref="_M/Py_BEGIN_ALLOW_THREADS">Py_BEGIN_ALLOW_THREADS</a></td></tr>
<tr><th id="1455">1455</th><td>        <a class="local col7 ref" href="#137err" title='err' data-ref="137err">err</a> = <a class="ref" href="../../include/x86_64-linux-gnu/sys/select.h.html#select" title='select' data-ref="select">select</a>(<var>0</var>, (<a class="typedef" href="../../include/x86_64-linux-gnu/sys/select.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set">fd_set</a> *)<var>0</var>, (<a class="typedef" href="../../include/x86_64-linux-gnu/sys/select.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set">fd_set</a> *)<var>0</var>, (<a class="typedef" href="../../include/x86_64-linux-gnu/sys/select.h.html#fd_set" title='fd_set' data-type='struct fd_set' data-ref="fd_set">fd_set</a> *)<var>0</var>, &amp;<a class="local col6 ref" href="#136timeout" title='timeout' data-ref="136timeout">timeout</a>);</td></tr>
<tr><th id="1456">1456</th><td>        <a class="macro" href="../Include/ceval.h.html#213" title="PyEval_RestoreThread(_save); }" data-ref="_M/Py_END_ALLOW_THREADS">Py_END_ALLOW_THREADS</a></td></tr>
<tr><th id="1457">1457</th><td></td></tr>
<tr><th id="1458">1458</th><td>        <b>if</b> (<a class="local col7 ref" href="#137err" title='err' data-ref="137err">err</a> == <var>0</var>)</td></tr>
<tr><th id="1459">1459</th><td>            <b>break</b>;</td></tr>
<tr><th id="1460">1460</th><td></td></tr>
<tr><th id="1461">1461</th><td>        <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../include/asm-generic/errno-base.h.html#7" title="4" data-ref="_M/EINTR">EINTR</a>) {</td></tr>
<tr><th id="1462">1462</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetFromErrno" title='PyErr_SetFromErrno' data-ref="PyErr_SetFromErrno">PyErr_SetFromErrno</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OSError" title='PyExc_OSError' data-ref="PyExc_OSError">PyExc_OSError</a>);</td></tr>
<tr><th id="1463">1463</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1464">1464</th><td>        }</td></tr>
<tr><th id="1465">1465</th><td><u>#<span data-ppcond="1450">else</span></u></td></tr>
<tr><th id="1466">1466</th><td>        millisecs = _PyTime_AsMilliseconds(secs, _PyTime_ROUND_CEILING);</td></tr>
<tr><th id="1467">1467</th><td>        <b>if</b> (millisecs &gt; (<em>double</em>)ULONG_MAX) {</td></tr>
<tr><th id="1468">1468</th><td>            PyErr_SetString(PyExc_OverflowError,</td></tr>
<tr><th id="1469">1469</th><td>                            <q>"sleep length is too large"</q>);</td></tr>
<tr><th id="1470">1470</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1471">1471</th><td>        }</td></tr>
<tr><th id="1472">1472</th><td></td></tr>
<tr><th id="1473">1473</th><td>        <i>/* Allow sleep(0) to maintain win32 semantics, and as decreed</i></td></tr>
<tr><th id="1474">1474</th><td><i>         * by Guido, only the main thread can be interrupted.</i></td></tr>
<tr><th id="1475">1475</th><td><i>         */</i></td></tr>
<tr><th id="1476">1476</th><td>        ul_millis = (<em>unsigned</em> <em>long</em>)millisecs;</td></tr>
<tr><th id="1477">1477</th><td>        <b>if</b> (ul_millis == <var>0</var> || !_PyOS_IsMainThread()) {</td></tr>
<tr><th id="1478">1478</th><td>            Py_BEGIN_ALLOW_THREADS</td></tr>
<tr><th id="1479">1479</th><td>            Sleep(ul_millis);</td></tr>
<tr><th id="1480">1480</th><td>            Py_END_ALLOW_THREADS</td></tr>
<tr><th id="1481">1481</th><td>            <b>break</b>;</td></tr>
<tr><th id="1482">1482</th><td>        }</td></tr>
<tr><th id="1483">1483</th><td></td></tr>
<tr><th id="1484">1484</th><td>        hInterruptEvent = _PyOS_SigintEvent();</td></tr>
<tr><th id="1485">1485</th><td>        ResetEvent(hInterruptEvent);</td></tr>
<tr><th id="1486">1486</th><td></td></tr>
<tr><th id="1487">1487</th><td>        Py_BEGIN_ALLOW_THREADS</td></tr>
<tr><th id="1488">1488</th><td>        rc = WaitForSingleObjectEx(hInterruptEvent, ul_millis, FALSE);</td></tr>
<tr><th id="1489">1489</th><td>        Py_END_ALLOW_THREADS</td></tr>
<tr><th id="1490">1490</th><td></td></tr>
<tr><th id="1491">1491</th><td>        <b>if</b> (rc != WAIT_OBJECT_0)</td></tr>
<tr><th id="1492">1492</th><td>            <b>break</b>;</td></tr>
<tr><th id="1493">1493</th><td><u>#<span data-ppcond="1450">endif</span></u></td></tr>
<tr><th id="1494">1494</th><td></td></tr>
<tr><th id="1495">1495</th><td>        <i>/* sleep was interrupted by SIGINT */</i></td></tr>
<tr><th id="1496">1496</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_CheckSignals" title='PyErr_CheckSignals' data-ref="PyErr_CheckSignals">PyErr_CheckSignals</a>())</td></tr>
<tr><th id="1497">1497</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1498">1498</th><td></td></tr>
<tr><th id="1499">1499</th><td>        <a class="local col5 ref" href="#135monotonic" title='monotonic' data-ref="135monotonic">monotonic</a> = <a class="ref" href="../Include/pytime.h.html#_PyTime_GetMonotonicClock" title='_PyTime_GetMonotonicClock' data-ref="_PyTime_GetMonotonicClock">_PyTime_GetMonotonicClock</a>();</td></tr>
<tr><th id="1500">1500</th><td>        <a class="local col3 ref" href="#133secs" title='secs' data-ref="133secs">secs</a> = <a class="local col4 ref" href="#134deadline" title='deadline' data-ref="134deadline">deadline</a> - <a class="local col5 ref" href="#135monotonic" title='monotonic' data-ref="135monotonic">monotonic</a>;</td></tr>
<tr><th id="1501">1501</th><td>        <b>if</b> (<a class="local col3 ref" href="#133secs" title='secs' data-ref="133secs">secs</a> &lt; <var>0</var>)</td></tr>
<tr><th id="1502">1502</th><td>            <b>break</b>;</td></tr>
<tr><th id="1503">1503</th><td>        <i>/* retry with the recomputed delay */</i></td></tr>
<tr><th id="1504">1504</th><td>    } <b>while</b> (<var>1</var>);</td></tr>
<tr><th id="1505">1505</th><td></td></tr>
<tr><th id="1506">1506</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1507">1507</th><td>}</td></tr>
<tr><th id="1508">1508</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v3.6.0b2-99580-g07f1658</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

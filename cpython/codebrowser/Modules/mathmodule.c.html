<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>mathmodule.c source code [codebrowser/Modules/mathmodule.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/Modules/mathmodule.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>Modules</a>/<a href='mathmodule.c.html'>mathmodule.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Math module -- standard C math library functions, pi and e */</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/* Here are some comments from Tim Peters, extracted from the</i></td></tr>
<tr><th id="4">4</th><td><i>   discussion attached to <a href="http://bugs.python.org/issue1640">http://bugs.python.org/issue1640</a>.  They</i></td></tr>
<tr><th id="5">5</th><td><i>   describe the general aims of the math module with respect to</i></td></tr>
<tr><th id="6">6</th><td><i>   special values, IEEE-754 floating-point exceptions, and Python</i></td></tr>
<tr><th id="7">7</th><td><i>   exceptions.</i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>These are the "spirit of 754" rules:</i></td></tr>
<tr><th id="10">10</th><td><i></i></td></tr>
<tr><th id="11">11</th><td><i>1. If the mathematical result is a real number, but of magnitude too</i></td></tr>
<tr><th id="12">12</th><td><i>large to approximate by a machine float, overflow is signaled and the</i></td></tr>
<tr><th id="13">13</th><td><i>result is an infinity (with the appropriate sign).</i></td></tr>
<tr><th id="14">14</th><td><i></i></td></tr>
<tr><th id="15">15</th><td><i>2. If the mathematical result is a real number, but of magnitude too</i></td></tr>
<tr><th id="16">16</th><td><i>small to approximate by a machine float, underflow is signaled and the</i></td></tr>
<tr><th id="17">17</th><td><i>result is a zero (with the appropriate sign).</i></td></tr>
<tr><th id="18">18</th><td><i></i></td></tr>
<tr><th id="19">19</th><td><i>3. At a singularity (a value x such that the limit of f(y) as y</i></td></tr>
<tr><th id="20">20</th><td><i>approaches x exists and is an infinity), "divide by zero" is signaled</i></td></tr>
<tr><th id="21">21</th><td><i>and the result is an infinity (with the appropriate sign).  This is</i></td></tr>
<tr><th id="22">22</th><td><i>complicated a little by that the left-side and right-side limits may</i></td></tr>
<tr><th id="23">23</th><td><i>not be the same; e.g., 1/x approaches +inf or -inf as x approaches 0</i></td></tr>
<tr><th id="24">24</th><td><i>from the positive or negative directions.  In that specific case, the</i></td></tr>
<tr><th id="25">25</th><td><i>sign of the zero determines the result of 1/0.</i></td></tr>
<tr><th id="26">26</th><td><i></i></td></tr>
<tr><th id="27">27</th><td><i>4. At a point where a function has no defined result in the extended</i></td></tr>
<tr><th id="28">28</th><td><i>reals (i.e., the reals plus an infinity or two), invalid operation is</i></td></tr>
<tr><th id="29">29</th><td><i>signaled and a NaN is returned.</i></td></tr>
<tr><th id="30">30</th><td><i></i></td></tr>
<tr><th id="31">31</th><td><i>And these are what Python has historically /tried/ to do (but not</i></td></tr>
<tr><th id="32">32</th><td><i>always successfully, as platform libm behavior varies a lot):</i></td></tr>
<tr><th id="33">33</th><td><i></i></td></tr>
<tr><th id="34">34</th><td><i>For #1, raise OverflowError.</i></td></tr>
<tr><th id="35">35</th><td><i></i></td></tr>
<tr><th id="36">36</th><td><i>For #2, return a zero (with the appropriate sign if that happens by</i></td></tr>
<tr><th id="37">37</th><td><i>accident ;-)).</i></td></tr>
<tr><th id="38">38</th><td><i></i></td></tr>
<tr><th id="39">39</th><td><i>For #3 and #4, raise ValueError.  It may have made sense to raise</i></td></tr>
<tr><th id="40">40</th><td><i>Python's ZeroDivisionError in #3, but historically that's only been</i></td></tr>
<tr><th id="41">41</th><td><i>raised for division by zero and mod by zero.</i></td></tr>
<tr><th id="42">42</th><td><i></i></td></tr>
<tr><th id="43">43</th><td><i>*/</i></td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><i>/*</i></td></tr>
<tr><th id="46">46</th><td><i>   In general, on an IEEE-754 platform the aim is to follow the C99</i></td></tr>
<tr><th id="47">47</th><td><i>   standard, including Annex 'F', whenever possible.  Where the</i></td></tr>
<tr><th id="48">48</th><td><i>   standard recommends raising the 'divide-by-zero' or 'invalid'</i></td></tr>
<tr><th id="49">49</th><td><i>   floating-point exceptions, Python should raise a ValueError.  Where</i></td></tr>
<tr><th id="50">50</th><td><i>   the standard recommends raising 'overflow', Python should raise an</i></td></tr>
<tr><th id="51">51</th><td><i>   OverflowError.  In all other circumstances a value should be</i></td></tr>
<tr><th id="52">52</th><td><i>   returned.</i></td></tr>
<tr><th id="53">53</th><td><i> */</i></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><u>#include <a href="../Include/Python.h.html">"Python.h"</a></u></td></tr>
<tr><th id="56">56</th><td><u>#include <a href="_math.h.html">"_math.h"</a></u></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><u>#include <a href="clinic/mathmodule.c.h.html">"clinic/mathmodule.c.h"</a></u></td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td><i>/*[clinic input]</i></td></tr>
<tr><th id="61">61</th><td><i>module math</i></td></tr>
<tr><th id="62">62</th><td><i>[clinic start generated code]*/</i></td></tr>
<tr><th id="63">63</th><td><i>/*[clinic end generated code: output=da39a3ee5e6b4b0d input=76bc7002685dd942]*/</i></td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i  data-doc="pi">/*</i></td></tr>
<tr><th id="67">67</th><td><i  data-doc="pi">   sin(pi*x), giving accurate results for all finite x (especially x</i></td></tr>
<tr><th id="68">68</th><td><i  data-doc="pi">   integral or close to an integer).  This is here for use in the</i></td></tr>
<tr><th id="69">69</th><td><i  data-doc="pi">   reflection formula for the gamma function.  It conforms to IEEE</i></td></tr>
<tr><th id="70">70</th><td><i  data-doc="pi">   754-2008 for finite arguments, but not for infinities or nans.</i></td></tr>
<tr><th id="71">71</th><td><i  data-doc="pi">*/</i></td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="pi" title='pi' data-type='const double' data-ref="pi">pi</dfn> = <var>3.141592653589793238462643383279502884197</var>;</td></tr>
<tr><th id="74">74</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="logpi" title='logpi' data-type='const double' data-ref="logpi">logpi</dfn> = <var>1.144729885849400174143427351353058711647</var>;</td></tr>
<tr><th id="75">75</th><td><u>#<span data-ppcond="75">if</span> !defined(<a class="macro" href="../pyconfig.h.html#253" data-ref="_M/HAVE_ERF">HAVE_ERF</a>) || !defined(<a class="macro" href="../pyconfig.h.html#256" data-ref="_M/HAVE_ERFC">HAVE_ERFC</a>)</u></td></tr>
<tr><th id="76">76</th><td><em>static</em> <em>const</em> <em>double</em> sqrtpi = <var>1.772453850905516027298167483341145182798</var>;</td></tr>
<tr><th id="77">77</th><td><u>#<span data-ppcond="75">endif</span> /* !defined(HAVE_ERF) || !defined(HAVE_ERFC) */</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="80">80</th><td><dfn class="tu decl def" id="sinpi" title='sinpi' data-type='double sinpi(double x)' data-ref="sinpi">sinpi</dfn>(<em>double</em> <dfn class="local col9 decl" id="129x" title='x' data-type='double' data-ref="129x">x</dfn>)</td></tr>
<tr><th id="81">81</th><td>{</td></tr>
<tr><th id="82">82</th><td>    <em>double</em> <dfn class="local col0 decl" id="130y" title='y' data-type='double' data-ref="130y">y</dfn>, <dfn class="local col1 decl" id="131r" title='r' data-type='double' data-ref="131r">r</dfn>;</td></tr>
<tr><th id="83">83</th><td>    <em>int</em> <dfn class="local col2 decl" id="132n" title='n' data-type='int' data-ref="132n">n</dfn>;</td></tr>
<tr><th id="84">84</th><td>    <i>/* this function should only ever be called for finite arguments */</i></td></tr>
<tr><th id="85">85</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="(((sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))) ? (void) (0) : __assert_fail (&quot;Py_IS_FINITE(x)&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 85, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col9 ref" href="#129x" title='x' data-ref="129x">x</a>));</td></tr>
<tr><th id="86">86</th><td>    <a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#187" title='fmod' data-ref="fmod">fmod</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col9 ref" href="#129x" title='x' data-ref="129x">x</a>), <var>2.0</var>);</td></tr>
<tr><th id="87">87</th><td>    <a class="local col2 ref" href="#132n" title='n' data-ref="132n">n</a> = (<em>int</em>)<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#319" title='round' data-ref="round">round</a>(<var>2.0</var>*<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>);</td></tr>
<tr><th id="88">88</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((0 &lt;= n &amp;&amp; n &lt;= 4) ? (void) (0) : __assert_fail (&quot;0 &lt;= n &amp;&amp; n &lt;= 4&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 88, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<var>0</var> &lt;= <a class="local col2 ref" href="#132n" title='n' data-ref="132n">n</a> &amp;&amp; <a class="local col2 ref" href="#132n" title='n' data-ref="132n">n</a> &lt;= <var>4</var>);</td></tr>
<tr><th id="89">89</th><td>    <b>switch</b> (<a class="local col2 ref" href="#132n" title='n' data-ref="132n">n</a>) {</td></tr>
<tr><th id="90">90</th><td>    <b>case</b> <var>0</var>:</td></tr>
<tr><th id="91">91</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#65" title='sin' data-ref="sin">sin</a>(<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a>*<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>);</td></tr>
<tr><th id="92">92</th><td>        <b>break</b>;</td></tr>
<tr><th id="93">93</th><td>    <b>case</b> <var>1</var>:</td></tr>
<tr><th id="94">94</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#63" title='cos' data-ref="cos">cos</a>(<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a>*(<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>-<var>0.5</var>));</td></tr>
<tr><th id="95">95</th><td>        <b>break</b>;</td></tr>
<tr><th id="96">96</th><td>    <b>case</b> <var>2</var>:</td></tr>
<tr><th id="97">97</th><td>        <i>/* N.B. -sin(pi*(y-1.0)) is *not* equivalent: it would give</i></td></tr>
<tr><th id="98">98</th><td><i>           -0.0 instead of 0.0 when y == 1.0. */</i></td></tr>
<tr><th id="99">99</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#65" title='sin' data-ref="sin">sin</a>(<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a>*(<var>1.0</var>-<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>));</td></tr>
<tr><th id="100">100</th><td>        <b>break</b>;</td></tr>
<tr><th id="101">101</th><td>    <b>case</b> <var>3</var>:</td></tr>
<tr><th id="102">102</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = -<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#63" title='cos' data-ref="cos">cos</a>(<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a>*(<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>-<var>1.5</var>));</td></tr>
<tr><th id="103">103</th><td>        <b>break</b>;</td></tr>
<tr><th id="104">104</th><td>    <b>case</b> <var>4</var>:</td></tr>
<tr><th id="105">105</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#65" title='sin' data-ref="sin">sin</a>(<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a>*(<a class="local col0 ref" href="#130y" title='y' data-ref="130y">y</a>-<var>2.0</var>));</td></tr>
<tr><th id="106">106</th><td>        <b>break</b>;</td></tr>
<tr><th id="107">107</th><td>    <b>default</b>:</td></tr>
<tr><th id="108">108</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((0) ? (void) (0) : __assert_fail (&quot;0&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 108, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<var>0</var>);  <i>/* should never get here */</i></td></tr>
<tr><th id="109">109</th><td>        <a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a> = -<var>1.23e200</var>; <i>/* silence gcc warning */</i></td></tr>
<tr><th id="110">110</th><td>    }</td></tr>
<tr><th id="111">111</th><td>    <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>1.0</var>, <a class="local col9 ref" href="#129x" title='x' data-ref="129x">x</a>)*<a class="local col1 ref" href="#131r" title='r' data-ref="131r">r</a>;</td></tr>
<tr><th id="112">112</th><td>}</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td><i>/* Implementation of the real gamma function.  In extensive but non-exhaustive</i></td></tr>
<tr><th id="115">115</th><td><i>   random tests, this function proved accurate to within &lt;= 10 ulps across the</i></td></tr>
<tr><th id="116">116</th><td><i>   entire float domain.  Note that accuracy may depend on the quality of the</i></td></tr>
<tr><th id="117">117</th><td><i>   system math functions, the pow function in particular.  Special cases</i></td></tr>
<tr><th id="118">118</th><td><i>   follow C99 annex F.  The parameters and method are tailored to platforms</i></td></tr>
<tr><th id="119">119</th><td><i>   whose double format is the IEEE 754 binary64 format.</i></td></tr>
<tr><th id="120">120</th><td><i></i></td></tr>
<tr><th id="121">121</th><td><i>   Method: for x &gt; 0.0 we use the Lanczos approximation with parameters N=13</i></td></tr>
<tr><th id="122">122</th><td><i>   and g=6.024680040776729583740234375; these parameters are amongst those</i></td></tr>
<tr><th id="123">123</th><td><i>   used by the Boost library.  Following Boost (again), we re-express the</i></td></tr>
<tr><th id="124">124</th><td><i>   Lanczos sum as a rational function, and compute it that way.  The</i></td></tr>
<tr><th id="125">125</th><td><i>   coefficients below were computed independently using MPFR, and have been</i></td></tr>
<tr><th id="126">126</th><td><i>   double-checked against the coefficients in the Boost source code.</i></td></tr>
<tr><th id="127">127</th><td><i></i></td></tr>
<tr><th id="128">128</th><td><i>   For x &lt; 0.0 we use the reflection formula.</i></td></tr>
<tr><th id="129">129</th><td><i></i></td></tr>
<tr><th id="130">130</th><td><i>   There's one minor tweak that deserves explanation: Lanczos' formula for</i></td></tr>
<tr><th id="131">131</th><td><i>   Gamma(x) involves computing pow(x+g-0.5, x-0.5) / exp(x+g-0.5).  For many x</i></td></tr>
<tr><th id="132">132</th><td><i>   values, x+g-0.5 can be represented exactly.  However, in cases where it</i></td></tr>
<tr><th id="133">133</th><td><i>   can't be represented exactly the small error in x+g-0.5 can be magnified</i></td></tr>
<tr><th id="134">134</th><td><i>   significantly by the pow and exp calls, especially for large x.  A cheap</i></td></tr>
<tr><th id="135">135</th><td><i>   correction is to multiply by (1 + e*g/(x+g-0.5)), where e is the error</i></td></tr>
<tr><th id="136">136</th><td><i>   involved in the computation of x+g-0.5 (that is, e = computed value of</i></td></tr>
<tr><th id="137">137</th><td><i>   x+g-0.5 - exact value of x+g-0.5).  Here's the proof:</i></td></tr>
<tr><th id="138">138</th><td><i></i></td></tr>
<tr><th id="139">139</th><td><i>   Correction factor</i></td></tr>
<tr><th id="140">140</th><td><i>   -----------------</i></td></tr>
<tr><th id="141">141</th><td><i>   Write x+g-0.5 = y-e, where y is exactly representable as an IEEE 754</i></td></tr>
<tr><th id="142">142</th><td><i>   double, and e is tiny.  Then:</i></td></tr>
<tr><th id="143">143</th><td><i></i></td></tr>
<tr><th id="144">144</th><td><i>     pow(x+g-0.5,x-0.5)/exp(x+g-0.5) = pow(y-e, x-0.5)/exp(y-e)</i></td></tr>
<tr><th id="145">145</th><td><i>     = pow(y, x-0.5)/exp(y) * C,</i></td></tr>
<tr><th id="146">146</th><td><i></i></td></tr>
<tr><th id="147">147</th><td><i>   where the correction_factor C is given by</i></td></tr>
<tr><th id="148">148</th><td><i></i></td></tr>
<tr><th id="149">149</th><td><i>     C = pow(1-e/y, x-0.5) * exp(e)</i></td></tr>
<tr><th id="150">150</th><td><i></i></td></tr>
<tr><th id="151">151</th><td><i>   Since e is tiny, pow(1-e/y, x-0.5) ~ 1-(x-0.5)*e/y, and exp(x) ~ 1+e, so:</i></td></tr>
<tr><th id="152">152</th><td><i></i></td></tr>
<tr><th id="153">153</th><td><i>     C ~ (1-(x-0.5)*e/y) * (1+e) ~ 1 + e*(y-(x-0.5))/y</i></td></tr>
<tr><th id="154">154</th><td><i></i></td></tr>
<tr><th id="155">155</th><td><i>   But y-(x-0.5) = g+e, and g+e ~ g.  So we get C ~ 1 + e*g/y, and</i></td></tr>
<tr><th id="156">156</th><td><i></i></td></tr>
<tr><th id="157">157</th><td><i>     pow(x+g-0.5,x-0.5)/exp(x+g-0.5) ~ pow(y, x-0.5)/exp(y) * (1 + e*g/y),</i></td></tr>
<tr><th id="158">158</th><td><i></i></td></tr>
<tr><th id="159">159</th><td><i>   Note that for accuracy, when computing r*C it's better to do</i></td></tr>
<tr><th id="160">160</th><td><i></i></td></tr>
<tr><th id="161">161</th><td><i>     r + e*g/y*r;</i></td></tr>
<tr><th id="162">162</th><td><i></i></td></tr>
<tr><th id="163">163</th><td><i>   than</i></td></tr>
<tr><th id="164">164</th><td><i></i></td></tr>
<tr><th id="165">165</th><td><i>     r * (1 + e*g/y);</i></td></tr>
<tr><th id="166">166</th><td><i></i></td></tr>
<tr><th id="167">167</th><td><i>   since the addition in the latter throws away most of the bits of</i></td></tr>
<tr><th id="168">168</th><td><i>   information in e*g/y.</i></td></tr>
<tr><th id="169">169</th><td><i>*/</i></td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td><u>#define <dfn class="macro" id="_M/LANCZOS_N" data-ref="_M/LANCZOS_N">LANCZOS_N</dfn> 13</u></td></tr>
<tr><th id="172">172</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="lanczos_g" title='lanczos_g' data-type='const double' data-ref="lanczos_g">lanczos_g</dfn> = <var>6.024680040776729583740234375</var>;</td></tr>
<tr><th id="173">173</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="lanczos_g_minus_half" title='lanczos_g_minus_half' data-type='const double' data-ref="lanczos_g_minus_half">lanczos_g_minus_half</dfn> = <var>5.524680040776729583740234375</var>;</td></tr>
<tr><th id="174">174</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="lanczos_num_coeffs" title='lanczos_num_coeffs' data-type='const double [13]' data-ref="lanczos_num_coeffs">lanczos_num_coeffs</dfn>[<a class="macro" href="#171" title="13" data-ref="_M/LANCZOS_N">LANCZOS_N</a>] = {</td></tr>
<tr><th id="175">175</th><td>    <var>23531376880.410759688572007674451636754734846804940</var>,</td></tr>
<tr><th id="176">176</th><td>    <var>42919803642.649098768957899047001988850926355848959</var>,</td></tr>
<tr><th id="177">177</th><td>    <var>35711959237.355668049440185451547166705960488635843</var>,</td></tr>
<tr><th id="178">178</th><td>    <var>17921034426.037209699919755754458931112671403265390</var>,</td></tr>
<tr><th id="179">179</th><td>    <var>6039542586.3520280050642916443072979210699388420708</var>,</td></tr>
<tr><th id="180">180</th><td>    <var>1439720407.3117216736632230727949123939715485786772</var>,</td></tr>
<tr><th id="181">181</th><td>    <var>248874557.86205415651146038641322942321632125127801</var>,</td></tr>
<tr><th id="182">182</th><td>    <var>31426415.585400194380614231628318205362874684987640</var>,</td></tr>
<tr><th id="183">183</th><td>    <var>2876370.6289353724412254090516208496135991145378768</var>,</td></tr>
<tr><th id="184">184</th><td>    <var>186056.26539522349504029498971604569928220784236328</var>,</td></tr>
<tr><th id="185">185</th><td>    <var>8071.6720023658162106380029022722506138218516325024</var>,</td></tr>
<tr><th id="186">186</th><td>    <var>210.82427775157934587250973392071336271166969580291</var>,</td></tr>
<tr><th id="187">187</th><td>    <var>2.5066282746310002701649081771338373386264310793408</var></td></tr>
<tr><th id="188">188</th><td>};</td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td><i  data-doc="lanczos_den_coeffs">/* denominator is x*(x+1)*...*(x+LANCZOS_N-2) */</i></td></tr>
<tr><th id="191">191</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="lanczos_den_coeffs" title='lanczos_den_coeffs' data-type='const double [13]' data-ref="lanczos_den_coeffs">lanczos_den_coeffs</dfn>[<a class="macro" href="#171" title="13" data-ref="_M/LANCZOS_N">LANCZOS_N</a>] = {</td></tr>
<tr><th id="192">192</th><td>    <var>0.0</var>, <var>39916800.0</var>, <var>120543840.0</var>, <var>150917976.0</var>, <var>105258076.0</var>, <var>45995730.0</var>,</td></tr>
<tr><th id="193">193</th><td>    <var>13339535.0</var>, <var>2637558.0</var>, <var>357423.0</var>, <var>32670.0</var>, <var>1925.0</var>, <var>66.0</var>, <var>1.0</var>};</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td><i>/* gamma values for small positive integers, 1 though NGAMMA_INTEGRAL */</i></td></tr>
<tr><th id="196">196</th><td><u>#define <dfn class="macro" id="_M/NGAMMA_INTEGRAL" data-ref="_M/NGAMMA_INTEGRAL">NGAMMA_INTEGRAL</dfn> 23</u></td></tr>
<tr><th id="197">197</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="gamma_integral" title='gamma_integral' data-type='const double [23]' data-ref="gamma_integral">gamma_integral</dfn>[<a class="macro" href="#196" title="23" data-ref="_M/NGAMMA_INTEGRAL">NGAMMA_INTEGRAL</a>] = {</td></tr>
<tr><th id="198">198</th><td>    <var>1.0</var>, <var>1.0</var>, <var>2.0</var>, <var>6.0</var>, <var>24.0</var>, <var>120.0</var>, <var>720.0</var>, <var>5040.0</var>, <var>40320.0</var>, <var>362880.0</var>,</td></tr>
<tr><th id="199">199</th><td>    <var>3628800.0</var>, <var>39916800.0</var>, <var>479001600.0</var>, <var>6227020800.0</var>, <var>87178291200.0</var>,</td></tr>
<tr><th id="200">200</th><td>    <var>1307674368000.0</var>, <var>20922789888000.0</var>, <var>355687428096000.0</var>,</td></tr>
<tr><th id="201">201</th><td>    <var>6402373705728000.0</var>, <var>121645100408832000.0</var>, <var>2432902008176640000.0</var>,</td></tr>
<tr><th id="202">202</th><td>    <var>51090942171709440000.0</var>, <var>1124000727777607680000.0</var>,</td></tr>
<tr><th id="203">203</th><td>};</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><i  data-doc="lanczos_sum">/* Lanczos' sum L_g(x), for positive x */</i></td></tr>
<tr><th id="206">206</th><td></td></tr>
<tr><th id="207">207</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="208">208</th><td><dfn class="tu decl def" id="lanczos_sum" title='lanczos_sum' data-type='double lanczos_sum(double x)' data-ref="lanczos_sum">lanczos_sum</dfn>(<em>double</em> <dfn class="local col3 decl" id="133x" title='x' data-type='double' data-ref="133x">x</dfn>)</td></tr>
<tr><th id="209">209</th><td>{</td></tr>
<tr><th id="210">210</th><td>    <em>double</em> <dfn class="local col4 decl" id="134num" title='num' data-type='double' data-ref="134num">num</dfn> = <var>0.0</var>, <dfn class="local col5 decl" id="135den" title='den' data-type='double' data-ref="135den">den</dfn> = <var>0.0</var>;</td></tr>
<tr><th id="211">211</th><td>    <em>int</em> <dfn class="local col6 decl" id="136i" title='i' data-type='int' data-ref="136i">i</dfn>;</td></tr>
<tr><th id="212">212</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((x &gt; 0.0) ? (void) (0) : __assert_fail (&quot;x &gt; 0.0&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 212, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> &gt; <var>0.0</var>);</td></tr>
<tr><th id="213">213</th><td>    <i>/* evaluate the rational function lanczos_sum(x).  For large</i></td></tr>
<tr><th id="214">214</th><td><i>       x, the obvious algorithm risks overflow, so we instead</i></td></tr>
<tr><th id="215">215</th><td><i>       rescale the denominator and numerator of the rational</i></td></tr>
<tr><th id="216">216</th><td><i>       function by x**(1-LANCZOS_N) and treat this as a</i></td></tr>
<tr><th id="217">217</th><td><i>       rational function in 1/x.  This also reduces the error for</i></td></tr>
<tr><th id="218">218</th><td><i>       larger x values.  The choice of cutoff point (5.0 below) is</i></td></tr>
<tr><th id="219">219</th><td><i>       somewhat arbitrary; in tests, smaller cutoff values than</i></td></tr>
<tr><th id="220">220</th><td><i>       this resulted in lower accuracy. */</i></td></tr>
<tr><th id="221">221</th><td>    <b>if</b> (<a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> &lt; <var>5.0</var>) {</td></tr>
<tr><th id="222">222</th><td>        <b>for</b> (<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a> = <a class="macro" href="#171" title="13" data-ref="_M/LANCZOS_N">LANCZOS_N</a>; --<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a> &gt;= <var>0</var>; ) {</td></tr>
<tr><th id="223">223</th><td>            <a class="local col4 ref" href="#134num" title='num' data-ref="134num">num</a> = <a class="local col4 ref" href="#134num" title='num' data-ref="134num">num</a> * <a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> + <a class="tu ref" href="#lanczos_num_coeffs" title='lanczos_num_coeffs' data-use='r' data-ref="lanczos_num_coeffs">lanczos_num_coeffs</a>[<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>];</td></tr>
<tr><th id="224">224</th><td>            <a class="local col5 ref" href="#135den" title='den' data-ref="135den">den</a> = <a class="local col5 ref" href="#135den" title='den' data-ref="135den">den</a> * <a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> + <a class="tu ref" href="#lanczos_den_coeffs" title='lanczos_den_coeffs' data-use='r' data-ref="lanczos_den_coeffs">lanczos_den_coeffs</a>[<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>];</td></tr>
<tr><th id="225">225</th><td>        }</td></tr>
<tr><th id="226">226</th><td>    }</td></tr>
<tr><th id="227">227</th><td>    <b>else</b> {</td></tr>
<tr><th id="228">228</th><td>        <b>for</b> (<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a> = <var>0</var>; <a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a> &lt; <a class="macro" href="#171" title="13" data-ref="_M/LANCZOS_N">LANCZOS_N</a>; <a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>++) {</td></tr>
<tr><th id="229">229</th><td>            <a class="local col4 ref" href="#134num" title='num' data-ref="134num">num</a> = <a class="local col4 ref" href="#134num" title='num' data-ref="134num">num</a> / <a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> + <a class="tu ref" href="#lanczos_num_coeffs" title='lanczos_num_coeffs' data-use='r' data-ref="lanczos_num_coeffs">lanczos_num_coeffs</a>[<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>];</td></tr>
<tr><th id="230">230</th><td>            <a class="local col5 ref" href="#135den" title='den' data-ref="135den">den</a> = <a class="local col5 ref" href="#135den" title='den' data-ref="135den">den</a> / <a class="local col3 ref" href="#133x" title='x' data-ref="133x">x</a> + <a class="tu ref" href="#lanczos_den_coeffs" title='lanczos_den_coeffs' data-use='r' data-ref="lanczos_den_coeffs">lanczos_den_coeffs</a>[<a class="local col6 ref" href="#136i" title='i' data-ref="136i">i</a>];</td></tr>
<tr><th id="231">231</th><td>        }</td></tr>
<tr><th id="232">232</th><td>    }</td></tr>
<tr><th id="233">233</th><td>    <b>return</b> <a class="local col4 ref" href="#134num" title='num' data-ref="134num">num</a>/<a class="local col5 ref" href="#135den" title='den' data-ref="135den">den</a>;</td></tr>
<tr><th id="234">234</th><td>}</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td><i  data-doc="m_inf">/* Constant for +infinity, generated in the same way as float('inf'). */</i></td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="239">239</th><td><dfn class="tu decl def" id="m_inf" title='m_inf' data-type='double m_inf()' data-ref="m_inf">m_inf</dfn>(<em>void</em>)</td></tr>
<tr><th id="240">240</th><td>{</td></tr>
<tr><th id="241">241</th><td><u>#<span data-ppcond="241">ifndef</span> <span class="macro" data-ref="_M/PY_NO_SHORT_FLOAT_REPR">PY_NO_SHORT_FLOAT_REPR</span></u></td></tr>
<tr><th id="242">242</th><td>    <b>return</b> <a class="ref" href="../Include/dtoa.h.html#_Py_dg_infinity" title='_Py_dg_infinity' data-ref="_Py_dg_infinity">_Py_dg_infinity</a>(<var>0</var>);</td></tr>
<tr><th id="243">243</th><td><u>#<span data-ppcond="241">else</span></u></td></tr>
<tr><th id="244">244</th><td>    <b>return</b> Py_HUGE_VAL;</td></tr>
<tr><th id="245">245</th><td><u>#<span data-ppcond="241">endif</span></u></td></tr>
<tr><th id="246">246</th><td>}</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td><i>/* Constant nan value, generated in the same way as float('nan'). */</i></td></tr>
<tr><th id="249">249</th><td><i>/* We don't currently assume that Py_NAN is defined everywhere. */</i></td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td><u>#<span data-ppcond="251">if</span> !defined(<span class="macro" data-ref="_M/PY_NO_SHORT_FLOAT_REPR">PY_NO_SHORT_FLOAT_REPR</span>) || defined(<a class="macro" href="../Include/pymath.h.html#160" data-ref="_M/Py_NAN">Py_NAN</a>)</u></td></tr>
<tr><th id="252">252</th><td></td></tr>
<tr><th id="253">253</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="254">254</th><td><dfn class="tu decl def" id="m_nan" title='m_nan' data-type='double m_nan()' data-ref="m_nan">m_nan</dfn>(<em>void</em>)</td></tr>
<tr><th id="255">255</th><td>{</td></tr>
<tr><th id="256">256</th><td><u>#<span data-ppcond="256">ifndef</span> <span class="macro" data-ref="_M/PY_NO_SHORT_FLOAT_REPR">PY_NO_SHORT_FLOAT_REPR</span></u></td></tr>
<tr><th id="257">257</th><td>    <b>return</b> <a class="ref" href="../Include/dtoa.h.html#_Py_dg_stdnan" title='_Py_dg_stdnan' data-ref="_Py_dg_stdnan">_Py_dg_stdnan</a>(<var>0</var>);</td></tr>
<tr><th id="258">258</th><td><u>#<span data-ppcond="256">else</span></u></td></tr>
<tr><th id="259">259</th><td>    <b>return</b> Py_NAN;</td></tr>
<tr><th id="260">260</th><td><u>#<span data-ppcond="256">endif</span></u></td></tr>
<tr><th id="261">261</th><td>}</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td><u>#<span data-ppcond="251">endif</span></u></td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="266">266</th><td><dfn class="tu decl def" id="m_tgamma" title='m_tgamma' data-type='double m_tgamma(double x)' data-ref="m_tgamma">m_tgamma</dfn>(<em>double</em> <dfn class="local col7 decl" id="137x" title='x' data-type='double' data-ref="137x">x</dfn>)</td></tr>
<tr><th id="267">267</th><td>{</td></tr>
<tr><th id="268">268</th><td>    <em>double</em> <dfn class="local col8 decl" id="138absx" title='absx' data-type='double' data-ref="138absx">absx</dfn>, <dfn class="local col9 decl" id="139r" title='r' data-type='double' data-ref="139r">r</dfn>, <dfn class="local col0 decl" id="140y" title='y' data-type='double' data-ref="140y">y</dfn>, <dfn class="local col1 decl" id="141z" title='z' data-type='double' data-ref="141z">z</dfn>, <dfn class="local col2 decl" id="142sqrtpow" title='sqrtpow' data-type='double' data-ref="142sqrtpow">sqrtpow</dfn>;</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td>    <i>/* special cases */</i></td></tr>
<tr><th id="271">271</th><td>    <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>)) {</td></tr>
<tr><th id="272">272</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>) || <a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="273">273</th><td>            <b>return</b> <a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>;  <i>/* tgamma(nan) = nan, tgamma(inf) = inf */</i></td></tr>
<tr><th id="274">274</th><td>        <b>else</b> {</td></tr>
<tr><th id="275">275</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="276">276</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>;  <i>/* tgamma(-inf) = nan, invalid */</i></td></tr>
<tr><th id="277">277</th><td>        }</td></tr>
<tr><th id="278">278</th><td>    }</td></tr>
<tr><th id="279">279</th><td>    <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> == <var>0.0</var>) {</td></tr>
<tr><th id="280">280</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="281">281</th><td>        <i>/* tgamma(+-0.0) = +-inf, divide-by-zero */</i></td></tr>
<tr><th id="282">282</th><td>        <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>, <a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>);</td></tr>
<tr><th id="283">283</th><td>    }</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>    <i>/* integer arguments */</i></td></tr>
<tr><th id="286">286</th><td>    <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> == <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#184" title='floor' data-ref="floor">floor</a>(<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>)) {</td></tr>
<tr><th id="287">287</th><td>        <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> &lt; <var>0.0</var>) {</td></tr>
<tr><th id="288">288</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;  <i>/* tgamma(n) = nan, invalid for */</i></td></tr>
<tr><th id="289">289</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* negative integers n */</i></td></tr>
<tr><th id="290">290</th><td>        }</td></tr>
<tr><th id="291">291</th><td>        <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> &lt;= <a class="macro" href="#196" title="23" data-ref="_M/NGAMMA_INTEGRAL">NGAMMA_INTEGRAL</a>)</td></tr>
<tr><th id="292">292</th><td>            <b>return</b> <a class="tu ref" href="#gamma_integral" title='gamma_integral' data-use='r' data-ref="gamma_integral">gamma_integral</a>[(<em>int</em>)<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> - <var>1</var>];</td></tr>
<tr><th id="293">293</th><td>    }</td></tr>
<tr><th id="294">294</th><td>    <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>);</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td>    <i>/* tiny arguments:  tgamma(x) ~ 1/x for x near 0 */</i></td></tr>
<tr><th id="297">297</th><td>    <b>if</b> (<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> &lt; <var>1e-20</var>) {</td></tr>
<tr><th id="298">298</th><td>        <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> = <var>1.0</var>/<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>;</td></tr>
<tr><th id="299">299</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>))</td></tr>
<tr><th id="300">300</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="301">301</th><td>        <b>return</b> <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>;</td></tr>
<tr><th id="302">302</th><td>    }</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>    <i>/* large arguments: assuming IEEE 754 doubles, tgamma(x) overflows for</i></td></tr>
<tr><th id="305">305</th><td><i>       x &gt; 200, and underflows to +-0.0 for x &lt; -200, not a negative</i></td></tr>
<tr><th id="306">306</th><td><i>       integer. */</i></td></tr>
<tr><th id="307">307</th><td>    <b>if</b> (<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> &gt; <var>200.0</var>) {</td></tr>
<tr><th id="308">308</th><td>        <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> &lt; <var>0.0</var>) {</td></tr>
<tr><th id="309">309</th><td>            <b>return</b> <var>0.0</var>/<a class="tu ref" href="#sinpi" title='sinpi' data-use='c' data-ref="sinpi">sinpi</a>(<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a>);</td></tr>
<tr><th id="310">310</th><td>        }</td></tr>
<tr><th id="311">311</th><td>        <b>else</b> {</td></tr>
<tr><th id="312">312</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="313">313</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>;</td></tr>
<tr><th id="314">314</th><td>        }</td></tr>
<tr><th id="315">315</th><td>    }</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>    <a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a> = <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> + <a class="tu ref" href="#lanczos_g_minus_half" title='lanczos_g_minus_half' data-use='r' data-ref="lanczos_g_minus_half">lanczos_g_minus_half</a>;</td></tr>
<tr><th id="318">318</th><td>    <i>/* compute error in sum */</i></td></tr>
<tr><th id="319">319</th><td>    <b>if</b> (<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> &gt; <a class="tu ref" href="#lanczos_g_minus_half" title='lanczos_g_minus_half' data-use='r' data-ref="lanczos_g_minus_half">lanczos_g_minus_half</a>) {</td></tr>
<tr><th id="320">320</th><td>        <i>/* note: the correction can be foiled by an optimizing</i></td></tr>
<tr><th id="321">321</th><td><i>           compiler that (incorrectly) thinks that an expression like</i></td></tr>
<tr><th id="322">322</th><td><i>           a + b - a - b can be optimized to 0.0.  This shouldn't</i></td></tr>
<tr><th id="323">323</th><td><i>           happen in a standards-conforming compiler. */</i></td></tr>
<tr><th id="324">324</th><td>        <em>double</em> <dfn class="local col3 decl" id="143q" title='q' data-type='double' data-ref="143q">q</dfn> = <a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a> - <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a>;</td></tr>
<tr><th id="325">325</th><td>        <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> = <a class="local col3 ref" href="#143q" title='q' data-ref="143q">q</a> - <a class="tu ref" href="#lanczos_g_minus_half" title='lanczos_g_minus_half' data-use='r' data-ref="lanczos_g_minus_half">lanczos_g_minus_half</a>;</td></tr>
<tr><th id="326">326</th><td>    }</td></tr>
<tr><th id="327">327</th><td>    <b>else</b> {</td></tr>
<tr><th id="328">328</th><td>        <em>double</em> <dfn class="local col4 decl" id="144q" title='q' data-type='double' data-ref="144q">q</dfn> = <a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a> - <a class="tu ref" href="#lanczos_g_minus_half" title='lanczos_g_minus_half' data-use='r' data-ref="lanczos_g_minus_half">lanczos_g_minus_half</a>;</td></tr>
<tr><th id="329">329</th><td>        <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> = <a class="local col4 ref" href="#144q" title='q' data-ref="144q">q</a> - <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a>;</td></tr>
<tr><th id="330">330</th><td>    }</td></tr>
<tr><th id="331">331</th><td>    <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> = <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> * <a class="tu ref" href="#lanczos_g" title='lanczos_g' data-use='r' data-ref="lanczos_g">lanczos_g</a> / <a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>;</td></tr>
<tr><th id="332">332</th><td>    <b>if</b> (<a class="local col7 ref" href="#137x" title='x' data-ref="137x">x</a> &lt; <var>0.0</var>) {</td></tr>
<tr><th id="333">333</th><td>        <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> = -<a class="tu ref" href="#pi" title='pi' data-use='r' data-ref="pi">pi</a> / <a class="tu ref" href="#sinpi" title='sinpi' data-use='c' data-ref="sinpi">sinpi</a>(<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a>) / <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> * <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#100" title='exp' data-ref="exp">exp</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>) / <a class="tu ref" href="#lanczos_sum" title='lanczos_sum' data-use='c' data-ref="lanczos_sum">lanczos_sum</a>(<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a>);</td></tr>
<tr><th id="334">334</th><td>        <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> -= <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> * <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>;</td></tr>
<tr><th id="335">335</th><td>        <b>if</b> (<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> &lt; <var>140.0</var>) {</td></tr>
<tr><th id="336">336</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> /= <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#153" title='pow' data-ref="pow">pow</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>, <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> - <var>0.5</var>);</td></tr>
<tr><th id="337">337</th><td>        }</td></tr>
<tr><th id="338">338</th><td>        <b>else</b> {</td></tr>
<tr><th id="339">339</th><td>            <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#153" title='pow' data-ref="pow">pow</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>, <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> / <var>2.0</var> - <var>0.25</var>);</td></tr>
<tr><th id="340">340</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> /= <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a>;</td></tr>
<tr><th id="341">341</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> /= <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a>;</td></tr>
<tr><th id="342">342</th><td>        }</td></tr>
<tr><th id="343">343</th><td>    }</td></tr>
<tr><th id="344">344</th><td>    <b>else</b> {</td></tr>
<tr><th id="345">345</th><td>        <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> = <a class="tu ref" href="#lanczos_sum" title='lanczos_sum' data-use='c' data-ref="lanczos_sum">lanczos_sum</a>(<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a>) / <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#100" title='exp' data-ref="exp">exp</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>);</td></tr>
<tr><th id="346">346</th><td>        <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> += <a class="local col1 ref" href="#141z" title='z' data-ref="141z">z</a> * <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>;</td></tr>
<tr><th id="347">347</th><td>        <b>if</b> (<a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> &lt; <var>140.0</var>) {</td></tr>
<tr><th id="348">348</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> *= <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#153" title='pow' data-ref="pow">pow</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>, <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> - <var>0.5</var>);</td></tr>
<tr><th id="349">349</th><td>        }</td></tr>
<tr><th id="350">350</th><td>        <b>else</b> {</td></tr>
<tr><th id="351">351</th><td>            <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#153" title='pow' data-ref="pow">pow</a>(<a class="local col0 ref" href="#140y" title='y' data-ref="140y">y</a>, <a class="local col8 ref" href="#138absx" title='absx' data-ref="138absx">absx</a> / <var>2.0</var> - <var>0.25</var>);</td></tr>
<tr><th id="352">352</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> *= <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a>;</td></tr>
<tr><th id="353">353</th><td>            <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a> *= <a class="local col2 ref" href="#142sqrtpow" title='sqrtpow' data-ref="142sqrtpow">sqrtpow</a>;</td></tr>
<tr><th id="354">354</th><td>        }</td></tr>
<tr><th id="355">355</th><td>    }</td></tr>
<tr><th id="356">356</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>))</td></tr>
<tr><th id="357">357</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="358">358</th><td>    <b>return</b> <a class="local col9 ref" href="#139r" title='r' data-ref="139r">r</a>;</td></tr>
<tr><th id="359">359</th><td>}</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td><i  data-doc="m_lgamma">/*</i></td></tr>
<tr><th id="362">362</th><td><i  data-doc="m_lgamma">   lgamma:  natural log of the absolute value of the Gamma function.</i></td></tr>
<tr><th id="363">363</th><td><i  data-doc="m_lgamma">   For large arguments, Lanczos' formula works extremely well here.</i></td></tr>
<tr><th id="364">364</th><td><i  data-doc="m_lgamma">*/</i></td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="367">367</th><td><dfn class="tu decl def" id="m_lgamma" title='m_lgamma' data-type='double m_lgamma(double x)' data-ref="m_lgamma">m_lgamma</dfn>(<em>double</em> <dfn class="local col5 decl" id="145x" title='x' data-type='double' data-ref="145x">x</dfn>)</td></tr>
<tr><th id="368">368</th><td>{</td></tr>
<tr><th id="369">369</th><td>    <em>double</em> <dfn class="local col6 decl" id="146r" title='r' data-type='double' data-ref="146r">r</dfn>;</td></tr>
<tr><th id="370">370</th><td>    <em>double</em> <dfn class="local col7 decl" id="147absx" title='absx' data-type='double' data-ref="147absx">absx</dfn>;</td></tr>
<tr><th id="371">371</th><td></td></tr>
<tr><th id="372">372</th><td>    <i>/* special cases */</i></td></tr>
<tr><th id="373">373</th><td>    <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a>)) {</td></tr>
<tr><th id="374">374</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a>))</td></tr>
<tr><th id="375">375</th><td>            <b>return</b> <a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a>;  <i>/* lgamma(nan) = nan */</i></td></tr>
<tr><th id="376">376</th><td>        <b>else</b></td></tr>
<tr><th id="377">377</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>; <i>/* lgamma(+-inf) = +inf */</i></td></tr>
<tr><th id="378">378</th><td>    }</td></tr>
<tr><th id="379">379</th><td></td></tr>
<tr><th id="380">380</th><td>    <i>/* integer arguments */</i></td></tr>
<tr><th id="381">381</th><td>    <b>if</b> (<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a> == <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#184" title='floor' data-ref="floor">floor</a>(<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a>) &amp;&amp; <a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a> &lt;= <var>2.0</var>) {</td></tr>
<tr><th id="382">382</th><td>        <b>if</b> (<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a> &lt;= <var>0.0</var>) {</td></tr>
<tr><th id="383">383</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;  <i>/* lgamma(n) = inf, divide-by-zero for */</i></td></tr>
<tr><th id="384">384</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>; <i>/* integers n &lt;= 0 */</i></td></tr>
<tr><th id="385">385</th><td>        }</td></tr>
<tr><th id="386">386</th><td>        <b>else</b> {</td></tr>
<tr><th id="387">387</th><td>            <b>return</b> <var>0.0</var>; <i>/* lgamma(1) = lgamma(2) = 0.0 */</i></td></tr>
<tr><th id="388">388</th><td>        }</td></tr>
<tr><th id="389">389</th><td>    }</td></tr>
<tr><th id="390">390</th><td></td></tr>
<tr><th id="391">391</th><td>    <a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a>);</td></tr>
<tr><th id="392">392</th><td>    <i>/* tiny arguments: lgamma(x) ~ -log(fabs(x)) for small x */</i></td></tr>
<tr><th id="393">393</th><td>    <b>if</b> (<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a> &lt; <var>1e-20</var>)</td></tr>
<tr><th id="394">394</th><td>        <b>return</b> -<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a>);</td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td>    <i>/* Lanczos' formula.  We could save a fraction of a ulp in accuracy by</i></td></tr>
<tr><th id="397">397</th><td><i>       having a second set of numerator coefficients for lanczos_sum that</i></td></tr>
<tr><th id="398">398</th><td><i>       absorbed the exp(-lanczos_g) term, and throwing out the lanczos_g</i></td></tr>
<tr><th id="399">399</th><td><i>       subtraction below; it's probably not worth it. */</i></td></tr>
<tr><th id="400">400</th><td>    <a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="tu ref" href="#lanczos_sum" title='lanczos_sum' data-use='c' data-ref="lanczos_sum">lanczos_sum</a>(<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a>)) - <a class="tu ref" href="#lanczos_g" title='lanczos_g' data-use='r' data-ref="lanczos_g">lanczos_g</a>;</td></tr>
<tr><th id="401">401</th><td>    <a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a> += (<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a> - <var>0.5</var>) * (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a> + <a class="tu ref" href="#lanczos_g" title='lanczos_g' data-use='r' data-ref="lanczos_g">lanczos_g</a> - <var>0.5</var>) - <var>1</var>);</td></tr>
<tr><th id="402">402</th><td>    <b>if</b> (<a class="local col5 ref" href="#145x" title='x' data-ref="145x">x</a> &lt; <var>0.0</var>)</td></tr>
<tr><th id="403">403</th><td>        <i>/* Use reflection formula to get value for negative x. */</i></td></tr>
<tr><th id="404">404</th><td>        <a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a> = <a class="tu ref" href="#logpi" title='logpi' data-use='r' data-ref="logpi">logpi</a> - <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="tu ref" href="#sinpi" title='sinpi' data-use='c' data-ref="sinpi">sinpi</a>(<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a>))) - <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="local col7 ref" href="#147absx" title='absx' data-ref="147absx">absx</a>) - <a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a>;</td></tr>
<tr><th id="405">405</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a>))</td></tr>
<tr><th id="406">406</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="407">407</th><td>    <b>return</b> <a class="local col6 ref" href="#146r" title='r' data-ref="146r">r</a>;</td></tr>
<tr><th id="408">408</th><td>}</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td><u>#<span data-ppcond="410">if</span> !defined(<a class="macro" href="../pyconfig.h.html#253" data-ref="_M/HAVE_ERF">HAVE_ERF</a>) || !defined(<a class="macro" href="../pyconfig.h.html#256" data-ref="_M/HAVE_ERFC">HAVE_ERFC</a>)</u></td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td><i>/*</i></td></tr>
<tr><th id="413">413</th><td><i>   Implementations of the error function erf(x) and the complementary error</i></td></tr>
<tr><th id="414">414</th><td><i>   function erfc(x).</i></td></tr>
<tr><th id="415">415</th><td><i></i></td></tr>
<tr><th id="416">416</th><td><i>   Method: we use a series approximation for erf for small x, and a continued</i></td></tr>
<tr><th id="417">417</th><td><i>   fraction approximation for erfc(x) for larger x;</i></td></tr>
<tr><th id="418">418</th><td><i>   combined with the relations erf(-x) = -erf(x) and erfc(x) = 1.0 - erf(x),</i></td></tr>
<tr><th id="419">419</th><td><i>   this gives us erf(x) and erfc(x) for all x.</i></td></tr>
<tr><th id="420">420</th><td><i></i></td></tr>
<tr><th id="421">421</th><td><i>   The series expansion used is:</i></td></tr>
<tr><th id="422">422</th><td><i></i></td></tr>
<tr><th id="423">423</th><td><i>      erf(x) = x*exp(-x*x)/sqrt(pi) * [</i></td></tr>
<tr><th id="424">424</th><td><i>                     2/1 + 4/3 x**2 + 8/15 x**4 + 16/105 x**6 + ...]</i></td></tr>
<tr><th id="425">425</th><td><i></i></td></tr>
<tr><th id="426">426</th><td><i>   The coefficient of x**(2k-2) here is 4**k*factorial(k)/factorial(2*k).</i></td></tr>
<tr><th id="427">427</th><td><i>   This series converges well for smallish x, but slowly for larger x.</i></td></tr>
<tr><th id="428">428</th><td><i></i></td></tr>
<tr><th id="429">429</th><td><i>   The continued fraction expansion used is:</i></td></tr>
<tr><th id="430">430</th><td><i></i></td></tr>
<tr><th id="431">431</th><td><i>      erfc(x) = x*exp(-x*x)/sqrt(pi) * [1/(0.5 + x**2 -) 0.5/(2.5 + x**2 - )</i></td></tr>
<tr><th id="432">432</th><td><i>                              3.0/(4.5 + x**2 - ) 7.5/(6.5 + x**2 - ) ...]</i></td></tr>
<tr><th id="433">433</th><td><i></i></td></tr>
<tr><th id="434">434</th><td><i>   after the first term, the general term has the form:</i></td></tr>
<tr><th id="435">435</th><td><i></i></td></tr>
<tr><th id="436">436</th><td><i>      k*(k-0.5)/(2*k+0.5 + x**2 - ...).</i></td></tr>
<tr><th id="437">437</th><td><i></i></td></tr>
<tr><th id="438">438</th><td><i>   This expansion converges fast for larger x, but convergence becomes</i></td></tr>
<tr><th id="439">439</th><td><i>   infinitely slow as x approaches 0.0.  The (somewhat naive) continued</i></td></tr>
<tr><th id="440">440</th><td><i>   fraction evaluation algorithm used below also risks overflow for large x;</i></td></tr>
<tr><th id="441">441</th><td><i>   but for large x, erfc(x) == 0.0 to within machine precision.  (For</i></td></tr>
<tr><th id="442">442</th><td><i>   example, erfc(30.0) is approximately 2.56e-393).</i></td></tr>
<tr><th id="443">443</th><td><i></i></td></tr>
<tr><th id="444">444</th><td><i>   Parameters: use series expansion for abs(x) &lt; ERF_SERIES_CUTOFF and</i></td></tr>
<tr><th id="445">445</th><td><i>   continued fraction expansion for ERF_SERIES_CUTOFF &lt;= abs(x) &lt;</i></td></tr>
<tr><th id="446">446</th><td><i>   ERFC_CONTFRAC_CUTOFF.  ERFC_SERIES_TERMS and ERFC_CONTFRAC_TERMS are the</i></td></tr>
<tr><th id="447">447</th><td><i>   numbers of terms to use for the relevant expansions.  */</i></td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td><u>#define ERF_SERIES_CUTOFF 1.5</u></td></tr>
<tr><th id="450">450</th><td><u>#define ERF_SERIES_TERMS 25</u></td></tr>
<tr><th id="451">451</th><td><u>#define ERFC_CONTFRAC_CUTOFF 30.0</u></td></tr>
<tr><th id="452">452</th><td><u>#define ERFC_CONTFRAC_TERMS 50</u></td></tr>
<tr><th id="453">453</th><td></td></tr>
<tr><th id="454">454</th><td><i>/*</i></td></tr>
<tr><th id="455">455</th><td><i>   Error function, via power series.</i></td></tr>
<tr><th id="456">456</th><td><i></i></td></tr>
<tr><th id="457">457</th><td><i>   Given a finite float x, return an approximation to erf(x).</i></td></tr>
<tr><th id="458">458</th><td><i>   Converges reasonably fast for small x.</i></td></tr>
<tr><th id="459">459</th><td><i>*/</i></td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="462">462</th><td>m_erf_series(<em>double</em> x)</td></tr>
<tr><th id="463">463</th><td>{</td></tr>
<tr><th id="464">464</th><td>    <em>double</em> x2, acc, fk, result;</td></tr>
<tr><th id="465">465</th><td>    <em>int</em> i, saved_errno;</td></tr>
<tr><th id="466">466</th><td></td></tr>
<tr><th id="467">467</th><td>    x2 = x * x;</td></tr>
<tr><th id="468">468</th><td>    acc = <var>0.0</var>;</td></tr>
<tr><th id="469">469</th><td>    fk = (<em>double</em>)ERF_SERIES_TERMS + <var>0.5</var>;</td></tr>
<tr><th id="470">470</th><td>    <b>for</b> (i = <var>0</var>; i &lt; ERF_SERIES_TERMS; i++) {</td></tr>
<tr><th id="471">471</th><td>        acc = <var>2.0</var> + x2 * acc / fk;</td></tr>
<tr><th id="472">472</th><td>        fk -= <var>1.0</var>;</td></tr>
<tr><th id="473">473</th><td>    }</td></tr>
<tr><th id="474">474</th><td>    <i>/* Make sure the exp call doesn't affect errno;</i></td></tr>
<tr><th id="475">475</th><td><i>       see m_erfc_contfrac for more. */</i></td></tr>
<tr><th id="476">476</th><td>    saved_errno = errno;</td></tr>
<tr><th id="477">477</th><td>    result = acc * x * exp(-x2) / sqrtpi;</td></tr>
<tr><th id="478">478</th><td>    errno = saved_errno;</td></tr>
<tr><th id="479">479</th><td>    <b>return</b> result;</td></tr>
<tr><th id="480">480</th><td>}</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td><i>/*</i></td></tr>
<tr><th id="483">483</th><td><i>   Complementary error function, via continued fraction expansion.</i></td></tr>
<tr><th id="484">484</th><td><i></i></td></tr>
<tr><th id="485">485</th><td><i>   Given a positive float x, return an approximation to erfc(x).  Converges</i></td></tr>
<tr><th id="486">486</th><td><i>   reasonably fast for x large (say, x &gt; 2.0), and should be safe from</i></td></tr>
<tr><th id="487">487</th><td><i>   overflow if x and nterms are not too large.  On an IEEE 754 machine, with x</i></td></tr>
<tr><th id="488">488</th><td><i>   &lt;= 30.0, we're safe up to nterms = 100.  For x &gt;= 30.0, erfc(x) is smaller</i></td></tr>
<tr><th id="489">489</th><td><i>   than the smallest representable nonzero float.  */</i></td></tr>
<tr><th id="490">490</th><td></td></tr>
<tr><th id="491">491</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="492">492</th><td>m_erfc_contfrac(<em>double</em> x)</td></tr>
<tr><th id="493">493</th><td>{</td></tr>
<tr><th id="494">494</th><td>    <em>double</em> x2, a, da, p, p_last, q, q_last, b, result;</td></tr>
<tr><th id="495">495</th><td>    <em>int</em> i, saved_errno;</td></tr>
<tr><th id="496">496</th><td></td></tr>
<tr><th id="497">497</th><td>    <b>if</b> (x &gt;= ERFC_CONTFRAC_CUTOFF)</td></tr>
<tr><th id="498">498</th><td>        <b>return</b> <var>0.0</var>;</td></tr>
<tr><th id="499">499</th><td></td></tr>
<tr><th id="500">500</th><td>    x2 = x*x;</td></tr>
<tr><th id="501">501</th><td>    a = <var>0.0</var>;</td></tr>
<tr><th id="502">502</th><td>    da = <var>0.5</var>;</td></tr>
<tr><th id="503">503</th><td>    p = <var>1.0</var>; p_last = <var>0.0</var>;</td></tr>
<tr><th id="504">504</th><td>    q = da + x2; q_last = <var>1.0</var>;</td></tr>
<tr><th id="505">505</th><td>    <b>for</b> (i = <var>0</var>; i &lt; ERFC_CONTFRAC_TERMS; i++) {</td></tr>
<tr><th id="506">506</th><td>        <em>double</em> temp;</td></tr>
<tr><th id="507">507</th><td>        a += da;</td></tr>
<tr><th id="508">508</th><td>        da += <var>2.0</var>;</td></tr>
<tr><th id="509">509</th><td>        b = da + x2;</td></tr>
<tr><th id="510">510</th><td>        temp = p; p = b*p - a*p_last; p_last = temp;</td></tr>
<tr><th id="511">511</th><td>        temp = q; q = b*q - a*q_last; q_last = temp;</td></tr>
<tr><th id="512">512</th><td>    }</td></tr>
<tr><th id="513">513</th><td>    <i>/* Issue #8986: On some platforms, exp sets errno on underflow to zero;</i></td></tr>
<tr><th id="514">514</th><td><i>       save the current errno value so that we can restore it later. */</i></td></tr>
<tr><th id="515">515</th><td>    saved_errno = errno;</td></tr>
<tr><th id="516">516</th><td>    result = p / q * x * exp(-x2) / sqrtpi;</td></tr>
<tr><th id="517">517</th><td>    errno = saved_errno;</td></tr>
<tr><th id="518">518</th><td>    <b>return</b> result;</td></tr>
<tr><th id="519">519</th><td>}</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td><u>#<span data-ppcond="410">endif</span> /* !defined(HAVE_ERF) || !defined(HAVE_ERFC) */</u></td></tr>
<tr><th id="522">522</th><td></td></tr>
<tr><th id="523">523</th><td><i  data-doc="m_erf">/* Error function erf(x), for general x */</i></td></tr>
<tr><th id="524">524</th><td></td></tr>
<tr><th id="525">525</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="526">526</th><td><dfn class="tu decl def" id="m_erf" title='m_erf' data-type='double m_erf(double x)' data-ref="m_erf">m_erf</dfn>(<em>double</em> <dfn class="local col8 decl" id="148x" title='x' data-type='double' data-ref="148x">x</dfn>)</td></tr>
<tr><th id="527">527</th><td>{</td></tr>
<tr><th id="528">528</th><td><u>#<span data-ppcond="528">ifdef</span> <a class="macro" href="../pyconfig.h.html#253" data-ref="_M/HAVE_ERF">HAVE_ERF</a></u></td></tr>
<tr><th id="529">529</th><td>    <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#259" title='erf' data-ref="erf">erf</a>(<a class="local col8 ref" href="#148x" title='x' data-ref="148x">x</a>);</td></tr>
<tr><th id="530">530</th><td><u>#<span data-ppcond="528">else</span></u></td></tr>
<tr><th id="531">531</th><td>    <em>double</em> absx, cf;</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td>    <b>if</b> (Py_IS_NAN(x))</td></tr>
<tr><th id="534">534</th><td>        <b>return</b> x;</td></tr>
<tr><th id="535">535</th><td>    absx = fabs(x);</td></tr>
<tr><th id="536">536</th><td>    <b>if</b> (absx &lt; ERF_SERIES_CUTOFF)</td></tr>
<tr><th id="537">537</th><td>        <b>return</b> m_erf_series(x);</td></tr>
<tr><th id="538">538</th><td>    <b>else</b> {</td></tr>
<tr><th id="539">539</th><td>        cf = m_erfc_contfrac(absx);</td></tr>
<tr><th id="540">540</th><td>        <b>return</b> x &gt; <var>0.0</var> ? <var>1.0</var> - cf : cf - <var>1.0</var>;</td></tr>
<tr><th id="541">541</th><td>    }</td></tr>
<tr><th id="542">542</th><td><u>#<span data-ppcond="528">endif</span></u></td></tr>
<tr><th id="543">543</th><td>}</td></tr>
<tr><th id="544">544</th><td></td></tr>
<tr><th id="545">545</th><td><i  data-doc="m_erfc">/* Complementary error function erfc(x), for general x. */</i></td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="548">548</th><td><dfn class="tu decl def" id="m_erfc" title='m_erfc' data-type='double m_erfc(double x)' data-ref="m_erfc">m_erfc</dfn>(<em>double</em> <dfn class="local col9 decl" id="149x" title='x' data-type='double' data-ref="149x">x</dfn>)</td></tr>
<tr><th id="549">549</th><td>{</td></tr>
<tr><th id="550">550</th><td><u>#<span data-ppcond="550">ifdef</span> <a class="macro" href="../pyconfig.h.html#256" data-ref="_M/HAVE_ERFC">HAVE_ERFC</a></u></td></tr>
<tr><th id="551">551</th><td>    <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#260" title='erfc' data-ref="erfc">erfc</a>(<a class="local col9 ref" href="#149x" title='x' data-ref="149x">x</a>);</td></tr>
<tr><th id="552">552</th><td><u>#<span data-ppcond="550">else</span></u></td></tr>
<tr><th id="553">553</th><td>    <em>double</em> absx, cf;</td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td>    <b>if</b> (Py_IS_NAN(x))</td></tr>
<tr><th id="556">556</th><td>        <b>return</b> x;</td></tr>
<tr><th id="557">557</th><td>    absx = fabs(x);</td></tr>
<tr><th id="558">558</th><td>    <b>if</b> (absx &lt; ERF_SERIES_CUTOFF)</td></tr>
<tr><th id="559">559</th><td>        <b>return</b> <var>1.0</var> - m_erf_series(x);</td></tr>
<tr><th id="560">560</th><td>    <b>else</b> {</td></tr>
<tr><th id="561">561</th><td>        cf = m_erfc_contfrac(absx);</td></tr>
<tr><th id="562">562</th><td>        <b>return</b> x &gt; <var>0.0</var> ? cf : <var>2.0</var> - cf;</td></tr>
<tr><th id="563">563</th><td>    }</td></tr>
<tr><th id="564">564</th><td><u>#<span data-ppcond="550">endif</span></u></td></tr>
<tr><th id="565">565</th><td>}</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td><i  data-doc="m_atan2">/*</i></td></tr>
<tr><th id="568">568</th><td><i  data-doc="m_atan2">   wrapper for atan2 that deals directly with special cases before</i></td></tr>
<tr><th id="569">569</th><td><i  data-doc="m_atan2">   delegating to the platform libm for the remaining cases.  This</i></td></tr>
<tr><th id="570">570</th><td><i  data-doc="m_atan2">   is necessary to get consistent behaviour across platforms.</i></td></tr>
<tr><th id="571">571</th><td><i  data-doc="m_atan2">   Windows, FreeBSD and alpha Tru64 are amongst platforms that don't</i></td></tr>
<tr><th id="572">572</th><td><i  data-doc="m_atan2">   always follow C99.</i></td></tr>
<tr><th id="573">573</th><td><i  data-doc="m_atan2">*/</i></td></tr>
<tr><th id="574">574</th><td></td></tr>
<tr><th id="575">575</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="576">576</th><td><dfn class="tu decl def" id="m_atan2" title='m_atan2' data-type='double m_atan2(double y, double x)' data-ref="m_atan2">m_atan2</dfn>(<em>double</em> <dfn class="local col0 decl" id="150y" title='y' data-type='double' data-ref="150y">y</dfn>, <em>double</em> <dfn class="local col1 decl" id="151x" title='x' data-type='double' data-ref="151x">x</dfn>)</td></tr>
<tr><th id="577">577</th><td>{</td></tr>
<tr><th id="578">578</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>) || <a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>))</td></tr>
<tr><th id="579">579</th><td>        <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>;</td></tr>
<tr><th id="580">580</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>)) {</td></tr>
<tr><th id="581">581</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>)) {</td></tr>
<tr><th id="582">582</th><td>            <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>1.</var>, <a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>) == <var>1.</var>)</td></tr>
<tr><th id="583">583</th><td>                <i>/* atan2(+-inf, +inf) == +-pi/4 */</i></td></tr>
<tr><th id="584">584</th><td>                <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.25</var>*<a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>, <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>);</td></tr>
<tr><th id="585">585</th><td>            <b>else</b></td></tr>
<tr><th id="586">586</th><td>                <i>/* atan2(+-inf, -inf) == +-pi*3/4 */</i></td></tr>
<tr><th id="587">587</th><td>                <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.75</var>*<a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>, <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>);</td></tr>
<tr><th id="588">588</th><td>        }</td></tr>
<tr><th id="589">589</th><td>        <i>/* atan2(+-inf, x) == +-pi/2 for finite x */</i></td></tr>
<tr><th id="590">590</th><td>        <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.5</var>*<a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>, <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>);</td></tr>
<tr><th id="591">591</th><td>    }</td></tr>
<tr><th id="592">592</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>) || <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a> == <var>0.</var>) {</td></tr>
<tr><th id="593">593</th><td>        <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>1.</var>, <a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>) == <var>1.</var>)</td></tr>
<tr><th id="594">594</th><td>            <i>/* atan2(+-y, +inf) = atan2(+-0, +x) = +-0. */</i></td></tr>
<tr><th id="595">595</th><td>            <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.</var>, <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>);</td></tr>
<tr><th id="596">596</th><td>        <b>else</b></td></tr>
<tr><th id="597">597</th><td>            <i>/* atan2(+-y, -inf) = atan2(+-0., -x) = +-pi. */</i></td></tr>
<tr><th id="598">598</th><td>            <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>, <a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>);</td></tr>
<tr><th id="599">599</th><td>    }</td></tr>
<tr><th id="600">600</th><td>    <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#60" title='atan2' data-ref="atan2">atan2</a>(<a class="local col0 ref" href="#150y" title='y' data-ref="150y">y</a>, <a class="local col1 ref" href="#151x" title='x' data-ref="151x">x</a>);</td></tr>
<tr><th id="601">601</th><td>}</td></tr>
<tr><th id="602">602</th><td></td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td><i  data-doc="m_remainder">/* IEEE 754-style remainder operation: x - n*y where n*y is the nearest</i></td></tr>
<tr><th id="605">605</th><td><i  data-doc="m_remainder">   multiple of y to x, taking n even in the case of a tie. Assuming an IEEE 754</i></td></tr>
<tr><th id="606">606</th><td><i  data-doc="m_remainder">   binary floating-point format, the result is always exact. */</i></td></tr>
<tr><th id="607">607</th><td></td></tr>
<tr><th id="608">608</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="609">609</th><td><dfn class="tu decl def" id="m_remainder" title='m_remainder' data-type='double m_remainder(double x, double y)' data-ref="m_remainder">m_remainder</dfn>(<em>double</em> <dfn class="local col2 decl" id="152x" title='x' data-type='double' data-ref="152x">x</dfn>, <em>double</em> <dfn class="local col3 decl" id="153y" title='y' data-type='double' data-ref="153y">y</dfn>)</td></tr>
<tr><th id="610">610</th><td>{</td></tr>
<tr><th id="611">611</th><td>    <i>/* Deal with most common case first. */</i></td></tr>
<tr><th id="612">612</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>) &amp;&amp; <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (y) == sizeof (float) ? __finitef (y) : sizeof (y) == sizeof (double) ? __finite (y) : __finitel (y))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a>)) {</td></tr>
<tr><th id="613">613</th><td>        <em>double</em> <dfn class="local col4 decl" id="154absx" title='absx' data-type='double' data-ref="154absx">absx</dfn>, <dfn class="local col5 decl" id="155absy" title='absy' data-type='double' data-ref="155absy">absy</dfn>, <dfn class="local col6 decl" id="156c" title='c' data-type='double' data-ref="156c">c</dfn>, <dfn class="local col7 decl" id="157m" title='m' data-type='double' data-ref="157m">m</dfn>, <dfn class="local col8 decl" id="158r" title='r' data-type='double' data-ref="158r">r</dfn>;</td></tr>
<tr><th id="614">614</th><td></td></tr>
<tr><th id="615">615</th><td>        <b>if</b> (<a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a> == <var>0.0</var>) {</td></tr>
<tr><th id="616">616</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>;</td></tr>
<tr><th id="617">617</th><td>        }</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td>        <a class="local col4 ref" href="#154absx" title='absx' data-ref="154absx">absx</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>);</td></tr>
<tr><th id="620">620</th><td>        <a class="local col5 ref" href="#155absy" title='absy' data-ref="155absy">absy</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a>);</td></tr>
<tr><th id="621">621</th><td>        <a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#187" title='fmod' data-ref="fmod">fmod</a>(<a class="local col4 ref" href="#154absx" title='absx' data-ref="154absx">absx</a>, <a class="local col5 ref" href="#155absy" title='absy' data-ref="155absy">absy</a>);</td></tr>
<tr><th id="622">622</th><td></td></tr>
<tr><th id="623">623</th><td>        <i>/*</i></td></tr>
<tr><th id="624">624</th><td><i>           Warning: some subtlety here. What we *want* to know at this point is</i></td></tr>
<tr><th id="625">625</th><td><i>           whether the remainder m is less than, equal to, or greater than half</i></td></tr>
<tr><th id="626">626</th><td><i>           of absy. However, we can't do that comparison directly because we</i></td></tr>
<tr><th id="627">627</th><td><i>           can't be sure that 0.5*absy is representable (the mutiplication</i></td></tr>
<tr><th id="628">628</th><td><i>           might incur precision loss due to underflow). So instead we compare</i></td></tr>
<tr><th id="629">629</th><td><i>           m with the complement c = absy - m: m &lt; 0.5*absy if and only if m &lt;</i></td></tr>
<tr><th id="630">630</th><td><i>           c, and so on. The catch is that absy - m might also not be</i></td></tr>
<tr><th id="631">631</th><td><i>           representable, but it turns out that it doesn't matter:</i></td></tr>
<tr><th id="632">632</th><td><i></i></td></tr>
<tr><th id="633">633</th><td><i>           - if m &gt; 0.5*absy then absy - m is exactly representable, by</i></td></tr>
<tr><th id="634">634</th><td><i>             Sterbenz's lemma, so m &gt; c</i></td></tr>
<tr><th id="635">635</th><td><i>           - if m == 0.5*absy then again absy - m is exactly representable</i></td></tr>
<tr><th id="636">636</th><td><i>             and m == c</i></td></tr>
<tr><th id="637">637</th><td><i>           - if m &lt; 0.5*absy then either (i) 0.5*absy is exactly representable,</i></td></tr>
<tr><th id="638">638</th><td><i>             in which case 0.5*absy &lt; absy - m, so 0.5*absy &lt;= c and hence m &lt;</i></td></tr>
<tr><th id="639">639</th><td><i>             c, or (ii) absy is tiny, either subnormal or in the lowest normal</i></td></tr>
<tr><th id="640">640</th><td><i>             binade. Then absy - m is exactly representable and again m &lt; c.</i></td></tr>
<tr><th id="641">641</th><td><i>        */</i></td></tr>
<tr><th id="642">642</th><td></td></tr>
<tr><th id="643">643</th><td>        <a class="local col6 ref" href="#156c" title='c' data-ref="156c">c</a> = <a class="local col5 ref" href="#155absy" title='absy' data-ref="155absy">absy</a> - <a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a>;</td></tr>
<tr><th id="644">644</th><td>        <b>if</b> (<a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a> &lt; <a class="local col6 ref" href="#156c" title='c' data-ref="156c">c</a>) {</td></tr>
<tr><th id="645">645</th><td>            <a class="local col8 ref" href="#158r" title='r' data-ref="158r">r</a> = <a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a>;</td></tr>
<tr><th id="646">646</th><td>        }</td></tr>
<tr><th id="647">647</th><td>        <b>else</b> <b>if</b> (<a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a> &gt; <a class="local col6 ref" href="#156c" title='c' data-ref="156c">c</a>) {</td></tr>
<tr><th id="648">648</th><td>            <a class="local col8 ref" href="#158r" title='r' data-ref="158r">r</a> = -<a class="local col6 ref" href="#156c" title='c' data-ref="156c">c</a>;</td></tr>
<tr><th id="649">649</th><td>        }</td></tr>
<tr><th id="650">650</th><td>        <b>else</b> {</td></tr>
<tr><th id="651">651</th><td>            <i>/*</i></td></tr>
<tr><th id="652">652</th><td><i>               Here absx is exactly halfway between two multiples of absy,</i></td></tr>
<tr><th id="653">653</th><td><i>               and we need to choose the even multiple. x now has the form</i></td></tr>
<tr><th id="654">654</th><td><i></i></td></tr>
<tr><th id="655">655</th><td><i>                   absx = n * absy + m</i></td></tr>
<tr><th id="656">656</th><td><i></i></td></tr>
<tr><th id="657">657</th><td><i>               for some integer n (recalling that m = 0.5*absy at this point).</i></td></tr>
<tr><th id="658">658</th><td><i>               If n is even we want to return m; if n is odd, we need to</i></td></tr>
<tr><th id="659">659</th><td><i>               return -m.</i></td></tr>
<tr><th id="660">660</th><td><i></i></td></tr>
<tr><th id="661">661</th><td><i>               So</i></td></tr>
<tr><th id="662">662</th><td><i></i></td></tr>
<tr><th id="663">663</th><td><i>                   0.5 * (absx - m) = (n/2) * absy</i></td></tr>
<tr><th id="664">664</th><td><i></i></td></tr>
<tr><th id="665">665</th><td><i>               and now reducing modulo absy gives us:</i></td></tr>
<tr><th id="666">666</th><td><i></i></td></tr>
<tr><th id="667">667</th><td><i>                                                  | m, if n is odd</i></td></tr>
<tr><th id="668">668</th><td><i>                   fmod(0.5 * (absx - m), absy) = |</i></td></tr>
<tr><th id="669">669</th><td><i>                                                  | 0, if n is even</i></td></tr>
<tr><th id="670">670</th><td><i></i></td></tr>
<tr><th id="671">671</th><td><i>               Now m - 2.0 * fmod(...) gives the desired result: m</i></td></tr>
<tr><th id="672">672</th><td><i>               if n is even, -m if m is odd.</i></td></tr>
<tr><th id="673">673</th><td><i></i></td></tr>
<tr><th id="674">674</th><td><i>               Note that all steps in fmod(0.5 * (absx - m), absy)</i></td></tr>
<tr><th id="675">675</th><td><i>               will be computed exactly, with no rounding error</i></td></tr>
<tr><th id="676">676</th><td><i>               introduced.</i></td></tr>
<tr><th id="677">677</th><td><i>            */</i></td></tr>
<tr><th id="678">678</th><td>            <a class="macro" href="../../include/assert.h.html#88" title="((m == c) ? (void) (0) : __assert_fail (&quot;m == c&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 678, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a> == <a class="local col6 ref" href="#156c" title='c' data-ref="156c">c</a>);</td></tr>
<tr><th id="679">679</th><td>            <a class="local col8 ref" href="#158r" title='r' data-ref="158r">r</a> = <a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a> - <var>2.0</var> * <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#187" title='fmod' data-ref="fmod">fmod</a>(<var>0.5</var> * (<a class="local col4 ref" href="#154absx" title='absx' data-ref="154absx">absx</a> - <a class="local col7 ref" href="#157m" title='m' data-ref="157m">m</a>), <a class="local col5 ref" href="#155absy" title='absy' data-ref="155absy">absy</a>);</td></tr>
<tr><th id="680">680</th><td>        }</td></tr>
<tr><th id="681">681</th><td>        <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>1.0</var>, <a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>) * <a class="local col8 ref" href="#158r" title='r' data-ref="158r">r</a>;</td></tr>
<tr><th id="682">682</th><td>    }</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>    <i>/* Special values. */</i></td></tr>
<tr><th id="685">685</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>)) {</td></tr>
<tr><th id="686">686</th><td>        <b>return</b> <a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>;</td></tr>
<tr><th id="687">687</th><td>    }</td></tr>
<tr><th id="688">688</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a>)) {</td></tr>
<tr><th id="689">689</th><td>        <b>return</b> <a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a>;</td></tr>
<tr><th id="690">690</th><td>    }</td></tr>
<tr><th id="691">691</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>)) {</td></tr>
<tr><th id="692">692</th><td>        <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>;</td></tr>
<tr><th id="693">693</th><td>    }</td></tr>
<tr><th id="694">694</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="(((sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))) ? (void) (0) : __assert_fail (&quot;Py_IS_INFINITY(y)&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 694, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col3 ref" href="#153y" title='y' data-ref="153y">y</a>));</td></tr>
<tr><th id="695">695</th><td>    <b>return</b> <a class="local col2 ref" href="#152x" title='x' data-ref="152x">x</a>;</td></tr>
<tr><th id="696">696</th><td>}</td></tr>
<tr><th id="697">697</th><td></td></tr>
<tr><th id="698">698</th><td></td></tr>
<tr><th id="699">699</th><td><i  data-doc="m_log">/*</i></td></tr>
<tr><th id="700">700</th><td><i  data-doc="m_log">    Various platforms (Solaris, OpenBSD) do nonstandard things for log(0),</i></td></tr>
<tr><th id="701">701</th><td><i  data-doc="m_log">    log(-ve), log(NaN).  Here are wrappers for log and log10 that deal with</i></td></tr>
<tr><th id="702">702</th><td><i  data-doc="m_log">    special values directly, passing positive non-special values through to</i></td></tr>
<tr><th id="703">703</th><td><i  data-doc="m_log">    the system log/log10.</i></td></tr>
<tr><th id="704">704</th><td><i  data-doc="m_log"> */</i></td></tr>
<tr><th id="705">705</th><td></td></tr>
<tr><th id="706">706</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="707">707</th><td><dfn class="tu decl def" id="m_log" title='m_log' data-type='double m_log(double x)' data-ref="m_log">m_log</dfn>(<em>double</em> <dfn class="local col9 decl" id="159x" title='x' data-type='double' data-ref="159x">x</dfn>)</td></tr>
<tr><th id="708">708</th><td>{</td></tr>
<tr><th id="709">709</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a>)) {</td></tr>
<tr><th id="710">710</th><td>        <b>if</b> (<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="711">711</th><td>            <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#109" title='log' data-ref="log">log</a>(<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a>);</td></tr>
<tr><th id="712">712</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="713">713</th><td>        <b>if</b> (<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a> == <var>0.0</var>)</td></tr>
<tr><th id="714">714</th><td>            <b>return</b> -<a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>; <i>/* log(0) = -inf */</i></td></tr>
<tr><th id="715">715</th><td>        <b>else</b></td></tr>
<tr><th id="716">716</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log(-ve) = nan */</i></td></tr>
<tr><th id="717">717</th><td>    }</td></tr>
<tr><th id="718">718</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a>))</td></tr>
<tr><th id="719">719</th><td>        <b>return</b> <a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a>; <i>/* log(nan) = nan */</i></td></tr>
<tr><th id="720">720</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="721">721</th><td>        <b>return</b> <a class="local col9 ref" href="#159x" title='x' data-ref="159x">x</a>; <i>/* log(inf) = inf */</i></td></tr>
<tr><th id="722">722</th><td>    <b>else</b> {</td></tr>
<tr><th id="723">723</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="724">724</th><td>        <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log(-inf) = nan */</i></td></tr>
<tr><th id="725">725</th><td>    }</td></tr>
<tr><th id="726">726</th><td>}</td></tr>
<tr><th id="727">727</th><td></td></tr>
<tr><th id="728">728</th><td><i  data-doc="m_log2">/*</i></td></tr>
<tr><th id="729">729</th><td><i  data-doc="m_log2">   log2: log to base 2.</i></td></tr>
<tr><th id="730">730</th><td><i  data-doc="m_log2"></i></td></tr>
<tr><th id="731">731</th><td><i  data-doc="m_log2">   Uses an algorithm that should:</i></td></tr>
<tr><th id="732">732</th><td><i  data-doc="m_log2"></i></td></tr>
<tr><th id="733">733</th><td><i  data-doc="m_log2">     (a) produce exact results for powers of 2, and</i></td></tr>
<tr><th id="734">734</th><td><i  data-doc="m_log2">     (b) give a monotonic log2 (for positive finite floats),</i></td></tr>
<tr><th id="735">735</th><td><i  data-doc="m_log2">         assuming that the system log is monotonic.</i></td></tr>
<tr><th id="736">736</th><td><i  data-doc="m_log2">*/</i></td></tr>
<tr><th id="737">737</th><td></td></tr>
<tr><th id="738">738</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="739">739</th><td><dfn class="tu decl def" id="m_log2" title='m_log2' data-type='double m_log2(double x)' data-ref="m_log2">m_log2</dfn>(<em>double</em> <dfn class="local col0 decl" id="160x" title='x' data-type='double' data-ref="160x">x</dfn>)</td></tr>
<tr><th id="740">740</th><td>{</td></tr>
<tr><th id="741">741</th><td>    <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a>)) {</td></tr>
<tr><th id="742">742</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a>))</td></tr>
<tr><th id="743">743</th><td>            <b>return</b> <a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a>; <i>/* log2(nan) = nan */</i></td></tr>
<tr><th id="744">744</th><td>        <b>else</b> <b>if</b> (<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="745">745</th><td>            <b>return</b> <a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a>; <i>/* log2(+inf) = +inf */</i></td></tr>
<tr><th id="746">746</th><td>        <b>else</b> {</td></tr>
<tr><th id="747">747</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="748">748</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log2(-inf) = nan, invalid-operation */</i></td></tr>
<tr><th id="749">749</th><td>        }</td></tr>
<tr><th id="750">750</th><td>    }</td></tr>
<tr><th id="751">751</th><td></td></tr>
<tr><th id="752">752</th><td>    <b>if</b> (<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a> &gt; <var>0.0</var>) {</td></tr>
<tr><th id="753">753</th><td><u>#<span data-ppcond="753">ifdef</span> <a class="macro" href="../pyconfig.h.html#585" data-ref="_M/HAVE_LOG2">HAVE_LOG2</a></u></td></tr>
<tr><th id="754">754</th><td>        <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#144" title='log2' data-ref="log2">log2</a>(<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a>);</td></tr>
<tr><th id="755">755</th><td><u>#<span data-ppcond="753">else</span></u></td></tr>
<tr><th id="756">756</th><td>        <em>double</em> m;</td></tr>
<tr><th id="757">757</th><td>        <em>int</em> e;</td></tr>
<tr><th id="758">758</th><td>        m = frexp(x, &amp;e);</td></tr>
<tr><th id="759">759</th><td>        <i>/* We want log2(m * 2**e) == log(m) / log(2) + e.  Care is needed when</i></td></tr>
<tr><th id="760">760</th><td><i>         * x is just greater than 1.0: in that case e is 1, log(m) is negative,</i></td></tr>
<tr><th id="761">761</th><td><i>         * and we get significant cancellation error from the addition of</i></td></tr>
<tr><th id="762">762</th><td><i>         * log(m) / log(2) to e.  The slight rewrite of the expression below</i></td></tr>
<tr><th id="763">763</th><td><i>         * avoids this problem.</i></td></tr>
<tr><th id="764">764</th><td><i>         */</i></td></tr>
<tr><th id="765">765</th><td>        <b>if</b> (x &gt;= <var>1.0</var>) {</td></tr>
<tr><th id="766">766</th><td>            <b>return</b> log(<var>2.0</var> * m) / log(<var>2.0</var>) + (e - <var>1</var>);</td></tr>
<tr><th id="767">767</th><td>        }</td></tr>
<tr><th id="768">768</th><td>        <b>else</b> {</td></tr>
<tr><th id="769">769</th><td>            <b>return</b> log(m) / log(<var>2.0</var>) + e;</td></tr>
<tr><th id="770">770</th><td>        }</td></tr>
<tr><th id="771">771</th><td><u>#<span data-ppcond="753">endif</span></u></td></tr>
<tr><th id="772">772</th><td>    }</td></tr>
<tr><th id="773">773</th><td>    <b>else</b> <b>if</b> (<a class="local col0 ref" href="#160x" title='x' data-ref="160x">x</a> == <var>0.0</var>) {</td></tr>
<tr><th id="774">774</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="775">775</th><td>        <b>return</b> -<a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>; <i>/* log2(0) = -inf, divide-by-zero */</i></td></tr>
<tr><th id="776">776</th><td>    }</td></tr>
<tr><th id="777">777</th><td>    <b>else</b> {</td></tr>
<tr><th id="778">778</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="779">779</th><td>        <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log2(-inf) = nan, invalid-operation */</i></td></tr>
<tr><th id="780">780</th><td>    }</td></tr>
<tr><th id="781">781</th><td>}</td></tr>
<tr><th id="782">782</th><td></td></tr>
<tr><th id="783">783</th><td><em>static</em> <em>double</em></td></tr>
<tr><th id="784">784</th><td><dfn class="tu decl def" id="m_log10" title='m_log10' data-type='double m_log10(double x)' data-ref="m_log10">m_log10</dfn>(<em>double</em> <dfn class="local col1 decl" id="161x" title='x' data-type='double' data-ref="161x">x</dfn>)</td></tr>
<tr><th id="785">785</th><td>{</td></tr>
<tr><th id="786">786</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a>)) {</td></tr>
<tr><th id="787">787</th><td>        <b>if</b> (<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="788">788</th><td>            <b>return</b> <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#112" title='log10' data-ref="log10">log10</a>(<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a>);</td></tr>
<tr><th id="789">789</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="790">790</th><td>        <b>if</b> (<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a> == <var>0.0</var>)</td></tr>
<tr><th id="791">791</th><td>            <b>return</b> -<a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>; <i>/* log10(0) = -inf */</i></td></tr>
<tr><th id="792">792</th><td>        <b>else</b></td></tr>
<tr><th id="793">793</th><td>            <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log10(-ve) = nan */</i></td></tr>
<tr><th id="794">794</th><td>    }</td></tr>
<tr><th id="795">795</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a>))</td></tr>
<tr><th id="796">796</th><td>        <b>return</b> <a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a>; <i>/* log10(nan) = nan */</i></td></tr>
<tr><th id="797">797</th><td>    <b>else</b> <b>if</b> (<a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a> &gt; <var>0.0</var>)</td></tr>
<tr><th id="798">798</th><td>        <b>return</b> <a class="local col1 ref" href="#161x" title='x' data-ref="161x">x</a>; <i>/* log10(inf) = inf */</i></td></tr>
<tr><th id="799">799</th><td>    <b>else</b> {</td></tr>
<tr><th id="800">800</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="801">801</th><td>        <b>return</b> <a class="macro" href="../Include/pymath.h.html#160" title="((__builtin_huge_val()) * 0.)" data-ref="_M/Py_NAN">Py_NAN</a>; <i>/* log10(-inf) = nan */</i></td></tr>
<tr><th id="802">802</th><td>    }</td></tr>
<tr><th id="803">803</th><td>}</td></tr>
<tr><th id="804">804</th><td></td></tr>
<tr><th id="805">805</th><td></td></tr>
<tr><th id="806">806</th><td><i  data-doc="math_gcd_impl">/*[clinic input]</i></td></tr>
<tr><th id="807">807</th><td><i  data-doc="math_gcd_impl">math.gcd</i></td></tr>
<tr><th id="808">808</th><td><i  data-doc="math_gcd_impl"></i></td></tr>
<tr><th id="809">809</th><td><i  data-doc="math_gcd_impl">    x as a: object</i></td></tr>
<tr><th id="810">810</th><td><i  data-doc="math_gcd_impl">    y as b: object</i></td></tr>
<tr><th id="811">811</th><td><i  data-doc="math_gcd_impl">    /</i></td></tr>
<tr><th id="812">812</th><td><i  data-doc="math_gcd_impl"></i></td></tr>
<tr><th id="813">813</th><td><i  data-doc="math_gcd_impl">greatest common divisor of x and y</i></td></tr>
<tr><th id="814">814</th><td><i  data-doc="math_gcd_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="815">815</th><td></td></tr>
<tr><th id="816">816</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="817">817</th><td><dfn class="tu decl def" id="math_gcd_impl" title='math_gcd_impl' data-type='PyObject * math_gcd_impl(PyObject * module, PyObject * a, PyObject * b)' data-ref="math_gcd_impl">math_gcd_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="162module" title='module' data-type='PyObject *' data-ref="162module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="163a" title='a' data-type='PyObject *' data-ref="163a">a</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="164b" title='b' data-type='PyObject *' data-ref="164b">b</dfn>)</td></tr>
<tr><th id="818">818</th><td><i>/*[clinic end generated code: output=7b2e0c151bd7a5d8 input=c2691e57fb2a98fa]*/</i></td></tr>
<tr><th id="819">819</th><td>{</td></tr>
<tr><th id="820">820</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="165g" title='g' data-type='PyObject *' data-ref="165g">g</dfn>;</td></tr>
<tr><th id="821">821</th><td></td></tr>
<tr><th id="822">822</th><td>    <a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Index" title='PyNumber_Index' data-ref="PyNumber_Index">PyNumber_Index</a>(<a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a>);</td></tr>
<tr><th id="823">823</th><td>    <b>if</b> (<a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="824">824</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="825">825</th><td>    <a class="local col4 ref" href="#164b" title='b' data-ref="164b">b</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Index" title='PyNumber_Index' data-ref="PyNumber_Index">PyNumber_Index</a>(<a class="local col4 ref" href="#164b" title='b' data-ref="164b">b</a>);</td></tr>
<tr><th id="826">826</th><td>    <b>if</b> (<a class="local col4 ref" href="#164b" title='b' data-ref="164b">b</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="827">827</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(a); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 827, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a>);</td></tr>
<tr><th id="828">828</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="829">829</th><td>    }</td></tr>
<tr><th id="830">830</th><td>    <a class="local col5 ref" href="#165g" title='g' data-ref="165g">g</a> = <a class="ref" href="../Include/longobject.h.html#_PyLong_GCD" title='_PyLong_GCD' data-ref="_PyLong_GCD">_PyLong_GCD</a>(<a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a>, <a class="local col4 ref" href="#164b" title='b' data-ref="164b">b</a>);</td></tr>
<tr><th id="831">831</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(a); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 831, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#163a" title='a' data-ref="163a">a</a>);</td></tr>
<tr><th id="832">832</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(b); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 832, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#164b" title='b' data-ref="164b">b</a>);</td></tr>
<tr><th id="833">833</th><td>    <b>return</b> <a class="local col5 ref" href="#165g" title='g' data-ref="165g">g</a>;</td></tr>
<tr><th id="834">834</th><td>}</td></tr>
<tr><th id="835">835</th><td></td></tr>
<tr><th id="836">836</th><td></td></tr>
<tr><th id="837">837</th><td><i  data-doc="is_error">/* Call is_error when errno != 0, and where x is the result libm</i></td></tr>
<tr><th id="838">838</th><td><i  data-doc="is_error"> * returned.  is_error will usually set up an exception and return</i></td></tr>
<tr><th id="839">839</th><td><i  data-doc="is_error"> * true (1), but may return false (0) without setting up an exception.</i></td></tr>
<tr><th id="840">840</th><td><i  data-doc="is_error"> */</i></td></tr>
<tr><th id="841">841</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="842">842</th><td><dfn class="tu decl def" id="is_error" title='is_error' data-type='int is_error(double x)' data-ref="is_error">is_error</dfn>(<em>double</em> <dfn class="local col6 decl" id="166x" title='x' data-type='double' data-ref="166x">x</dfn>)</td></tr>
<tr><th id="843">843</th><td>{</td></tr>
<tr><th id="844">844</th><td>    <em>int</em> <dfn class="local col7 decl" id="167result" title='result' data-type='int' data-ref="167result">result</dfn> = <var>1</var>;     <i>/* presumption of guilt */</i></td></tr>
<tr><th id="845">845</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="(((*__errno_location ())) ? (void) (0) : __assert_fail (&quot;errno&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 845, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>);      <i>/* non-zero errno is a precondition for calling */</i></td></tr>
<tr><th id="846">846</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>)</td></tr>
<tr><th id="847">847</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"math domain error"</q>);</td></tr>
<tr><th id="848">848</th><td></td></tr>
<tr><th id="849">849</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>) {</td></tr>
<tr><th id="850">850</th><td>        <i>/* ANSI C generally requires libm functions to set ERANGE</i></td></tr>
<tr><th id="851">851</th><td><i>         * on overflow, but also generally *allows* them to set</i></td></tr>
<tr><th id="852">852</th><td><i>         * ERANGE on underflow too.  There's no consistency about</i></td></tr>
<tr><th id="853">853</th><td><i>         * the latter across platforms.</i></td></tr>
<tr><th id="854">854</th><td><i>         * Alas, C99 never requires that errno be set.</i></td></tr>
<tr><th id="855">855</th><td><i>         * Here we suppress the underflow errors (libm functions</i></td></tr>
<tr><th id="856">856</th><td><i>         * should return a zero on underflow, and +- HUGE_VAL on</i></td></tr>
<tr><th id="857">857</th><td><i>         * overflow, so testing the result for zero suffices to</i></td></tr>
<tr><th id="858">858</th><td><i>         * distinguish the cases).</i></td></tr>
<tr><th id="859">859</th><td><i>         *</i></td></tr>
<tr><th id="860">860</th><td><i>         * On some platforms (Ubuntu/ia64) it seems that errno can be</i></td></tr>
<tr><th id="861">861</th><td><i>         * set to ERANGE for subnormal results that do *not* underflow</i></td></tr>
<tr><th id="862">862</th><td><i>         * to zero.  So to be safe, we'll ignore ERANGE whenever the</i></td></tr>
<tr><th id="863">863</th><td><i>         * function result is less than one in absolute value.</i></td></tr>
<tr><th id="864">864</th><td><i>         */</i></td></tr>
<tr><th id="865">865</th><td>        <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col6 ref" href="#166x" title='x' data-ref="166x">x</a>) &lt; <var>1.0</var>)</td></tr>
<tr><th id="866">866</th><td>            <a class="local col7 ref" href="#167result" title='result' data-ref="167result">result</a> = <var>0</var>;</td></tr>
<tr><th id="867">867</th><td>        <b>else</b></td></tr>
<tr><th id="868">868</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="869">869</th><td>                            <q>"math range error"</q>);</td></tr>
<tr><th id="870">870</th><td>    }</td></tr>
<tr><th id="871">871</th><td>    <b>else</b></td></tr>
<tr><th id="872">872</th><td>        <i>/* Unexpected math error */</i></td></tr>
<tr><th id="873">873</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetFromErrno" title='PyErr_SetFromErrno' data-ref="PyErr_SetFromErrno">PyErr_SetFromErrno</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>);</td></tr>
<tr><th id="874">874</th><td>    <b>return</b> <a class="local col7 ref" href="#167result" title='result' data-ref="167result">result</a>;</td></tr>
<tr><th id="875">875</th><td>}</td></tr>
<tr><th id="876">876</th><td></td></tr>
<tr><th id="877">877</th><td><i  data-doc="math_1_to_whatever">/*</i></td></tr>
<tr><th id="878">878</th><td><i  data-doc="math_1_to_whatever">   math_1 is used to wrap a libm function f that takes a double</i></td></tr>
<tr><th id="879">879</th><td><i  data-doc="math_1_to_whatever">   argument and returns a double.</i></td></tr>
<tr><th id="880">880</th><td><i  data-doc="math_1_to_whatever"></i></td></tr>
<tr><th id="881">881</th><td><i  data-doc="math_1_to_whatever">   The error reporting follows these rules, which are designed to do</i></td></tr>
<tr><th id="882">882</th><td><i  data-doc="math_1_to_whatever">   the right thing on C89/C99 platforms and IEEE 754/non IEEE 754</i></td></tr>
<tr><th id="883">883</th><td><i  data-doc="math_1_to_whatever">   platforms.</i></td></tr>
<tr><th id="884">884</th><td><i  data-doc="math_1_to_whatever"></i></td></tr>
<tr><th id="885">885</th><td><i  data-doc="math_1_to_whatever">   - a NaN result from non-NaN inputs causes ValueError to be raised</i></td></tr>
<tr><th id="886">886</th><td><i  data-doc="math_1_to_whatever">   - an infinite result from finite inputs causes OverflowError to be</i></td></tr>
<tr><th id="887">887</th><td><i  data-doc="math_1_to_whatever">     raised if can_overflow is 1, or raises ValueError if can_overflow</i></td></tr>
<tr><th id="888">888</th><td><i  data-doc="math_1_to_whatever">     is 0.</i></td></tr>
<tr><th id="889">889</th><td><i  data-doc="math_1_to_whatever">   - if the result is finite and errno == EDOM then ValueError is</i></td></tr>
<tr><th id="890">890</th><td><i  data-doc="math_1_to_whatever">     raised</i></td></tr>
<tr><th id="891">891</th><td><i  data-doc="math_1_to_whatever">   - if the result is finite and nonzero and errno == ERANGE then</i></td></tr>
<tr><th id="892">892</th><td><i  data-doc="math_1_to_whatever">     OverflowError is raised</i></td></tr>
<tr><th id="893">893</th><td><i  data-doc="math_1_to_whatever"></i></td></tr>
<tr><th id="894">894</th><td><i  data-doc="math_1_to_whatever">   The last rule is used to catch overflow on platforms which follow</i></td></tr>
<tr><th id="895">895</th><td><i  data-doc="math_1_to_whatever">   C89 but for which HUGE_VAL is not an infinity.</i></td></tr>
<tr><th id="896">896</th><td><i  data-doc="math_1_to_whatever"></i></td></tr>
<tr><th id="897">897</th><td><i  data-doc="math_1_to_whatever">   For the majority of one-argument functions these rules are enough</i></td></tr>
<tr><th id="898">898</th><td><i  data-doc="math_1_to_whatever">   to ensure that Python's functions behave as specified in 'Annex F'</i></td></tr>
<tr><th id="899">899</th><td><i  data-doc="math_1_to_whatever">   of the C99 standard, with the 'invalid' and 'divide-by-zero'</i></td></tr>
<tr><th id="900">900</th><td><i  data-doc="math_1_to_whatever">   floating-point exceptions mapping to Python's ValueError and the</i></td></tr>
<tr><th id="901">901</th><td><i  data-doc="math_1_to_whatever">   'overflow' floating-point exception mapping to OverflowError.</i></td></tr>
<tr><th id="902">902</th><td><i  data-doc="math_1_to_whatever">   math_1 only works for functions that don't have singularities *and*</i></td></tr>
<tr><th id="903">903</th><td><i  data-doc="math_1_to_whatever">   the possibility of overflow; fortunately, that covers everything we</i></td></tr>
<tr><th id="904">904</th><td><i  data-doc="math_1_to_whatever">   care about right now.</i></td></tr>
<tr><th id="905">905</th><td><i  data-doc="math_1_to_whatever">*/</i></td></tr>
<tr><th id="906">906</th><td></td></tr>
<tr><th id="907">907</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="908">908</th><td><dfn class="tu decl def" id="math_1_to_whatever" title='math_1_to_whatever' data-type='PyObject * math_1_to_whatever(PyObject * arg, double (*)(double) func, PyObject *(*)(double) from_double_func, int can_overflow)' data-ref="math_1_to_whatever">math_1_to_whatever</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="168arg" title='arg' data-type='PyObject *' data-ref="168arg">arg</dfn>, <em>double</em> (*<dfn class="local col9 decl" id="169func" title='func' data-type='double (*)(double)' data-ref="169func">func</dfn>) (<em>double</em>),</td></tr>
<tr><th id="909">909</th><td>                   <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *(*<dfn class="local col0 decl" id="170from_double_func" title='from_double_func' data-type='PyObject *(*)(double)' data-ref="170from_double_func">from_double_func</dfn>) (<em>double</em>),</td></tr>
<tr><th id="910">910</th><td>                   <em>int</em> <dfn class="local col1 decl" id="171can_overflow" title='can_overflow' data-type='int' data-ref="171can_overflow">can_overflow</dfn>)</td></tr>
<tr><th id="911">911</th><td>{</td></tr>
<tr><th id="912">912</th><td>    <em>double</em> <dfn class="local col2 decl" id="172x" title='x' data-type='double' data-ref="172x">x</dfn>, <dfn class="local col3 decl" id="173r" title='r' data-type='double' data-ref="173r">r</dfn>;</td></tr>
<tr><th id="913">913</th><td>    <a class="local col2 ref" href="#172x" title='x' data-ref="172x">x</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col8 ref" href="#168arg" title='arg' data-ref="168arg">arg</a>);</td></tr>
<tr><th id="914">914</th><td>    <b>if</b> (<a class="local col2 ref" href="#172x" title='x' data-ref="172x">x</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="915">915</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="916">916</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="917">917</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_1"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="918">918</th><td>    <a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a> = (*<a class="local col9 ref" href="#169func" title='func' data-ref="169func">func</a>)(<a class="local col2 ref" href="#172x" title='x' data-ref="172x">x</a>);</td></tr>
<tr><th id="919">919</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="920">920</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (r) == sizeof (float) ? __isnanf (r) : sizeof (r) == sizeof (double) ? __isnan (r) : __isnanl (r))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a>) &amp;&amp; !<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col2 ref" href="#172x" title='x' data-ref="172x">x</a>)) {</td></tr>
<tr><th id="921">921</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="922">922</th><td>                        <q>"math domain error"</q>); <i>/* invalid arg */</i></td></tr>
<tr><th id="923">923</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="924">924</th><td>    }</td></tr>
<tr><th id="925">925</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a>) &amp;&amp; <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col2 ref" href="#172x" title='x' data-ref="172x">x</a>)) {</td></tr>
<tr><th id="926">926</th><td>        <b>if</b> (<a class="local col1 ref" href="#171can_overflow" title='can_overflow' data-ref="171can_overflow">can_overflow</a>)</td></tr>
<tr><th id="927">927</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="928">928</th><td>                            <q>"math range error"</q>); <i>/* overflow */</i></td></tr>
<tr><th id="929">929</th><td>        <b>else</b></td></tr>
<tr><th id="930">930</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="931">931</th><td>                            <q>"math domain error"</q>); <i>/* singularity */</i></td></tr>
<tr><th id="932">932</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="933">933</th><td>    }</td></tr>
<tr><th id="934">934</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (r) == sizeof (float) ? __finitef (r) : sizeof (r) == sizeof (double) ? __finite (r) : __finitel (r))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a>) &amp;&amp; <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a>))</td></tr>
<tr><th id="935">935</th><td>        <i>/* this branch unnecessary on most platforms */</i></td></tr>
<tr><th id="936">936</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="937">937</th><td></td></tr>
<tr><th id="938">938</th><td>    <b>return</b> (*<a class="local col0 ref" href="#170from_double_func" title='from_double_func' data-ref="170from_double_func">from_double_func</a>)(<a class="local col3 ref" href="#173r" title='r' data-ref="173r">r</a>);</td></tr>
<tr><th id="939">939</th><td>}</td></tr>
<tr><th id="940">940</th><td></td></tr>
<tr><th id="941">941</th><td><i  data-doc="math_1a">/* variant of math_1, to be used when the function being wrapped is known to</i></td></tr>
<tr><th id="942">942</th><td><i  data-doc="math_1a">   set errno properly (that is, errno = EDOM for invalid or divide-by-zero,</i></td></tr>
<tr><th id="943">943</th><td><i  data-doc="math_1a">   errno = ERANGE for overflow). */</i></td></tr>
<tr><th id="944">944</th><td></td></tr>
<tr><th id="945">945</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="946">946</th><td><dfn class="tu decl def" id="math_1a" title='math_1a' data-type='PyObject * math_1a(PyObject * arg, double (*)(double) func)' data-ref="math_1a">math_1a</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="174arg" title='arg' data-type='PyObject *' data-ref="174arg">arg</dfn>, <em>double</em> (*<dfn class="local col5 decl" id="175func" title='func' data-type='double (*)(double)' data-ref="175func">func</dfn>) (<em>double</em>))</td></tr>
<tr><th id="947">947</th><td>{</td></tr>
<tr><th id="948">948</th><td>    <em>double</em> <dfn class="local col6 decl" id="176x" title='x' data-type='double' data-ref="176x">x</dfn>, <dfn class="local col7 decl" id="177r" title='r' data-type='double' data-ref="177r">r</dfn>;</td></tr>
<tr><th id="949">949</th><td>    <a class="local col6 ref" href="#176x" title='x' data-ref="176x">x</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col4 ref" href="#174arg" title='arg' data-ref="174arg">arg</a>);</td></tr>
<tr><th id="950">950</th><td>    <b>if</b> (<a class="local col6 ref" href="#176x" title='x' data-ref="176x">x</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="951">951</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="952">952</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="953">953</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_1a"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="954">954</th><td>    <a class="local col7 ref" href="#177r" title='r' data-ref="177r">r</a> = (*<a class="local col5 ref" href="#175func" title='func' data-ref="175func">func</a>)(<a class="local col6 ref" href="#176x" title='x' data-ref="176x">x</a>);</td></tr>
<tr><th id="955">955</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="956">956</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col7 ref" href="#177r" title='r' data-ref="177r">r</a>))</td></tr>
<tr><th id="957">957</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="958">958</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col7 ref" href="#177r" title='r' data-ref="177r">r</a>);</td></tr>
<tr><th id="959">959</th><td>}</td></tr>
<tr><th id="960">960</th><td></td></tr>
<tr><th id="961">961</th><td><i  data-doc="math_1">/*</i></td></tr>
<tr><th id="962">962</th><td><i  data-doc="math_1">   math_2 is used to wrap a libm function f that takes two double</i></td></tr>
<tr><th id="963">963</th><td><i  data-doc="math_1">   arguments and returns a double.</i></td></tr>
<tr><th id="964">964</th><td><i  data-doc="math_1"></i></td></tr>
<tr><th id="965">965</th><td><i  data-doc="math_1">   The error reporting follows these rules, which are designed to do</i></td></tr>
<tr><th id="966">966</th><td><i  data-doc="math_1">   the right thing on C89/C99 platforms and IEEE 754/non IEEE 754</i></td></tr>
<tr><th id="967">967</th><td><i  data-doc="math_1">   platforms.</i></td></tr>
<tr><th id="968">968</th><td><i  data-doc="math_1"></i></td></tr>
<tr><th id="969">969</th><td><i  data-doc="math_1">   - a NaN result from non-NaN inputs causes ValueError to be raised</i></td></tr>
<tr><th id="970">970</th><td><i  data-doc="math_1">   - an infinite result from finite inputs causes OverflowError to be</i></td></tr>
<tr><th id="971">971</th><td><i  data-doc="math_1">     raised.</i></td></tr>
<tr><th id="972">972</th><td><i  data-doc="math_1">   - if the result is finite and errno == EDOM then ValueError is</i></td></tr>
<tr><th id="973">973</th><td><i  data-doc="math_1">     raised</i></td></tr>
<tr><th id="974">974</th><td><i  data-doc="math_1">   - if the result is finite and nonzero and errno == ERANGE then</i></td></tr>
<tr><th id="975">975</th><td><i  data-doc="math_1">     OverflowError is raised</i></td></tr>
<tr><th id="976">976</th><td><i  data-doc="math_1"></i></td></tr>
<tr><th id="977">977</th><td><i  data-doc="math_1">   The last rule is used to catch overflow on platforms which follow</i></td></tr>
<tr><th id="978">978</th><td><i  data-doc="math_1">   C89 but for which HUGE_VAL is not an infinity.</i></td></tr>
<tr><th id="979">979</th><td><i  data-doc="math_1"></i></td></tr>
<tr><th id="980">980</th><td><i  data-doc="math_1">   For most two-argument functions (copysign, fmod, hypot, atan2)</i></td></tr>
<tr><th id="981">981</th><td><i  data-doc="math_1">   these rules are enough to ensure that Python's functions behave as</i></td></tr>
<tr><th id="982">982</th><td><i  data-doc="math_1">   specified in 'Annex F' of the C99 standard, with the 'invalid' and</i></td></tr>
<tr><th id="983">983</th><td><i  data-doc="math_1">   'divide-by-zero' floating-point exceptions mapping to Python's</i></td></tr>
<tr><th id="984">984</th><td><i  data-doc="math_1">   ValueError and the 'overflow' floating-point exception mapping to</i></td></tr>
<tr><th id="985">985</th><td><i  data-doc="math_1">   OverflowError.</i></td></tr>
<tr><th id="986">986</th><td><i  data-doc="math_1">*/</i></td></tr>
<tr><th id="987">987</th><td></td></tr>
<tr><th id="988">988</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="989">989</th><td><dfn class="tu decl def" id="math_1" title='math_1' data-type='PyObject * math_1(PyObject * arg, double (*)(double) func, int can_overflow)' data-ref="math_1">math_1</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="178arg" title='arg' data-type='PyObject *' data-ref="178arg">arg</dfn>, <em>double</em> (*<dfn class="local col9 decl" id="179func" title='func' data-type='double (*)(double)' data-ref="179func">func</dfn>) (<em>double</em>), <em>int</em> <dfn class="local col0 decl" id="180can_overflow" title='can_overflow' data-type='int' data-ref="180can_overflow">can_overflow</dfn>)</td></tr>
<tr><th id="990">990</th><td>{</td></tr>
<tr><th id="991">991</th><td>    <b>return</b> <a class="tu ref" href="#math_1_to_whatever" title='math_1_to_whatever' data-use='c' data-ref="math_1_to_whatever">math_1_to_whatever</a>(<a class="local col8 ref" href="#178arg" title='arg' data-ref="178arg">arg</a>, <a class="local col9 ref" href="#179func" title='func' data-ref="179func">func</a>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>, <a class="local col0 ref" href="#180can_overflow" title='can_overflow' data-ref="180can_overflow">can_overflow</a>);</td></tr>
<tr><th id="992">992</th><td>}</td></tr>
<tr><th id="993">993</th><td></td></tr>
<tr><th id="994">994</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="995">995</th><td><dfn class="tu decl def" id="math_1_to_int" title='math_1_to_int' data-type='PyObject * math_1_to_int(PyObject * arg, double (*)(double) func, int can_overflow)' data-ref="math_1_to_int">math_1_to_int</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="181arg" title='arg' data-type='PyObject *' data-ref="181arg">arg</dfn>, <em>double</em> (*<dfn class="local col2 decl" id="182func" title='func' data-type='double (*)(double)' data-ref="182func">func</dfn>) (<em>double</em>), <em>int</em> <dfn class="local col3 decl" id="183can_overflow" title='can_overflow' data-type='int' data-ref="183can_overflow">can_overflow</dfn>)</td></tr>
<tr><th id="996">996</th><td>{</td></tr>
<tr><th id="997">997</th><td>    <b>return</b> <a class="tu ref" href="#math_1_to_whatever" title='math_1_to_whatever' data-use='c' data-ref="math_1_to_whatever">math_1_to_whatever</a>(<a class="local col1 ref" href="#181arg" title='arg' data-ref="181arg">arg</a>, <a class="local col2 ref" href="#182func" title='func' data-ref="182func">func</a>, <a class="ref" href="../Include/longobject.h.html#PyLong_FromDouble" title='PyLong_FromDouble' data-ref="PyLong_FromDouble">PyLong_FromDouble</a>, <a class="local col3 ref" href="#183can_overflow" title='can_overflow' data-ref="183can_overflow">can_overflow</a>);</td></tr>
<tr><th id="998">998</th><td>}</td></tr>
<tr><th id="999">999</th><td></td></tr>
<tr><th id="1000">1000</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1001">1001</th><td><dfn class="tu decl def" id="math_2" title='math_2' data-type='PyObject * math_2(PyObject * args, double (*)(double, double) func, const char * funcname)' data-ref="math_2">math_2</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="184args" title='args' data-type='PyObject *' data-ref="184args">args</dfn>, <em>double</em> (*<dfn class="local col5 decl" id="185func" title='func' data-type='double (*)(double, double)' data-ref="185func">func</dfn>) (<em>double</em>, <em>double</em>), <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="186funcname" title='funcname' data-type='const char *' data-ref="186funcname">funcname</dfn>)</td></tr>
<tr><th id="1002">1002</th><td>{</td></tr>
<tr><th id="1003">1003</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="187ox" title='ox' data-type='PyObject *' data-ref="187ox">ox</dfn>, *<dfn class="local col8 decl" id="188oy" title='oy' data-type='PyObject *' data-ref="188oy">oy</dfn>;</td></tr>
<tr><th id="1004">1004</th><td>    <em>double</em> <dfn class="local col9 decl" id="189x" title='x' data-type='double' data-ref="189x">x</dfn>, <dfn class="local col0 decl" id="190y" title='y' data-type='double' data-ref="190y">y</dfn>, <dfn class="local col1 decl" id="191r" title='r' data-type='double' data-ref="191r">r</dfn>;</td></tr>
<tr><th id="1005">1005</th><td>    <b>if</b> (! <a class="ref" href="../Include/modsupport.h.html#PyArg_UnpackTuple" title='PyArg_UnpackTuple' data-ref="PyArg_UnpackTuple">PyArg_UnpackTuple</a>(<a class="local col4 ref" href="#184args" title='args' data-ref="184args">args</a>, <a class="local col6 ref" href="#186funcname" title='funcname' data-ref="186funcname">funcname</a>, <var>2</var>, <var>2</var>, &amp;<a class="local col7 ref" href="#187ox" title='ox' data-ref="187ox">ox</a>, &amp;<a class="local col8 ref" href="#188oy" title='oy' data-ref="188oy">oy</a>))</td></tr>
<tr><th id="1006">1006</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1007">1007</th><td>    <a class="local col9 ref" href="#189x" title='x' data-ref="189x">x</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col7 ref" href="#187ox" title='ox' data-ref="187ox">ox</a>);</td></tr>
<tr><th id="1008">1008</th><td>    <a class="local col0 ref" href="#190y" title='y' data-ref="190y">y</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col8 ref" href="#188oy" title='oy' data-ref="188oy">oy</a>);</td></tr>
<tr><th id="1009">1009</th><td>    <b>if</b> ((<a class="local col9 ref" href="#189x" title='x' data-ref="189x">x</a> == -<var>1.0</var> || <a class="local col0 ref" href="#190y" title='y' data-ref="190y">y</a> == -<var>1.0</var>) &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1010">1010</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1011">1011</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1012">1012</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_2"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="1013">1013</th><td>    <a class="local col1 ref" href="#191r" title='r' data-ref="191r">r</a> = (*<a class="local col5 ref" href="#185func" title='func' data-ref="185func">func</a>)(<a class="local col9 ref" href="#189x" title='x' data-ref="189x">x</a>, <a class="local col0 ref" href="#190y" title='y' data-ref="190y">y</a>);</td></tr>
<tr><th id="1014">1014</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="1015">1015</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (r) == sizeof (float) ? __isnanf (r) : sizeof (r) == sizeof (double) ? __isnan (r) : __isnanl (r))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col1 ref" href="#191r" title='r' data-ref="191r">r</a>)) {</td></tr>
<tr><th id="1016">1016</th><td>        <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col9 ref" href="#189x" title='x' data-ref="189x">x</a>) &amp;&amp; !<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col0 ref" href="#190y" title='y' data-ref="190y">y</a>))</td></tr>
<tr><th id="1017">1017</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="1018">1018</th><td>        <b>else</b></td></tr>
<tr><th id="1019">1019</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1020">1020</th><td>    }</td></tr>
<tr><th id="1021">1021</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#191r" title='r' data-ref="191r">r</a>)) {</td></tr>
<tr><th id="1022">1022</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col9 ref" href="#189x" title='x' data-ref="189x">x</a>) &amp;&amp; <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (y) == sizeof (float) ? __finitef (y) : sizeof (y) == sizeof (double) ? __finite (y) : __finitel (y))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col0 ref" href="#190y" title='y' data-ref="190y">y</a>))</td></tr>
<tr><th id="1023">1023</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="1024">1024</th><td>        <b>else</b></td></tr>
<tr><th id="1025">1025</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1026">1026</th><td>    }</td></tr>
<tr><th id="1027">1027</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col1 ref" href="#191r" title='r' data-ref="191r">r</a>))</td></tr>
<tr><th id="1028">1028</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1029">1029</th><td>    <b>else</b></td></tr>
<tr><th id="1030">1030</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col1 ref" href="#191r" title='r' data-ref="191r">r</a>);</td></tr>
<tr><th id="1031">1031</th><td>}</td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td><u>#define <dfn class="macro" id="_M/FUNC1" data-ref="_M/FUNC1">FUNC1</dfn>(funcname, func, can_overflow, docstring)                  \</u></td></tr>
<tr><th id="1034">1034</th><td><u>    static <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> * math_##funcname(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="192self" title='self' data-type='PyObject *' data-ref="192self"><dfn class="local col4 decl" id="194self" title='self' data-type='PyObject *' data-ref="194self"><dfn class="local col6 decl" id="196self" title='self' data-type='PyObject *' data-ref="196self"><dfn class="local col8 decl" id="198self" title='self' data-type='PyObject *' data-ref="198self"><dfn class="local col0 decl" id="200self" title='self' data-type='PyObject *' data-ref="200self"><dfn class="local col4 decl" id="204self" title='self' data-type='PyObject *' data-ref="204self"><dfn class="local col3 decl" id="213self" title='self' data-type='PyObject *' data-ref="213self"><dfn class="local col5 decl" id="215self" title='self' data-type='PyObject *' data-ref="215self"><dfn class="local col1 decl" id="221self" title='self' data-type='PyObject *' data-ref="221self"><dfn class="local col3 decl" id="223self" title='self' data-type='PyObject *' data-ref="223self"><dfn class="local col5 decl" id="225self" title='self' data-type='PyObject *' data-ref="225self"><dfn class="local col6 decl" id="236self" title='self' data-type='PyObject *' data-ref="236self"><dfn class="local col0 decl" id="240self" title='self' data-type='PyObject *' data-ref="240self"><dfn class="local col2 decl" id="242self" title='self' data-type='PyObject *' data-ref="242self"><dfn class="local col4 decl" id="244self" title='self' data-type='PyObject *' data-ref="244self"><dfn class="local col6 decl" id="246self" title='self' data-type='PyObject *' data-ref="246self"><dfn class="local col8 decl" id="248self" title='self' data-type='PyObject *' data-ref="248self">self</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="193args" title='args' data-type='PyObject *' data-ref="193args"><dfn class="local col5 decl" id="195args" title='args' data-type='PyObject *' data-ref="195args"><dfn class="local col7 decl" id="197args" title='args' data-type='PyObject *' data-ref="197args"><dfn class="local col9 decl" id="199args" title='args' data-type='PyObject *' data-ref="199args"><dfn class="local col1 decl" id="201args" title='args' data-type='PyObject *' data-ref="201args"><dfn class="local col5 decl" id="205args" title='args' data-type='PyObject *' data-ref="205args"><dfn class="local col4 decl" id="214args" title='args' data-type='PyObject *' data-ref="214args"><dfn class="local col6 decl" id="216args" title='args' data-type='PyObject *' data-ref="216args"><dfn class="local col2 decl" id="222args" title='args' data-type='PyObject *' data-ref="222args"><dfn class="local col4 decl" id="224args" title='args' data-type='PyObject *' data-ref="224args"><dfn class="local col6 decl" id="226args" title='args' data-type='PyObject *' data-ref="226args"><dfn class="local col7 decl" id="237args" title='args' data-type='PyObject *' data-ref="237args"><dfn class="local col1 decl" id="241args" title='args' data-type='PyObject *' data-ref="241args"><dfn class="local col3 decl" id="243args" title='args' data-type='PyObject *' data-ref="243args"><dfn class="local col5 decl" id="245args" title='args' data-type='PyObject *' data-ref="245args"><dfn class="local col7 decl" id="247args" title='args' data-type='PyObject *' data-ref="247args"><dfn class="local col9 decl" id="249args" title='args' data-type='PyObject *' data-ref="249args">args</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn>) { \</u></td></tr>
<tr><th id="1035">1035</th><td><u>        return <a class="tu ref" href="#math_1" title='math_1' data-use='c' data-ref="math_1">math_1</a>(<a class="local col3 ref" href="#1051" title='args' data-ref="193args"><a class="local col5 ref" href="#1054" title='args' data-ref="195args"><a class="local col7 ref" href="#1057" title='args' data-ref="197args"><a class="local col9 ref" href="#1060" title='args' data-ref="199args"><a class="local col1 ref" href="#1063" title='args' data-ref="201args"><a class="local col5 ref" href="#1070" title='args' data-ref="205args"><a class="local col4 ref" href="#1108" title='args' data-ref="214args"><a class="local col6 ref" href="#1111" title='args' data-ref="216args"><a class="local col2 ref" href="#1120" title='args' data-ref="222args"><a class="local col4 ref" href="#1123" title='args' data-ref="224args"><a class="local col6 ref" href="#1128" title='args' data-ref="226args"><a class="local col7 ref" href="#1167" title='args' data-ref="237args"><a class="local col1 ref" href="#1177" title='args' data-ref="241args"><a class="local col3 ref" href="#1180" title='args' data-ref="243args"><a class="local col5 ref" href="#1183" title='args' data-ref="245args"><a class="local col7 ref" href="#1186" title='args' data-ref="247args"><a class="local col9 ref" href="#1189" title='args' data-ref="249args">args</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a>, func, can_overflow);                            \</u></td></tr>
<tr><th id="1036">1036</th><td><u>    }\</u></td></tr>
<tr><th id="1037">1037</th><td><u>    PyDoc_STRVAR(math_##funcname##_doc, docstring);</u></td></tr>
<tr><th id="1038">1038</th><td></td></tr>
<tr><th id="1039">1039</th><td><u>#define <dfn class="macro" id="_M/FUNC1A" data-ref="_M/FUNC1A">FUNC1A</dfn>(funcname, func, docstring)                               \</u></td></tr>
<tr><th id="1040">1040</th><td><u>    static <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> * math_##funcname(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="217self" title='self' data-type='PyObject *' data-ref="217self"><dfn class="local col9 decl" id="219self" title='self' data-type='PyObject *' data-ref="219self"><dfn class="local col2 decl" id="232self" title='self' data-type='PyObject *' data-ref="232self"><dfn class="local col4 decl" id="234self" title='self' data-type='PyObject *' data-ref="234self">self</dfn></dfn></dfn></dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="218args" title='args' data-type='PyObject *' data-ref="218args"><dfn class="local col0 decl" id="220args" title='args' data-type='PyObject *' data-ref="220args"><dfn class="local col3 decl" id="233args" title='args' data-type='PyObject *' data-ref="233args"><dfn class="local col5 decl" id="235args" title='args' data-type='PyObject *' data-ref="235args">args</dfn></dfn></dfn></dfn>) { \</u></td></tr>
<tr><th id="1041">1041</th><td><u>        return <a class="tu ref" href="#math_1a" title='math_1a' data-use='c' data-ref="math_1a">math_1a</a>(<a class="local col8 ref" href="#1114" title='args' data-ref="218args"><a class="local col0 ref" href="#1117" title='args' data-ref="220args"><a class="local col3 ref" href="#1161" title='args' data-ref="233args"><a class="local col5 ref" href="#1164" title='args' data-ref="235args">args</a></a></a></a>, func);                                     \</u></td></tr>
<tr><th id="1042">1042</th><td><u>    }\</u></td></tr>
<tr><th id="1043">1043</th><td><u>    PyDoc_STRVAR(math_##funcname##_doc, docstring);</u></td></tr>
<tr><th id="1044">1044</th><td></td></tr>
<tr><th id="1045">1045</th><td><u>#define <dfn class="macro" id="_M/FUNC2" data-ref="_M/FUNC2">FUNC2</dfn>(funcname, func, docstring) \</u></td></tr>
<tr><th id="1046">1046</th><td><u>    static <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> * math_##funcname(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="202self" title='self' data-type='PyObject *' data-ref="202self"><dfn class="local col1 decl" id="211self" title='self' data-type='PyObject *' data-ref="211self"><dfn class="local col8 decl" id="238self" title='self' data-type='PyObject *' data-ref="238self">self</dfn></dfn></dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="203args" title='args' data-type='PyObject *' data-ref="203args"><dfn class="local col2 decl" id="212args" title='args' data-type='PyObject *' data-ref="212args"><dfn class="local col9 decl" id="239args" title='args' data-type='PyObject *' data-ref="239args">args</dfn></dfn></dfn>) { \</u></td></tr>
<tr><th id="1047">1047</th><td><u>        return <a class="tu ref" href="#math_2" title='math_2' data-use='c' data-ref="math_2">math_2</a>(<a class="local col3 ref" href="#1066" title='args' data-ref="203args"><a class="local col2 ref" href="#1103" title='args' data-ref="212args"><a class="local col9 ref" href="#1171" title='args' data-ref="239args">args</a></a></a>, func, #funcname); \</u></td></tr>
<tr><th id="1048">1048</th><td><u>    }\</u></td></tr>
<tr><th id="1049">1049</th><td><u>    PyDoc_STRVAR(math_##funcname##_doc, docstring);</u></td></tr>
<tr><th id="1050">1050</th><td></td></tr>
<tr><th id="1051">1051</th><td><a class="macro" href="#1033" title="static PyObject * math_acos(PyObject *self, PyObject *args) { return math_1(args, acos, 0); } static char math_acos_doc[] = &quot;acos($module, x, /)\n--\n\n&quot; &quot;Return the arc cosine (measured in radians) of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(acos, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#54" title='acos' data-ref="acos">acos</a>, <var>0</var>,</td></tr>
<tr><th id="1052">1052</th><td>      <q>"acos($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1053">1053</th><td>      <q>"Return the arc cosine (measured in radians) of x."</q>)</td></tr>
<tr><th id="1054">1054</th><td><a class="macro" href="#1033" title="static PyObject * math_acosh(PyObject *self, PyObject *args) { return math_1(args, acosh, 0); } static char math_acosh_doc[] = &quot;acosh($module, x, /)\n--\n\n&quot; &quot;Return the inverse hyperbolic cosine of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(acosh, <a class="macro" href="_math.h.html#2" title="acosh" data-ref="_M/m_acosh">m_acosh</a>, <var>0</var>,</td></tr>
<tr><th id="1055">1055</th><td>      <q>"acosh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1056">1056</th><td>      <q>"Return the inverse hyperbolic cosine of x."</q>)</td></tr>
<tr><th id="1057">1057</th><td><a class="macro" href="#1033" title="static PyObject * math_asin(PyObject *self, PyObject *args) { return math_1(args, asin, 0); } static char math_asin_doc[] = &quot;asin($module, x, /)\n--\n\n&quot; &quot;Return the arc sine (measured in radians) of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(asin, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#56" title='asin' data-ref="asin">asin</a>, <var>0</var>,</td></tr>
<tr><th id="1058">1058</th><td>      <q>"asin($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1059">1059</th><td>      <q>"Return the arc sine (measured in radians) of x."</q>)</td></tr>
<tr><th id="1060">1060</th><td><a class="macro" href="#1033" title="static PyObject * math_asinh(PyObject *self, PyObject *args) { return math_1(args, asinh, 0); } static char math_asinh_doc[] = &quot;asinh($module, x, /)\n--\n\n&quot; &quot;Return the inverse hyperbolic sine of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(asinh, <a class="macro" href="_math.h.html#11" title="asinh" data-ref="_M/m_asinh">m_asinh</a>, <var>0</var>,</td></tr>
<tr><th id="1061">1061</th><td>      <q>"asinh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1062">1062</th><td>      <q>"Return the inverse hyperbolic sine of x."</q>)</td></tr>
<tr><th id="1063">1063</th><td><a class="macro" href="#1033" title="static PyObject * math_atan(PyObject *self, PyObject *args) { return math_1(args, atan, 0); } static char math_atan_doc[] = &quot;atan($module, x, /)\n--\n\n&quot; &quot;Return the arc tangent (measured in radians) of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(atan, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#58" title='atan' data-ref="atan">atan</a>, <var>0</var>,</td></tr>
<tr><th id="1064">1064</th><td>      <q>"atan($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1065">1065</th><td>      <q>"Return the arc tangent (measured in radians) of x."</q>)</td></tr>
<tr><th id="1066">1066</th><td><a class="macro" href="#1045" title="static PyObject * math_atan2(PyObject *self, PyObject *args) { return math_2(args, m_atan2, &quot;atan2&quot;); } static char math_atan2_doc[] = &quot;atan2($module, y, x, /)\n--\n\n&quot; &quot;Return the arc tangent (measured in radians) of y/x.\n\n&quot; &quot;Unlike atan(y/x), the signs of both x and y are considered.&quot;;" data-ref="_M/FUNC2">FUNC2</a>(atan2, <a class="tu ref" href="#m_atan2" title='m_atan2' data-use='r' data-ref="m_atan2">m_atan2</a>,</td></tr>
<tr><th id="1067">1067</th><td>      <q>"atan2($module, y, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1068">1068</th><td>      <q>"Return the arc tangent (measured in radians) of y/x.\n\n"</q></td></tr>
<tr><th id="1069">1069</th><td>      <q>"Unlike atan(y/x), the signs of both x and y are considered."</q>)</td></tr>
<tr><th id="1070">1070</th><td><a class="macro" href="#1033" title="static PyObject * math_atanh(PyObject *self, PyObject *args) { return math_1(args, atanh, 0); } static char math_atanh_doc[] = &quot;atanh($module, x, /)\n--\n\n&quot; &quot;Return the inverse hyperbolic tangent of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(atanh, <a class="macro" href="_math.h.html#20" title="atanh" data-ref="_M/m_atanh">m_atanh</a>, <var>0</var>,</td></tr>
<tr><th id="1071">1071</th><td>      <q>"atanh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1072">1072</th><td>      <q>"Return the inverse hyperbolic tangent of x."</q>)</td></tr>
<tr><th id="1073">1073</th><td></td></tr>
<tr><th id="1074">1074</th><td><i  data-doc="math_ceil">/*[clinic input]</i></td></tr>
<tr><th id="1075">1075</th><td><i  data-doc="math_ceil">math.ceil</i></td></tr>
<tr><th id="1076">1076</th><td><i  data-doc="math_ceil"></i></td></tr>
<tr><th id="1077">1077</th><td><i  data-doc="math_ceil">    x as number: object</i></td></tr>
<tr><th id="1078">1078</th><td><i  data-doc="math_ceil">    /</i></td></tr>
<tr><th id="1079">1079</th><td><i  data-doc="math_ceil"></i></td></tr>
<tr><th id="1080">1080</th><td><i  data-doc="math_ceil">Return the ceiling of x as an Integral.</i></td></tr>
<tr><th id="1081">1081</th><td><i  data-doc="math_ceil"></i></td></tr>
<tr><th id="1082">1082</th><td><i  data-doc="math_ceil">This is the smallest integer &gt;= x.</i></td></tr>
<tr><th id="1083">1083</th><td><i  data-doc="math_ceil">[clinic start generated code]*/</i></td></tr>
<tr><th id="1084">1084</th><td></td></tr>
<tr><th id="1085">1085</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1086">1086</th><td><dfn class="tu decl def" id="math_ceil" title='math_ceil' data-type='PyObject * math_ceil(PyObject * module, PyObject * number)' data-ref="math_ceil">math_ceil</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="206module" title='module' data-type='PyObject *' data-ref="206module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="207number" title='number' data-type='PyObject *' data-ref="207number">number</dfn>)</td></tr>
<tr><th id="1087">1087</th><td><i>/*[clinic end generated code: output=6c3b8a78bc201c67 input=2725352806399cab]*/</i></td></tr>
<tr><th id="1088">1088</th><td>{</td></tr>
<tr><th id="1089">1089</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId___ceil__ = { .next = ((void*)0), .string = &quot;__ceil__&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(__ceil__);</td></tr>
<tr><th id="1090">1090</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="208method" title='method' data-type='PyObject *' data-ref="208method">method</dfn>, *<dfn class="local col9 decl" id="209result" title='result' data-type='PyObject *' data-ref="209result">result</dfn>;</td></tr>
<tr><th id="1091">1091</th><td></td></tr>
<tr><th id="1092">1092</th><td>    <a class="local col8 ref" href="#208method" title='method' data-ref="208method">method</a> = <a class="ref" href="../Include/object.h.html#_PyObject_LookupSpecial" title='_PyObject_LookupSpecial' data-ref="_PyObject_LookupSpecial">_PyObject_LookupSpecial</a>(<a class="local col7 ref" href="#207number" title='number' data-ref="207number">number</a>, &amp;<a class="local col0 ref" href="#1089" title='PyId___ceil__' data-ref="210PyId___ceil__">PyId___ceil__</a>);</td></tr>
<tr><th id="1093">1093</th><td>    <b>if</b> (<a class="local col8 ref" href="#208method" title='method' data-ref="208method">method</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1094">1094</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1095">1095</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1096">1096</th><td>        <b>return</b> <a class="tu ref" href="#math_1_to_int" title='math_1_to_int' data-use='c' data-ref="math_1_to_int">math_1_to_int</a>(<a class="local col7 ref" href="#207number" title='number' data-ref="207number">number</a>, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#178" title='ceil' data-ref="ceil">ceil</a>, <var>0</var>);</td></tr>
<tr><th id="1097">1097</th><td>    }</td></tr>
<tr><th id="1098">1098</th><td>    <a class="local col9 ref" href="#209result" title='result' data-ref="209result">result</a> = <a class="macro" href="../Include/abstract.h.html#255" title="_PyObject_FastCallDict((method), ((void*)0), 0, ((void*)0))" data-ref="_M/_PyObject_CallNoArg">_PyObject_CallNoArg</a>(<a class="local col8 ref" href="#208method" title='method' data-ref="208method">method</a>);</td></tr>
<tr><th id="1099">1099</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(method); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1099, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#208method" title='method' data-ref="208method">method</a>);</td></tr>
<tr><th id="1100">1100</th><td>    <b>return</b> <a class="local col9 ref" href="#209result" title='result' data-ref="209result">result</a>;</td></tr>
<tr><th id="1101">1101</th><td>}</td></tr>
<tr><th id="1102">1102</th><td></td></tr>
<tr><th id="1103">1103</th><td><a class="macro" href="#1045" title="static PyObject * math_copysign(PyObject *self, PyObject *args) { return math_2(args, copysign, &quot;copysign&quot;); } static char math_copysign_doc[] = &quot;copysign($module, x, y, /)\n--\n\n&quot; &quot;Return a float with the magnitude (absolute value) of x but the sign of y.\n\n&quot; &quot;On platforms that support signed zeros, copysign(1.0, -0.0)\n&quot; &quot;returns -1.0.\n&quot;;" data-ref="_M/FUNC2">FUNC2</a>(copysign, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>,</td></tr>
<tr><th id="1104">1104</th><td>      <q>"copysign($module, x, y, /)\n--\n\n"</q></td></tr>
<tr><th id="1105">1105</th><td>       <q>"Return a float with the magnitude (absolute value) of x but the sign of y.\n\n"</q></td></tr>
<tr><th id="1106">1106</th><td>      <q>"On platforms that support signed zeros, copysign(1.0, -0.0)\n"</q></td></tr>
<tr><th id="1107">1107</th><td>      <q>"returns -1.0.\n"</q>)</td></tr>
<tr><th id="1108">1108</th><td><a class="macro" href="#1033" title="static PyObject * math_cos(PyObject *self, PyObject *args) { return math_1(args, cos, 0); } static char math_cos_doc[] = &quot;cos($module, x, /)\n--\n\n&quot; &quot;Return the cosine of x (measured in radians).&quot;;" data-ref="_M/FUNC1">FUNC1</a>(cos, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#63" title='cos' data-ref="cos">cos</a>, <var>0</var>,</td></tr>
<tr><th id="1109">1109</th><td>      <q>"cos($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1110">1110</th><td>      <q>"Return the cosine of x (measured in radians)."</q>)</td></tr>
<tr><th id="1111">1111</th><td><a class="macro" href="#1033" title="static PyObject * math_cosh(PyObject *self, PyObject *args) { return math_1(args, cosh, 1); } static char math_cosh_doc[] = &quot;cosh($module, x, /)\n--\n\n&quot; &quot;Return the hyperbolic cosine of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(cosh, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#72" title='cosh' data-ref="cosh">cosh</a>, <var>1</var>,</td></tr>
<tr><th id="1112">1112</th><td>      <q>"cosh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1113">1113</th><td>      <q>"Return the hyperbolic cosine of x."</q>)</td></tr>
<tr><th id="1114">1114</th><td><a class="macro" href="#1039" title="static PyObject * math_erf(PyObject *self, PyObject *args) { return math_1a(args, m_erf); } static char math_erf_doc[] = &quot;erf($module, x, /)\n--\n\n&quot; &quot;Error function at x.&quot;;" data-ref="_M/FUNC1A">FUNC1A</a>(erf, <a class="tu ref" href="#m_erf" title='m_erf' data-use='r' data-ref="m_erf">m_erf</a>,</td></tr>
<tr><th id="1115">1115</th><td>       <q>"erf($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1116">1116</th><td>       <q>"Error function at x."</q>)</td></tr>
<tr><th id="1117">1117</th><td><a class="macro" href="#1039" title="static PyObject * math_erfc(PyObject *self, PyObject *args) { return math_1a(args, m_erfc); } static char math_erfc_doc[] = &quot;erfc($module, x, /)\n--\n\n&quot; &quot;Complementary error function at x.&quot;;" data-ref="_M/FUNC1A">FUNC1A</a>(erfc, <a class="tu ref" href="#m_erfc" title='m_erfc' data-use='r' data-ref="m_erfc">m_erfc</a>,</td></tr>
<tr><th id="1118">1118</th><td>       <q>"erfc($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1119">1119</th><td>       <q>"Complementary error function at x."</q>)</td></tr>
<tr><th id="1120">1120</th><td><a class="macro" href="#1033" title="static PyObject * math_exp(PyObject *self, PyObject *args) { return math_1(args, exp, 1); } static char math_exp_doc[] = &quot;exp($module, x, /)\n--\n\n&quot; &quot;Return e raised to the power of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(exp, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#100" title='exp' data-ref="exp">exp</a>, <var>1</var>,</td></tr>
<tr><th id="1121">1121</th><td>      <q>"exp($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1122">1122</th><td>      <q>"Return e raised to the power of x."</q>)</td></tr>
<tr><th id="1123">1123</th><td><a class="macro" href="#1033" title="static PyObject * math_expm1(PyObject *self, PyObject *args) { return math_1(args, expm1, 1); } static char math_expm1_doc[] = &quot;expm1($module, x, /)\n--\n\n&quot; &quot;Return exp(x)-1.\n\n&quot; &quot;This function avoids the loss of precision involved in the direct &quot; &quot;evaluation of exp(x)-1 for small x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(expm1, <a class="macro" href="_math.h.html#29" title="expm1" data-ref="_M/m_expm1">m_expm1</a>, <var>1</var>,</td></tr>
<tr><th id="1124">1124</th><td>      <q>"expm1($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1125">1125</th><td>      <q>"Return exp(x)-1.\n\n"</q></td></tr>
<tr><th id="1126">1126</th><td>      <q>"This function avoids the loss of precision involved in the direct "</q></td></tr>
<tr><th id="1127">1127</th><td>      <q>"evaluation of exp(x)-1 for small x."</q>)</td></tr>
<tr><th id="1128">1128</th><td><a class="macro" href="#1033" title="static PyObject * math_fabs(PyObject *self, PyObject *args) { return math_1(args, fabs, 0); } static char math_fabs_doc[] = &quot;fabs($module, x, /)\n--\n\n&quot; &quot;Return the absolute value of the float x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(fabs, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>, <var>0</var>,</td></tr>
<tr><th id="1129">1129</th><td>      <q>"fabs($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1130">1130</th><td>      <q>"Return the absolute value of the float x."</q>)</td></tr>
<tr><th id="1131">1131</th><td></td></tr>
<tr><th id="1132">1132</th><td><i  data-doc="math_floor">/*[clinic input]</i></td></tr>
<tr><th id="1133">1133</th><td><i  data-doc="math_floor">math.floor</i></td></tr>
<tr><th id="1134">1134</th><td><i  data-doc="math_floor"></i></td></tr>
<tr><th id="1135">1135</th><td><i  data-doc="math_floor">    x as number: object</i></td></tr>
<tr><th id="1136">1136</th><td><i  data-doc="math_floor">    /</i></td></tr>
<tr><th id="1137">1137</th><td><i  data-doc="math_floor"></i></td></tr>
<tr><th id="1138">1138</th><td><i  data-doc="math_floor">Return the floor of x as an Integral.</i></td></tr>
<tr><th id="1139">1139</th><td><i  data-doc="math_floor"></i></td></tr>
<tr><th id="1140">1140</th><td><i  data-doc="math_floor">This is the largest integer &lt;= x.</i></td></tr>
<tr><th id="1141">1141</th><td><i  data-doc="math_floor">[clinic start generated code]*/</i></td></tr>
<tr><th id="1142">1142</th><td></td></tr>
<tr><th id="1143">1143</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1144">1144</th><td><dfn class="tu decl def" id="math_floor" title='math_floor' data-type='PyObject * math_floor(PyObject * module, PyObject * number)' data-ref="math_floor">math_floor</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="227module" title='module' data-type='PyObject *' data-ref="227module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="228number" title='number' data-type='PyObject *' data-ref="228number">number</dfn>)</td></tr>
<tr><th id="1145">1145</th><td><i>/*[clinic end generated code: output=c6a65c4884884b8a input=63af6b5d7ebcc3d6]*/</i></td></tr>
<tr><th id="1146">1146</th><td>{</td></tr>
<tr><th id="1147">1147</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId___floor__ = { .next = ((void*)0), .string = &quot;__floor__&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(__floor__);</td></tr>
<tr><th id="1148">1148</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="229method" title='method' data-type='PyObject *' data-ref="229method">method</dfn>, *<dfn class="local col0 decl" id="230result" title='result' data-type='PyObject *' data-ref="230result">result</dfn>;</td></tr>
<tr><th id="1149">1149</th><td></td></tr>
<tr><th id="1150">1150</th><td>    <a class="local col9 ref" href="#229method" title='method' data-ref="229method">method</a> = <a class="ref" href="../Include/object.h.html#_PyObject_LookupSpecial" title='_PyObject_LookupSpecial' data-ref="_PyObject_LookupSpecial">_PyObject_LookupSpecial</a>(<a class="local col8 ref" href="#228number" title='number' data-ref="228number">number</a>, &amp;<a class="local col1 ref" href="#1147" title='PyId___floor__' data-ref="231PyId___floor__">PyId___floor__</a>);</td></tr>
<tr><th id="1151">1151</th><td>    <b>if</b> (<a class="local col9 ref" href="#229method" title='method' data-ref="229method">method</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1152">1152</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1153">1153</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1154">1154</th><td>        <b>return</b> <a class="tu ref" href="#math_1_to_int" title='math_1_to_int' data-use='c' data-ref="math_1_to_int">math_1_to_int</a>(<a class="local col8 ref" href="#228number" title='number' data-ref="228number">number</a>, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#184" title='floor' data-ref="floor">floor</a>, <var>0</var>);</td></tr>
<tr><th id="1155">1155</th><td>    }</td></tr>
<tr><th id="1156">1156</th><td>    <a class="local col0 ref" href="#230result" title='result' data-ref="230result">result</a> = <a class="macro" href="../Include/abstract.h.html#255" title="_PyObject_FastCallDict((method), ((void*)0), 0, ((void*)0))" data-ref="_M/_PyObject_CallNoArg">_PyObject_CallNoArg</a>(<a class="local col9 ref" href="#229method" title='method' data-ref="229method">method</a>);</td></tr>
<tr><th id="1157">1157</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(method); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1157, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#229method" title='method' data-ref="229method">method</a>);</td></tr>
<tr><th id="1158">1158</th><td>    <b>return</b> <a class="local col0 ref" href="#230result" title='result' data-ref="230result">result</a>;</td></tr>
<tr><th id="1159">1159</th><td>}</td></tr>
<tr><th id="1160">1160</th><td></td></tr>
<tr><th id="1161">1161</th><td><a class="macro" href="#1039" title="static PyObject * math_gamma(PyObject *self, PyObject *args) { return math_1a(args, m_tgamma); } static char math_gamma_doc[] = &quot;gamma($module, x, /)\n--\n\n&quot; &quot;Gamma function at x.&quot;;" data-ref="_M/FUNC1A">FUNC1A</a>(gamma, <a class="tu ref" href="#m_tgamma" title='m_tgamma' data-use='r' data-ref="m_tgamma">m_tgamma</a>,</td></tr>
<tr><th id="1162">1162</th><td>      <q>"gamma($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1163">1163</th><td>      <q>"Gamma function at x."</q>)</td></tr>
<tr><th id="1164">1164</th><td><a class="macro" href="#1039" title="static PyObject * math_lgamma(PyObject *self, PyObject *args) { return math_1a(args, m_lgamma); } static char math_lgamma_doc[] = &quot;lgamma($module, x, /)\n--\n\n&quot; &quot;Natural logarithm of absolute value of Gamma function at x.&quot;;" data-ref="_M/FUNC1A">FUNC1A</a>(lgamma, <a class="tu ref" href="#m_lgamma" title='m_lgamma' data-use='r' data-ref="m_lgamma">m_lgamma</a>,</td></tr>
<tr><th id="1165">1165</th><td>      <q>"lgamma($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1166">1166</th><td>      <q>"Natural logarithm of absolute value of Gamma function at x."</q>)</td></tr>
<tr><th id="1167">1167</th><td><a class="macro" href="#1033" title="static PyObject * math_log1p(PyObject *self, PyObject *args) { return math_1(args, _Py_log1p, 0); } static char math_log1p_doc[] = &quot;log1p($module, x, /)\n--\n\n&quot; &quot;Return the natural logarithm of 1+x (base e).\n\n&quot; &quot;The result is computed in a way which is accurate for x near zero.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(log1p, <a class="macro" href="_math.h.html#41" title="_Py_log1p" data-ref="_M/m_log1p">m_log1p</a>, <var>0</var>,</td></tr>
<tr><th id="1168">1168</th><td>      <q>"log1p($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1169">1169</th><td>      <q>"Return the natural logarithm of 1+x (base e).\n\n"</q></td></tr>
<tr><th id="1170">1170</th><td>      <q>"The result is computed in a way which is accurate for x near zero."</q>)</td></tr>
<tr><th id="1171">1171</th><td><a class="macro" href="#1045" title="static PyObject * math_remainder(PyObject *self, PyObject *args) { return math_2(args, m_remainder, &quot;remainder&quot;); } static char math_remainder_doc[] = &quot;remainder($module, x, y, /)\n--\n\n&quot; &quot;Difference between x and the closest integer multiple of y.\n\n&quot; &quot;Return x - n*y where n*y is the closest integer multiple of y.\n&quot; &quot;In the case where x is exactly halfway between two multiples of\n&quot; &quot;y, the nearest even value of n is used. The result is always exact.&quot;;" data-ref="_M/FUNC2">FUNC2</a>(remainder, <a class="tu ref" href="#m_remainder" title='m_remainder' data-use='r' data-ref="m_remainder">m_remainder</a>,</td></tr>
<tr><th id="1172">1172</th><td>      <q>"remainder($module, x, y, /)\n--\n\n"</q></td></tr>
<tr><th id="1173">1173</th><td>      <q>"Difference between x and the closest integer multiple of y.\n\n"</q></td></tr>
<tr><th id="1174">1174</th><td>      <q>"Return x - n*y where n*y is the closest integer multiple of y.\n"</q></td></tr>
<tr><th id="1175">1175</th><td>      <q>"In the case where x is exactly halfway between two multiples of\n"</q></td></tr>
<tr><th id="1176">1176</th><td>      <q>"y, the nearest even value of n is used. The result is always exact."</q>)</td></tr>
<tr><th id="1177">1177</th><td><a class="macro" href="#1033" title="static PyObject * math_sin(PyObject *self, PyObject *args) { return math_1(args, sin, 0); } static char math_sin_doc[] = &quot;sin($module, x, /)\n--\n\n&quot; &quot;Return the sine of x (measured in radians).&quot;;" data-ref="_M/FUNC1">FUNC1</a>(sin, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#65" title='sin' data-ref="sin">sin</a>, <var>0</var>,</td></tr>
<tr><th id="1178">1178</th><td>      <q>"sin($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1179">1179</th><td>      <q>"Return the sine of x (measured in radians)."</q>)</td></tr>
<tr><th id="1180">1180</th><td><a class="macro" href="#1033" title="static PyObject * math_sinh(PyObject *self, PyObject *args) { return math_1(args, sinh, 1); } static char math_sinh_doc[] = &quot;sinh($module, x, /)\n--\n\n&quot; &quot;Return the hyperbolic sine of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(sinh, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#74" title='sinh' data-ref="sinh">sinh</a>, <var>1</var>,</td></tr>
<tr><th id="1181">1181</th><td>      <q>"sinh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1182">1182</th><td>      <q>"Return the hyperbolic sine of x."</q>)</td></tr>
<tr><th id="1183">1183</th><td><a class="macro" href="#1033" title="static PyObject * math_sqrt(PyObject *self, PyObject *args) { return math_1(args, sqrt, 0); } static char math_sqrt_doc[] = &quot;sqrt($module, x, /)\n--\n\n&quot; &quot;Return the square root of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(sqrt, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#156" title='sqrt' data-ref="sqrt">sqrt</a>, <var>0</var>,</td></tr>
<tr><th id="1184">1184</th><td>      <q>"sqrt($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1185">1185</th><td>      <q>"Return the square root of x."</q>)</td></tr>
<tr><th id="1186">1186</th><td><a class="macro" href="#1033" title="static PyObject * math_tan(PyObject *self, PyObject *args) { return math_1(args, tan, 0); } static char math_tan_doc[] = &quot;tan($module, x, /)\n--\n\n&quot; &quot;Return the tangent of x (measured in radians).&quot;;" data-ref="_M/FUNC1">FUNC1</a>(tan, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#67" title='tan' data-ref="tan">tan</a>, <var>0</var>,</td></tr>
<tr><th id="1187">1187</th><td>      <q>"tan($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1188">1188</th><td>      <q>"Return the tangent of x (measured in radians)."</q>)</td></tr>
<tr><th id="1189">1189</th><td><a class="macro" href="#1033" title="static PyObject * math_tanh(PyObject *self, PyObject *args) { return math_1(args, tanh, 0); } static char math_tanh_doc[] = &quot;tanh($module, x, /)\n--\n\n&quot; &quot;Return the hyperbolic tangent of x.&quot;;" data-ref="_M/FUNC1">FUNC1</a>(tanh, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#76" title='tanh' data-ref="tanh">tanh</a>, <var>0</var>,</td></tr>
<tr><th id="1190">1190</th><td>      <q>"tanh($module, x, /)\n--\n\n"</q></td></tr>
<tr><th id="1191">1191</th><td>      <q>"Return the hyperbolic tangent of x."</q>)</td></tr>
<tr><th id="1192">1192</th><td></td></tr>
<tr><th id="1193">1193</th><td><i>/* Precision summation function as msum() by Raymond Hettinger in</i></td></tr>
<tr><th id="1194">1194</th><td><i>   &lt;<a href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/393090">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/393090</a>&gt;,</i></td></tr>
<tr><th id="1195">1195</th><td><i>   enhanced with the exact partials sum and roundoff from Mark</i></td></tr>
<tr><th id="1196">1196</th><td><i>   Dickinson's post at &lt;<a href="http://bugs.python.org/file10357/msum4.py">http://bugs.python.org/file10357/msum4.py</a>&gt;.</i></td></tr>
<tr><th id="1197">1197</th><td><i>   See those links for more details, proofs and other references.</i></td></tr>
<tr><th id="1198">1198</th><td><i></i></td></tr>
<tr><th id="1199">1199</th><td><i>   Note 1: IEEE 754R floating point semantics are assumed,</i></td></tr>
<tr><th id="1200">1200</th><td><i>   but the current implementation does not re-establish special</i></td></tr>
<tr><th id="1201">1201</th><td><i>   value semantics across iterations (i.e. handling -Inf + Inf).</i></td></tr>
<tr><th id="1202">1202</th><td><i></i></td></tr>
<tr><th id="1203">1203</th><td><i>   Note 2:  No provision is made for intermediate overflow handling;</i></td></tr>
<tr><th id="1204">1204</th><td><i>   therefore, sum([1e+308, 1e-308, 1e+308]) returns 1e+308 while</i></td></tr>
<tr><th id="1205">1205</th><td><i>   sum([1e+308, 1e+308, 1e-308]) raises an OverflowError due to the</i></td></tr>
<tr><th id="1206">1206</th><td><i>   overflow of the first partial sum.</i></td></tr>
<tr><th id="1207">1207</th><td><i></i></td></tr>
<tr><th id="1208">1208</th><td><i>   Note 3: The intermediate values lo, yr, and hi are declared volatile so</i></td></tr>
<tr><th id="1209">1209</th><td><i>   aggressive compilers won't algebraically reduce lo to always be exactly 0.0.</i></td></tr>
<tr><th id="1210">1210</th><td><i>   Also, the volatile declaration forces the values to be stored in memory as</i></td></tr>
<tr><th id="1211">1211</th><td><i>   regular doubles instead of extended long precision (80-bit) values.  This</i></td></tr>
<tr><th id="1212">1212</th><td><i>   prevents double rounding because any addition or subtraction of two doubles</i></td></tr>
<tr><th id="1213">1213</th><td><i>   can be resolved exactly into double-sized hi and lo values.  As long as the</i></td></tr>
<tr><th id="1214">1214</th><td><i>   hi value gets forced into a double before yr and lo are computed, the extra</i></td></tr>
<tr><th id="1215">1215</th><td><i>   bits in downstream extended precision operations (x87 for example) will be</i></td></tr>
<tr><th id="1216">1216</th><td><i>   exactly zero and therefore can be losslessly stored back into a double,</i></td></tr>
<tr><th id="1217">1217</th><td><i>   thereby preventing double rounding.</i></td></tr>
<tr><th id="1218">1218</th><td><i></i></td></tr>
<tr><th id="1219">1219</th><td><i>   Note 4: A similar implementation is in Modules/cmathmodule.c.</i></td></tr>
<tr><th id="1220">1220</th><td><i>   Be sure to update both when making changes.</i></td></tr>
<tr><th id="1221">1221</th><td><i></i></td></tr>
<tr><th id="1222">1222</th><td><i>   Note 5: The signature of math.fsum() differs from builtins.sum()</i></td></tr>
<tr><th id="1223">1223</th><td><i>   because the start argument doesn't make sense in the context of</i></td></tr>
<tr><th id="1224">1224</th><td><i>   accurate summation.  Since the partials table is collapsed before</i></td></tr>
<tr><th id="1225">1225</th><td><i>   returning a result, sum(seq2, start=sum(seq1)) may not equal the</i></td></tr>
<tr><th id="1226">1226</th><td><i>   accurate result returned by sum(itertools.chain(seq1, seq2)).</i></td></tr>
<tr><th id="1227">1227</th><td><i>*/</i></td></tr>
<tr><th id="1228">1228</th><td></td></tr>
<tr><th id="1229">1229</th><td><u>#define <dfn class="macro" id="_M/NUM_PARTIALS" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</dfn>  32  /* initial partials array size, on stack */</u></td></tr>
<tr><th id="1230">1230</th><td></td></tr>
<tr><th id="1231">1231</th><td><i  data-doc="_fsum_realloc">/* Extend the partials array p[] by doubling its size. */</i></td></tr>
<tr><th id="1232">1232</th><td><em>static</em> <em>int</em>                          <i  data-doc="_fsum_realloc">/* non-zero on error */</i></td></tr>
<tr><th id="1233">1233</th><td><dfn class="tu decl def" id="_fsum_realloc" title='_fsum_realloc' data-type='int _fsum_realloc(double ** p_ptr, Py_ssize_t n, double * ps, Py_ssize_t * m_ptr)' data-ref="_fsum_realloc">_fsum_realloc</dfn>(<em>double</em> **<dfn class="local col0 decl" id="250p_ptr" title='p_ptr' data-type='double **' data-ref="250p_ptr">p_ptr</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a>  <dfn class="local col1 decl" id="251n" title='n' data-type='Py_ssize_t' data-ref="251n">n</dfn>,</td></tr>
<tr><th id="1234">1234</th><td>             <em>double</em>  *<dfn class="local col2 decl" id="252ps" title='ps' data-type='double *' data-ref="252ps">ps</dfn>,    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> *<dfn class="local col3 decl" id="253m_ptr" title='m_ptr' data-type='Py_ssize_t *' data-ref="253m_ptr">m_ptr</dfn>)</td></tr>
<tr><th id="1235">1235</th><td>{</td></tr>
<tr><th id="1236">1236</th><td>    <em>void</em> *<dfn class="local col4 decl" id="254v" title='v' data-type='void *' data-ref="254v">v</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1237">1237</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col5 decl" id="255m" title='m' data-type='Py_ssize_t' data-ref="255m">m</dfn> = *<a class="local col3 ref" href="#253m_ptr" title='m_ptr' data-ref="253m_ptr">m_ptr</a>;</td></tr>
<tr><th id="1238">1238</th><td></td></tr>
<tr><th id="1239">1239</th><td>    <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a> += <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a>;  <i>/* double */</i></td></tr>
<tr><th id="1240">1240</th><td>    <b>if</b> (<a class="local col1 ref" href="#251n" title='n' data-ref="251n">n</a> &lt; <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a> &amp;&amp; (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>)<a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a> &lt; ((<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>)<a class="macro" href="../Include/pyport.h.html#109" title="((Py_ssize_t)(((size_t)-1)&gt;&gt;1))" data-ref="_M/PY_SSIZE_T_MAX">PY_SSIZE_T_MAX</a> / <b>sizeof</b>(<em>double</em>))) {</td></tr>
<tr><th id="1241">1241</th><td>        <em>double</em> *<dfn class="local col6 decl" id="256p" title='p' data-type='double *' data-ref="256p">p</dfn> = *<a class="local col0 ref" href="#250p_ptr" title='p_ptr' data-ref="250p_ptr">p_ptr</a>;</td></tr>
<tr><th id="1242">1242</th><td>        <b>if</b> (<a class="local col6 ref" href="#256p" title='p' data-ref="256p">p</a> == <a class="local col2 ref" href="#252ps" title='ps' data-ref="252ps">ps</a>) {</td></tr>
<tr><th id="1243">1243</th><td>            <a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a> = <a class="ref" href="../Include/pymem.h.html#PyMem_Malloc" title='PyMem_Malloc' data-ref="PyMem_Malloc">PyMem_Malloc</a>(<b>sizeof</b>(<em>double</em>) * <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a>);</td></tr>
<tr><th id="1244">1244</th><td>            <b>if</b> (<a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1245">1245</th><td>                <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a>, <a class="local col2 ref" href="#252ps" title='ps' data-ref="252ps">ps</a>, <b>sizeof</b>(<em>double</em>) * <a class="local col1 ref" href="#251n" title='n' data-ref="251n">n</a>);</td></tr>
<tr><th id="1246">1246</th><td>        }</td></tr>
<tr><th id="1247">1247</th><td>        <b>else</b></td></tr>
<tr><th id="1248">1248</th><td>            <a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a> = <a class="ref" href="../Include/pymem.h.html#PyMem_Realloc" title='PyMem_Realloc' data-ref="PyMem_Realloc">PyMem_Realloc</a>(<a class="local col6 ref" href="#256p" title='p' data-ref="256p">p</a>, <b>sizeof</b>(<em>double</em>) * <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a>);</td></tr>
<tr><th id="1249">1249</th><td>    }</td></tr>
<tr><th id="1250">1250</th><td>    <b>if</b> (<a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {        <i>/* size overflow or no memory */</i></td></tr>
<tr><th id="1251">1251</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_MemoryError" title='PyExc_MemoryError' data-ref="PyExc_MemoryError">PyExc_MemoryError</a>, <q>"math.fsum partials"</q>);</td></tr>
<tr><th id="1252">1252</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="1253">1253</th><td>    }</td></tr>
<tr><th id="1254">1254</th><td>    *<a class="local col0 ref" href="#250p_ptr" title='p_ptr' data-ref="250p_ptr">p_ptr</a> = (<em>double</em>*) <a class="local col4 ref" href="#254v" title='v' data-ref="254v">v</a>;</td></tr>
<tr><th id="1255">1255</th><td>    *<a class="local col3 ref" href="#253m_ptr" title='m_ptr' data-ref="253m_ptr">m_ptr</a> = <a class="local col5 ref" href="#255m" title='m' data-ref="255m">m</a>;</td></tr>
<tr><th id="1256">1256</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1257">1257</th><td>}</td></tr>
<tr><th id="1258">1258</th><td></td></tr>
<tr><th id="1259">1259</th><td><i>/* Full precision summation of a sequence of floats.</i></td></tr>
<tr><th id="1260">1260</th><td><i></i></td></tr>
<tr><th id="1261">1261</th><td><i>   def msum(iterable):</i></td></tr>
<tr><th id="1262">1262</th><td><i>       partials = []  # sorted, non-overlapping partial sums</i></td></tr>
<tr><th id="1263">1263</th><td><i>       for x in iterable:</i></td></tr>
<tr><th id="1264">1264</th><td><i>           i = 0</i></td></tr>
<tr><th id="1265">1265</th><td><i>           for y in partials:</i></td></tr>
<tr><th id="1266">1266</th><td><i>               if abs(x) &lt; abs(y):</i></td></tr>
<tr><th id="1267">1267</th><td><i>                   x, y = y, x</i></td></tr>
<tr><th id="1268">1268</th><td><i>               hi = x + y</i></td></tr>
<tr><th id="1269">1269</th><td><i>               lo = y - (hi - x)</i></td></tr>
<tr><th id="1270">1270</th><td><i>               if lo:</i></td></tr>
<tr><th id="1271">1271</th><td><i>                   partials[i] = lo</i></td></tr>
<tr><th id="1272">1272</th><td><i>                   i += 1</i></td></tr>
<tr><th id="1273">1273</th><td><i>               x = hi</i></td></tr>
<tr><th id="1274">1274</th><td><i>           partials[i:] = [x]</i></td></tr>
<tr><th id="1275">1275</th><td><i>       return sum_exact(partials)</i></td></tr>
<tr><th id="1276">1276</th><td><i></i></td></tr>
<tr><th id="1277">1277</th><td><i>   Rounded x+y stored in hi with the roundoff stored in lo.  Together hi+lo</i></td></tr>
<tr><th id="1278">1278</th><td><i>   are exactly equal to x+y.  The inner loop applies hi/lo summation to each</i></td></tr>
<tr><th id="1279">1279</th><td><i>   partial so that the list of partial sums remains exact.</i></td></tr>
<tr><th id="1280">1280</th><td><i></i></td></tr>
<tr><th id="1281">1281</th><td><i>   Sum_exact() adds the partial sums exactly and correctly rounds the final</i></td></tr>
<tr><th id="1282">1282</th><td><i>   result (using the round-half-to-even rule).  The items in partials remain</i></td></tr>
<tr><th id="1283">1283</th><td><i>   non-zero, non-special, non-overlapping and strictly increasing in</i></td></tr>
<tr><th id="1284">1284</th><td><i>   magnitude, but possibly not all having the same sign.</i></td></tr>
<tr><th id="1285">1285</th><td><i></i></td></tr>
<tr><th id="1286">1286</th><td><i>   Depends on IEEE 754 arithmetic guarantees and half-even rounding.</i></td></tr>
<tr><th id="1287">1287</th><td><i>*/</i></td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td><i  data-doc="math_fsum">/*[clinic input]</i></td></tr>
<tr><th id="1290">1290</th><td><i  data-doc="math_fsum">math.fsum</i></td></tr>
<tr><th id="1291">1291</th><td><i  data-doc="math_fsum"></i></td></tr>
<tr><th id="1292">1292</th><td><i  data-doc="math_fsum">    seq: object</i></td></tr>
<tr><th id="1293">1293</th><td><i  data-doc="math_fsum">    /</i></td></tr>
<tr><th id="1294">1294</th><td><i  data-doc="math_fsum"></i></td></tr>
<tr><th id="1295">1295</th><td><i  data-doc="math_fsum">Return an accurate floating point sum of values in the iterable seq.</i></td></tr>
<tr><th id="1296">1296</th><td><i  data-doc="math_fsum"></i></td></tr>
<tr><th id="1297">1297</th><td><i  data-doc="math_fsum">Assumes IEEE-754 floating point arithmetic.</i></td></tr>
<tr><th id="1298">1298</th><td><i  data-doc="math_fsum">[clinic start generated code]*/</i></td></tr>
<tr><th id="1299">1299</th><td></td></tr>
<tr><th id="1300">1300</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1301">1301</th><td><dfn class="tu decl def" id="math_fsum" title='math_fsum' data-type='PyObject * math_fsum(PyObject * module, PyObject * seq)' data-ref="math_fsum">math_fsum</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="257module" title='module' data-type='PyObject *' data-ref="257module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="258seq" title='seq' data-type='PyObject *' data-ref="258seq">seq</dfn>)</td></tr>
<tr><th id="1302">1302</th><td><i>/*[clinic end generated code: output=ba5c672b87fe34fc input=c51b7d8caf6f6e82]*/</i></td></tr>
<tr><th id="1303">1303</th><td>{</td></tr>
<tr><th id="1304">1304</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="259item" title='item' data-type='PyObject *' data-ref="259item">item</dfn>, *<dfn class="local col0 decl" id="260iter" title='iter' data-type='PyObject *' data-ref="260iter">iter</dfn>, *<dfn class="local col1 decl" id="261sum" title='sum' data-type='PyObject *' data-ref="261sum">sum</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1305">1305</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col2 decl" id="262i" title='i' data-type='Py_ssize_t' data-ref="262i">i</dfn>, <dfn class="local col3 decl" id="263j" title='j' data-type='Py_ssize_t' data-ref="263j">j</dfn>, <dfn class="local col4 decl" id="264n" title='n' data-type='Py_ssize_t' data-ref="264n">n</dfn> = <var>0</var>, <dfn class="local col5 decl" id="265m" title='m' data-type='Py_ssize_t' data-ref="265m">m</dfn> = <a class="macro" href="#1229" title="32" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</a>;</td></tr>
<tr><th id="1306">1306</th><td>    <em>double</em> <dfn class="local col6 decl" id="266x" title='x' data-type='double' data-ref="266x">x</dfn>, <dfn class="local col7 decl" id="267y" title='y' data-type='double' data-ref="267y">y</dfn>, <dfn class="local col8 decl" id="268t" title='t' data-type='double' data-ref="268t">t</dfn>, <dfn class="local col9 decl" id="269ps" title='ps' data-type='double [32]' data-ref="269ps">ps</dfn>[<a class="macro" href="#1229" title="32" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</a>], *<dfn class="local col0 decl" id="270p" title='p' data-type='double *' data-ref="270p">p</dfn> = <a class="local col9 ref" href="#269ps" title='ps' data-ref="269ps">ps</a>;</td></tr>
<tr><th id="1307">1307</th><td>    <em>double</em> <dfn class="local col1 decl" id="271xsave" title='xsave' data-type='double' data-ref="271xsave">xsave</dfn>, <dfn class="local col2 decl" id="272special_sum" title='special_sum' data-type='double' data-ref="272special_sum">special_sum</dfn> = <var>0.0</var>, <dfn class="local col3 decl" id="273inf_sum" title='inf_sum' data-type='double' data-ref="273inf_sum">inf_sum</dfn> = <var>0.0</var>;</td></tr>
<tr><th id="1308">1308</th><td>    <em>volatile</em> <em>double</em> <dfn class="local col4 decl" id="274hi" title='hi' data-type='volatile double' data-ref="274hi">hi</dfn>, <dfn class="local col5 decl" id="275yr" title='yr' data-type='volatile double' data-ref="275yr">yr</dfn>, <dfn class="local col6 decl" id="276lo" title='lo' data-type='volatile double' data-ref="276lo">lo</dfn>;</td></tr>
<tr><th id="1309">1309</th><td></td></tr>
<tr><th id="1310">1310</th><td>    <a class="local col0 ref" href="#260iter" title='iter' data-ref="260iter">iter</a> = <a class="ref" href="../Include/abstract.h.html#PyObject_GetIter" title='PyObject_GetIter' data-ref="PyObject_GetIter">PyObject_GetIter</a>(<a class="local col8 ref" href="#258seq" title='seq' data-ref="258seq">seq</a>);</td></tr>
<tr><th id="1311">1311</th><td>    <b>if</b> (<a class="local col0 ref" href="#260iter" title='iter' data-ref="260iter">iter</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1312">1312</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1313">1313</th><td></td></tr>
<tr><th id="1314">1314</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"fsum"</q>, Py_DECREF(iter); <b>return</b> NULL)</td></tr>
<tr><th id="1315">1315</th><td></td></tr>
<tr><th id="1316">1316</th><td>    <b>for</b>(;;) {           <i>/* for x in iterable */</i></td></tr>
<tr><th id="1317">1317</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((0 &lt;= n &amp;&amp; n &lt;= m) ? (void) (0) : __assert_fail (&quot;0 &lt;= n &amp;&amp; n &lt;= m&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1317, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<var>0</var> &lt;= <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &amp;&amp; <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &lt;= <a class="local col5 ref" href="#265m" title='m' data-ref="265m">m</a>);</td></tr>
<tr><th id="1318">1318</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="(((m == 32 &amp;&amp; p == ps) || (m &gt; 32 &amp;&amp; p != ((void*)0))) ? (void) (0) : __assert_fail (&quot;(m == NUM_PARTIALS &amp;&amp; p == ps) || (m &gt; NUM_PARTIALS &amp;&amp; p != NULL)&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1319, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>((<a class="local col5 ref" href="#265m" title='m' data-ref="265m">m</a> == <a class="macro" href="#1229" title="32" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</a> &amp;&amp; <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a> == <a class="local col9 ref" href="#269ps" title='ps' data-ref="269ps">ps</a>) ||</td></tr>
<tr><th id="1319">1319</th><td>               (<a class="local col5 ref" href="#265m" title='m' data-ref="265m">m</a> &gt;  <a class="macro" href="#1229" title="32" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</a> &amp;&amp; <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="1320">1320</th><td></td></tr>
<tr><th id="1321">1321</th><td>        <a class="local col9 ref" href="#259item" title='item' data-ref="259item">item</a> = <a class="ref" href="../Include/abstract.h.html#PyIter_Next" title='PyIter_Next' data-ref="PyIter_Next">PyIter_Next</a>(<a class="local col0 ref" href="#260iter" title='iter' data-ref="260iter">iter</a>);</td></tr>
<tr><th id="1322">1322</th><td>        <b>if</b> (<a class="local col9 ref" href="#259item" title='item' data-ref="259item">item</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1323">1323</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1324">1324</th><td>                <b>goto</b> <a class="lbl" href="#277_fsum_error" data-ref="277_fsum_error">_fsum_error</a>;</td></tr>
<tr><th id="1325">1325</th><td>            <b>break</b>;</td></tr>
<tr><th id="1326">1326</th><td>        }</td></tr>
<tr><th id="1327">1327</th><td>        <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col9 ref" href="#259item" title='item' data-ref="259item">item</a>);</td></tr>
<tr><th id="1328">1328</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(item); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1328, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#259item" title='item' data-ref="259item">item</a>);</td></tr>
<tr><th id="1329">1329</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1330">1330</th><td>            <b>goto</b> <a class="lbl" href="#277_fsum_error" data-ref="277_fsum_error">_fsum_error</a>;</td></tr>
<tr><th id="1331">1331</th><td></td></tr>
<tr><th id="1332">1332</th><td>        <a class="local col1 ref" href="#271xsave" title='xsave' data-ref="271xsave">xsave</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>;</td></tr>
<tr><th id="1333">1333</th><td>        <b>for</b> (<a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a> = <a class="local col3 ref" href="#263j" title='j' data-ref="263j">j</a> = <var>0</var>; <a class="local col3 ref" href="#263j" title='j' data-ref="263j">j</a> &lt; <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>; <a class="local col3 ref" href="#263j" title='j' data-ref="263j">j</a>++) {       <i>/* for y in partials */</i></td></tr>
<tr><th id="1334">1334</th><td>            <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> = <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[<a class="local col3 ref" href="#263j" title='j' data-ref="263j">j</a>];</td></tr>
<tr><th id="1335">1335</th><td>            <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>) &lt; <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>)) {</td></tr>
<tr><th id="1336">1336</th><td>                <a class="local col8 ref" href="#268t" title='t' data-ref="268t">t</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>; <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> = <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>; <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> = <a class="local col8 ref" href="#268t" title='t' data-ref="268t">t</a>;</td></tr>
<tr><th id="1337">1337</th><td>            }</td></tr>
<tr><th id="1338">1338</th><td>            <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> + <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>;</td></tr>
<tr><th id="1339">1339</th><td>            <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a> = <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> - <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>;</td></tr>
<tr><th id="1340">1340</th><td>            <a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> = <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> - <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a>;</td></tr>
<tr><th id="1341">1341</th><td>            <b>if</b> (<a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> != <var>0.0</var>)</td></tr>
<tr><th id="1342">1342</th><td>                <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[<a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a>++] = <a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a>;</td></tr>
<tr><th id="1343">1343</th><td>            <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> = <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a>;</td></tr>
<tr><th id="1344">1344</th><td>        }</td></tr>
<tr><th id="1345">1345</th><td></td></tr>
<tr><th id="1346">1346</th><td>        <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> = <a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a>;                              <i>/* ps[i:] = [x] */</i></td></tr>
<tr><th id="1347">1347</th><td>        <b>if</b> (<a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> != <var>0.0</var>) {</td></tr>
<tr><th id="1348">1348</th><td>            <b>if</b> (! <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>)) {</td></tr>
<tr><th id="1349">1349</th><td>                <i>/* a nonfinite x could arise either as</i></td></tr>
<tr><th id="1350">1350</th><td><i>                   a result of intermediate overflow, or</i></td></tr>
<tr><th id="1351">1351</th><td><i>                   as a result of a nan or inf in the</i></td></tr>
<tr><th id="1352">1352</th><td><i>                   summands */</i></td></tr>
<tr><th id="1353">1353</th><td>                <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (xsave) == sizeof (float) ? __finitef (xsave) : sizeof (xsave) == sizeof (double) ? __finite (xsave) : __finitel (xsave))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col1 ref" href="#271xsave" title='xsave' data-ref="271xsave">xsave</a>)) {</td></tr>
<tr><th id="1354">1354</th><td>                    <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="1355">1355</th><td>                          <q>"intermediate overflow in fsum"</q>);</td></tr>
<tr><th id="1356">1356</th><td>                    <b>goto</b> <a class="lbl" href="#277_fsum_error" data-ref="277_fsum_error">_fsum_error</a>;</td></tr>
<tr><th id="1357">1357</th><td>                }</td></tr>
<tr><th id="1358">1358</th><td>                <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (xsave) == sizeof (float) ? __isinff (xsave) : sizeof (xsave) == sizeof (double) ? __isinf (xsave) : __isinfl (xsave))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#271xsave" title='xsave' data-ref="271xsave">xsave</a>))</td></tr>
<tr><th id="1359">1359</th><td>                    <a class="local col3 ref" href="#273inf_sum" title='inf_sum' data-ref="273inf_sum">inf_sum</a> += <a class="local col1 ref" href="#271xsave" title='xsave' data-ref="271xsave">xsave</a>;</td></tr>
<tr><th id="1360">1360</th><td>                <a class="local col2 ref" href="#272special_sum" title='special_sum' data-ref="272special_sum">special_sum</a> += <a class="local col1 ref" href="#271xsave" title='xsave' data-ref="271xsave">xsave</a>;</td></tr>
<tr><th id="1361">1361</th><td>                <i>/* reset partials */</i></td></tr>
<tr><th id="1362">1362</th><td>                <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> = <var>0</var>;</td></tr>
<tr><th id="1363">1363</th><td>            }</td></tr>
<tr><th id="1364">1364</th><td>            <b>else</b> <b>if</b> (<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &gt;= <a class="local col5 ref" href="#265m" title='m' data-ref="265m">m</a> &amp;&amp; <a class="tu ref" href="#_fsum_realloc" title='_fsum_realloc' data-use='c' data-ref="_fsum_realloc">_fsum_realloc</a>(&amp;<a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>, <a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>, <a class="local col9 ref" href="#269ps" title='ps' data-ref="269ps">ps</a>, &amp;<a class="local col5 ref" href="#265m" title='m' data-ref="265m">m</a>))</td></tr>
<tr><th id="1365">1365</th><td>                <b>goto</b> <a class="lbl" href="#277_fsum_error" data-ref="277_fsum_error">_fsum_error</a>;</td></tr>
<tr><th id="1366">1366</th><td>            <b>else</b></td></tr>
<tr><th id="1367">1367</th><td>                <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>++] = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>;</td></tr>
<tr><th id="1368">1368</th><td>        }</td></tr>
<tr><th id="1369">1369</th><td>    }</td></tr>
<tr><th id="1370">1370</th><td></td></tr>
<tr><th id="1371">1371</th><td>    <b>if</b> (<a class="local col2 ref" href="#272special_sum" title='special_sum' data-ref="272special_sum">special_sum</a> != <var>0.0</var>) {</td></tr>
<tr><th id="1372">1372</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (inf_sum) == sizeof (float) ? __isnanf (inf_sum) : sizeof (inf_sum) == sizeof (double) ? __isnan (inf_sum) : __isnanl (inf_sum))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col3 ref" href="#273inf_sum" title='inf_sum' data-ref="273inf_sum">inf_sum</a>))</td></tr>
<tr><th id="1373">1373</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="1374">1374</th><td>                            <q>"-inf + inf in fsum"</q>);</td></tr>
<tr><th id="1375">1375</th><td>        <b>else</b></td></tr>
<tr><th id="1376">1376</th><td>            <a class="local col1 ref" href="#261sum" title='sum' data-ref="261sum">sum</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col2 ref" href="#272special_sum" title='special_sum' data-ref="272special_sum">special_sum</a>);</td></tr>
<tr><th id="1377">1377</th><td>        <b>goto</b> <a class="lbl" href="#277_fsum_error" data-ref="277_fsum_error">_fsum_error</a>;</td></tr>
<tr><th id="1378">1378</th><td>    }</td></tr>
<tr><th id="1379">1379</th><td></td></tr>
<tr><th id="1380">1380</th><td>    <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> = <var>0.0</var>;</td></tr>
<tr><th id="1381">1381</th><td>    <b>if</b> (<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="1382">1382</th><td>        <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> = <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[--<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>];</td></tr>
<tr><th id="1383">1383</th><td>        <i>/* sum_exact(ps, hi) from the top, stop when the sum becomes</i></td></tr>
<tr><th id="1384">1384</th><td><i>           inexact. */</i></td></tr>
<tr><th id="1385">1385</th><td>        <b>while</b> (<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="1386">1386</th><td>            <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> = <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a>;</td></tr>
<tr><th id="1387">1387</th><td>            <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> = <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[--<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>];</td></tr>
<tr><th id="1388">1388</th><td>            <a class="macro" href="../../include/assert.h.html#88" title="((fabs(y) &lt; fabs(x)) ? (void) (0) : __assert_fail (&quot;fabs(y) &lt; fabs(x)&quot;, &quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1388, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>) &lt; <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>));</td></tr>
<tr><th id="1389">1389</th><td>            <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> + <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>;</td></tr>
<tr><th id="1390">1390</th><td>            <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a> = <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> - <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>;</td></tr>
<tr><th id="1391">1391</th><td>            <a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> = <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> - <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a>;</td></tr>
<tr><th id="1392">1392</th><td>            <b>if</b> (<a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> != <var>0.0</var>)</td></tr>
<tr><th id="1393">1393</th><td>                <b>break</b>;</td></tr>
<tr><th id="1394">1394</th><td>        }</td></tr>
<tr><th id="1395">1395</th><td>        <i>/* Make half-even rounding work across multiple partials.</i></td></tr>
<tr><th id="1396">1396</th><td><i>           Needed so that sum([1e-16, 1, 1e16]) will round-up the last</i></td></tr>
<tr><th id="1397">1397</th><td><i>           digit to two instead of down to zero (the 1e-16 makes the 1</i></td></tr>
<tr><th id="1398">1398</th><td><i>           slightly closer to two).  With a potential 1 ULP rounding</i></td></tr>
<tr><th id="1399">1399</th><td><i>           error fixed-up, math.fsum() can guarantee commutativity. */</i></td></tr>
<tr><th id="1400">1400</th><td>        <b>if</b> (<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a> &gt; <var>0</var> &amp;&amp; ((<a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> &lt; <var>0.0</var> &amp;&amp; <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>-<var>1</var>] &lt; <var>0.0</var>) ||</td></tr>
<tr><th id="1401">1401</th><td>                      (<a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> &gt; <var>0.0</var> &amp;&amp; <a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>[<a class="local col4 ref" href="#264n" title='n' data-ref="264n">n</a>-<var>1</var>] &gt; <var>0.0</var>))) {</td></tr>
<tr><th id="1402">1402</th><td>            <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> = <a class="local col6 ref" href="#276lo" title='lo' data-ref="276lo">lo</a> * <var>2.0</var>;</td></tr>
<tr><th id="1403">1403</th><td>            <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> = <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> + <a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a>;</td></tr>
<tr><th id="1404">1404</th><td>            <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a> - <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a>;</td></tr>
<tr><th id="1405">1405</th><td>            <b>if</b> (<a class="local col7 ref" href="#267y" title='y' data-ref="267y">y</a> == <a class="local col5 ref" href="#275yr" title='yr' data-ref="275yr">yr</a>)</td></tr>
<tr><th id="1406">1406</th><td>                <a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a> = <a class="local col6 ref" href="#266x" title='x' data-ref="266x">x</a>;</td></tr>
<tr><th id="1407">1407</th><td>        }</td></tr>
<tr><th id="1408">1408</th><td>    }</td></tr>
<tr><th id="1409">1409</th><td>    <a class="local col1 ref" href="#261sum" title='sum' data-ref="261sum">sum</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col4 ref" href="#274hi" title='hi' data-ref="274hi">hi</a>);</td></tr>
<tr><th id="1410">1410</th><td></td></tr>
<tr><th id="1411">1411</th><td><dfn class="lbl" id="277_fsum_error" data-ref="277_fsum_error">_fsum_error</dfn>:</td></tr>
<tr><th id="1412">1412</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(hi)</td></tr>
<tr><th id="1413">1413</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(iter); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1413, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#260iter" title='iter' data-ref="260iter">iter</a>);</td></tr>
<tr><th id="1414">1414</th><td>    <b>if</b> (<a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a> != <a class="local col9 ref" href="#269ps" title='ps' data-ref="269ps">ps</a>)</td></tr>
<tr><th id="1415">1415</th><td>        <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col0 ref" href="#270p" title='p' data-ref="270p">p</a>);</td></tr>
<tr><th id="1416">1416</th><td>    <b>return</b> <a class="local col1 ref" href="#261sum" title='sum' data-ref="261sum">sum</a>;</td></tr>
<tr><th id="1417">1417</th><td>}</td></tr>
<tr><th id="1418">1418</th><td></td></tr>
<tr><th id="1419">1419</th><td><u>#undef <a class="macro" href="#1229" data-ref="_M/NUM_PARTIALS">NUM_PARTIALS</a></u></td></tr>
<tr><th id="1420">1420</th><td></td></tr>
<tr><th id="1421">1421</th><td></td></tr>
<tr><th id="1422">1422</th><td><i>/* Return the smallest integer k such that n &lt; 2**k, or 0 if n == 0.</i></td></tr>
<tr><th id="1423">1423</th><td><i> * Equivalent to floor(lg(x))+1.  Also equivalent to: bitwidth_of_type -</i></td></tr>
<tr><th id="1424">1424</th><td><i> * count_leading_zero_bits(x)</i></td></tr>
<tr><th id="1425">1425</th><td><i> */</i></td></tr>
<tr><th id="1426">1426</th><td></td></tr>
<tr><th id="1427">1427</th><td><i  data-doc="bit_length">/* XXX: This routine does more or less the same thing as</i></td></tr>
<tr><th id="1428">1428</th><td><i  data-doc="bit_length"> * bits_in_digit() in Objects/longobject.c.  Someday it would be nice to</i></td></tr>
<tr><th id="1429">1429</th><td><i  data-doc="bit_length"> * consolidate them.  On BSD, there's a library function called fls()</i></td></tr>
<tr><th id="1430">1430</th><td><i  data-doc="bit_length"> * that we could use, and GCC provides __builtin_clz().</i></td></tr>
<tr><th id="1431">1431</th><td><i  data-doc="bit_length"> */</i></td></tr>
<tr><th id="1432">1432</th><td></td></tr>
<tr><th id="1433">1433</th><td><em>static</em> <em>unsigned</em> <em>long</em></td></tr>
<tr><th id="1434">1434</th><td><dfn class="tu decl def" id="bit_length" title='bit_length' data-type='unsigned long bit_length(unsigned long n)' data-ref="bit_length">bit_length</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col8 decl" id="278n" title='n' data-type='unsigned long' data-ref="278n">n</dfn>)</td></tr>
<tr><th id="1435">1435</th><td>{</td></tr>
<tr><th id="1436">1436</th><td>    <em>unsigned</em> <em>long</em> <dfn class="local col9 decl" id="279len" title='len' data-type='unsigned long' data-ref="279len">len</dfn> = <var>0</var>;</td></tr>
<tr><th id="1437">1437</th><td>    <b>while</b> (<a class="local col8 ref" href="#278n" title='n' data-ref="278n">n</a> != <var>0</var>) {</td></tr>
<tr><th id="1438">1438</th><td>        ++<a class="local col9 ref" href="#279len" title='len' data-ref="279len">len</a>;</td></tr>
<tr><th id="1439">1439</th><td>        <a class="local col8 ref" href="#278n" title='n' data-ref="278n">n</a> &gt;&gt;= <var>1</var>;</td></tr>
<tr><th id="1440">1440</th><td>    }</td></tr>
<tr><th id="1441">1441</th><td>    <b>return</b> <a class="local col9 ref" href="#279len" title='len' data-ref="279len">len</a>;</td></tr>
<tr><th id="1442">1442</th><td>}</td></tr>
<tr><th id="1443">1443</th><td></td></tr>
<tr><th id="1444">1444</th><td><em>static</em> <em>unsigned</em> <em>long</em></td></tr>
<tr><th id="1445">1445</th><td><dfn class="tu decl def" id="count_set_bits" title='count_set_bits' data-type='unsigned long count_set_bits(unsigned long n)' data-ref="count_set_bits">count_set_bits</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="280n" title='n' data-type='unsigned long' data-ref="280n">n</dfn>)</td></tr>
<tr><th id="1446">1446</th><td>{</td></tr>
<tr><th id="1447">1447</th><td>    <em>unsigned</em> <em>long</em> <dfn class="local col1 decl" id="281count" title='count' data-type='unsigned long' data-ref="281count">count</dfn> = <var>0</var>;</td></tr>
<tr><th id="1448">1448</th><td>    <b>while</b> (<a class="local col0 ref" href="#280n" title='n' data-ref="280n">n</a> != <var>0</var>) {</td></tr>
<tr><th id="1449">1449</th><td>        ++<a class="local col1 ref" href="#281count" title='count' data-ref="281count">count</a>;</td></tr>
<tr><th id="1450">1450</th><td>        <a class="local col0 ref" href="#280n" title='n' data-ref="280n">n</a> &amp;= <a class="local col0 ref" href="#280n" title='n' data-ref="280n">n</a> - <var>1</var>; <i>/* clear least significant bit */</i></td></tr>
<tr><th id="1451">1451</th><td>    }</td></tr>
<tr><th id="1452">1452</th><td>    <b>return</b> <a class="local col1 ref" href="#281count" title='count' data-ref="281count">count</a>;</td></tr>
<tr><th id="1453">1453</th><td>}</td></tr>
<tr><th id="1454">1454</th><td></td></tr>
<tr><th id="1455">1455</th><td><i>/* Divide-and-conquer factorial algorithm</i></td></tr>
<tr><th id="1456">1456</th><td><i> *</i></td></tr>
<tr><th id="1457">1457</th><td><i> * Based on the formula and pseudo-code provided at:</i></td></tr>
<tr><th id="1458">1458</th><td><i> * <a href="http://www.luschny.de/math/factorial/binarysplitfact.html">http://www.luschny.de/math/factorial/binarysplitfact.html</a></i></td></tr>
<tr><th id="1459">1459</th><td><i> *</i></td></tr>
<tr><th id="1460">1460</th><td><i> * Faster algorithms exist, but they're more complicated and depend on</i></td></tr>
<tr><th id="1461">1461</th><td><i> * a fast prime factorization algorithm.</i></td></tr>
<tr><th id="1462">1462</th><td><i> *</i></td></tr>
<tr><th id="1463">1463</th><td><i> * Notes on the algorithm</i></td></tr>
<tr><th id="1464">1464</th><td><i> * ----------------------</i></td></tr>
<tr><th id="1465">1465</th><td><i> *</i></td></tr>
<tr><th id="1466">1466</th><td><i> * factorial(n) is written in the form 2**k * m, with m odd.  k and m are</i></td></tr>
<tr><th id="1467">1467</th><td><i> * computed separately, and then combined using a left shift.</i></td></tr>
<tr><th id="1468">1468</th><td><i> *</i></td></tr>
<tr><th id="1469">1469</th><td><i> * The function factorial_odd_part computes the odd part m (i.e., the greatest</i></td></tr>
<tr><th id="1470">1470</th><td><i> * odd divisor) of factorial(n), using the formula:</i></td></tr>
<tr><th id="1471">1471</th><td><i> *</i></td></tr>
<tr><th id="1472">1472</th><td><i> *   factorial_odd_part(n) =</i></td></tr>
<tr><th id="1473">1473</th><td><i> *</i></td></tr>
<tr><th id="1474">1474</th><td><i> *        product_{i &gt;= 0} product_{0 &lt; j &lt;= n / 2**i, j odd} j</i></td></tr>
<tr><th id="1475">1475</th><td><i> *</i></td></tr>
<tr><th id="1476">1476</th><td><i> * Example: factorial_odd_part(20) =</i></td></tr>
<tr><th id="1477">1477</th><td><i> *</i></td></tr>
<tr><th id="1478">1478</th><td><i> *        (1) *</i></td></tr>
<tr><th id="1479">1479</th><td><i> *        (1) *</i></td></tr>
<tr><th id="1480">1480</th><td><i> *        (1 * 3 * 5) *</i></td></tr>
<tr><th id="1481">1481</th><td><i> *        (1 * 3 * 5 * 7 * 9)</i></td></tr>
<tr><th id="1482">1482</th><td><i> *        (1 * 3 * 5 * 7 * 9 * 11 * 13 * 15 * 17 * 19)</i></td></tr>
<tr><th id="1483">1483</th><td><i> *</i></td></tr>
<tr><th id="1484">1484</th><td><i> * Here i goes from large to small: the first term corresponds to i=4 (any</i></td></tr>
<tr><th id="1485">1485</th><td><i> * larger i gives an empty product), and the last term corresponds to i=0.</i></td></tr>
<tr><th id="1486">1486</th><td><i> * Each term can be computed from the last by multiplying by the extra odd</i></td></tr>
<tr><th id="1487">1487</th><td><i> * numbers required: e.g., to get from the penultimate term to the last one,</i></td></tr>
<tr><th id="1488">1488</th><td><i> * we multiply by (11 * 13 * 15 * 17 * 19).</i></td></tr>
<tr><th id="1489">1489</th><td><i> *</i></td></tr>
<tr><th id="1490">1490</th><td><i> * To see a hint of why this formula works, here are the same numbers as above</i></td></tr>
<tr><th id="1491">1491</th><td><i> * but with the even parts (i.e., the appropriate powers of 2) included.  For</i></td></tr>
<tr><th id="1492">1492</th><td><i> * each subterm in the product for i, we multiply that subterm by 2**i:</i></td></tr>
<tr><th id="1493">1493</th><td><i> *</i></td></tr>
<tr><th id="1494">1494</th><td><i> *   factorial(20) =</i></td></tr>
<tr><th id="1495">1495</th><td><i> *</i></td></tr>
<tr><th id="1496">1496</th><td><i> *        (16) *</i></td></tr>
<tr><th id="1497">1497</th><td><i> *        (8) *</i></td></tr>
<tr><th id="1498">1498</th><td><i> *        (4 * 12 * 20) *</i></td></tr>
<tr><th id="1499">1499</th><td><i> *        (2 * 6 * 10 * 14 * 18) *</i></td></tr>
<tr><th id="1500">1500</th><td><i> *        (1 * 3 * 5 * 7 * 9 * 11 * 13 * 15 * 17 * 19)</i></td></tr>
<tr><th id="1501">1501</th><td><i> *</i></td></tr>
<tr><th id="1502">1502</th><td><i> * The factorial_partial_product function computes the product of all odd j in</i></td></tr>
<tr><th id="1503">1503</th><td><i> * range(start, stop) for given start and stop.  It's used to compute the</i></td></tr>
<tr><th id="1504">1504</th><td><i> * partial products like (11 * 13 * 15 * 17 * 19) in the example above.  It</i></td></tr>
<tr><th id="1505">1505</th><td><i> * operates recursively, repeatedly splitting the range into two roughly equal</i></td></tr>
<tr><th id="1506">1506</th><td><i> * pieces until the subranges are small enough to be computed using only C</i></td></tr>
<tr><th id="1507">1507</th><td><i> * integer arithmetic.</i></td></tr>
<tr><th id="1508">1508</th><td><i> *</i></td></tr>
<tr><th id="1509">1509</th><td><i> * The two-valuation k (i.e., the exponent of the largest power of 2 dividing</i></td></tr>
<tr><th id="1510">1510</th><td><i> * the factorial) is computed independently in the main math_factorial</i></td></tr>
<tr><th id="1511">1511</th><td><i> * function.  By standard results, its value is:</i></td></tr>
<tr><th id="1512">1512</th><td><i> *</i></td></tr>
<tr><th id="1513">1513</th><td><i> *    two_valuation = n//2 + n//4 + n//8 + ....</i></td></tr>
<tr><th id="1514">1514</th><td><i> *</i></td></tr>
<tr><th id="1515">1515</th><td><i> * It can be shown (e.g., by complete induction on n) that two_valuation is</i></td></tr>
<tr><th id="1516">1516</th><td><i> * equal to n - count_set_bits(n), where count_set_bits(n) gives the number of</i></td></tr>
<tr><th id="1517">1517</th><td><i> * '1'-bits in the binary expansion of n.</i></td></tr>
<tr><th id="1518">1518</th><td><i> */</i></td></tr>
<tr><th id="1519">1519</th><td></td></tr>
<tr><th id="1520">1520</th><td><i  data-doc="factorial_partial_product">/* factorial_partial_product: Compute product(range(start, stop, 2)) using</i></td></tr>
<tr><th id="1521">1521</th><td><i  data-doc="factorial_partial_product"> * divide and conquer.  Assumes start and stop are odd and stop &gt; start.</i></td></tr>
<tr><th id="1522">1522</th><td><i  data-doc="factorial_partial_product"> * max_bits must be &gt;= bit_length(stop - 2). */</i></td></tr>
<tr><th id="1523">1523</th><td></td></tr>
<tr><th id="1524">1524</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1525">1525</th><td><dfn class="tu decl def" id="factorial_partial_product" title='factorial_partial_product' data-type='PyObject * factorial_partial_product(unsigned long start, unsigned long stop, unsigned long max_bits)' data-ref="factorial_partial_product">factorial_partial_product</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col2 decl" id="282start" title='start' data-type='unsigned long' data-ref="282start">start</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col3 decl" id="283stop" title='stop' data-type='unsigned long' data-ref="283stop">stop</dfn>,</td></tr>
<tr><th id="1526">1526</th><td>                          <em>unsigned</em> <em>long</em> <dfn class="local col4 decl" id="284max_bits" title='max_bits' data-type='unsigned long' data-ref="284max_bits">max_bits</dfn>)</td></tr>
<tr><th id="1527">1527</th><td>{</td></tr>
<tr><th id="1528">1528</th><td>    <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="285midpoint" title='midpoint' data-type='unsigned long' data-ref="285midpoint">midpoint</dfn>, <dfn class="local col6 decl" id="286num_operands" title='num_operands' data-type='unsigned long' data-ref="286num_operands">num_operands</dfn>;</td></tr>
<tr><th id="1529">1529</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="287left" title='left' data-type='PyObject *' data-ref="287left">left</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, *<dfn class="local col8 decl" id="288right" title='right' data-type='PyObject *' data-ref="288right">right</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, *<dfn class="local col9 decl" id="289result" title='result' data-type='PyObject *' data-ref="289result">result</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1530">1530</th><td></td></tr>
<tr><th id="1531">1531</th><td>    <i>/* If the return value will fit an unsigned long, then we can</i></td></tr>
<tr><th id="1532">1532</th><td><i>     * multiply in a tight, fast loop where each multiply is O(1).</i></td></tr>
<tr><th id="1533">1533</th><td><i>     * Compute an upper bound on the number of bits required to store</i></td></tr>
<tr><th id="1534">1534</th><td><i>     * the answer.</i></td></tr>
<tr><th id="1535">1535</th><td><i>     *</i></td></tr>
<tr><th id="1536">1536</th><td><i>     * Storing some integer z requires floor(lg(z))+1 bits, which is</i></td></tr>
<tr><th id="1537">1537</th><td><i>     * conveniently the value returned by bit_length(z).  The</i></td></tr>
<tr><th id="1538">1538</th><td><i>     * product x*y will require at most</i></td></tr>
<tr><th id="1539">1539</th><td><i>     * bit_length(x) + bit_length(y) bits to store, based</i></td></tr>
<tr><th id="1540">1540</th><td><i>     * on the idea that lg product = lg x + lg y.</i></td></tr>
<tr><th id="1541">1541</th><td><i>     *</i></td></tr>
<tr><th id="1542">1542</th><td><i>     * We know that stop - 2 is the largest number to be multiplied.  From</i></td></tr>
<tr><th id="1543">1543</th><td><i>     * there, we have: bit_length(answer) &lt;= num_operands *</i></td></tr>
<tr><th id="1544">1544</th><td><i>     * bit_length(stop - 2)</i></td></tr>
<tr><th id="1545">1545</th><td><i>     */</i></td></tr>
<tr><th id="1546">1546</th><td></td></tr>
<tr><th id="1547">1547</th><td>    <a class="local col6 ref" href="#286num_operands" title='num_operands' data-ref="286num_operands">num_operands</a> = (<a class="local col3 ref" href="#283stop" title='stop' data-ref="283stop">stop</a> - <a class="local col2 ref" href="#282start" title='start' data-ref="282start">start</a>) / <var>2</var>;</td></tr>
<tr><th id="1548">1548</th><td>    <i>/* The "num_operands &lt;= 8 * SIZEOF_LONG" check guards against the</i></td></tr>
<tr><th id="1549">1549</th><td><i>     * unlikely case of an overflow in num_operands * max_bits. */</i></td></tr>
<tr><th id="1550">1550</th><td>    <b>if</b> (<a class="local col6 ref" href="#286num_operands" title='num_operands' data-ref="286num_operands">num_operands</a> &lt;= <var>8</var> * <a class="macro" href="../pyconfig.h.html#1286" title="8" data-ref="_M/SIZEOF_LONG">SIZEOF_LONG</a> &amp;&amp;</td></tr>
<tr><th id="1551">1551</th><td>        <a class="local col6 ref" href="#286num_operands" title='num_operands' data-ref="286num_operands">num_operands</a> * <a class="local col4 ref" href="#284max_bits" title='max_bits' data-ref="284max_bits">max_bits</a> &lt;= <var>8</var> * <a class="macro" href="../pyconfig.h.html#1286" title="8" data-ref="_M/SIZEOF_LONG">SIZEOF_LONG</a>) {</td></tr>
<tr><th id="1552">1552</th><td>        <em>unsigned</em> <em>long</em> <dfn class="local col0 decl" id="290j" title='j' data-type='unsigned long' data-ref="290j">j</dfn>, <dfn class="local col1 decl" id="291total" title='total' data-type='unsigned long' data-ref="291total">total</dfn>;</td></tr>
<tr><th id="1553">1553</th><td>        <b>for</b> (<a class="local col1 ref" href="#291total" title='total' data-ref="291total">total</a> = <a class="local col2 ref" href="#282start" title='start' data-ref="282start">start</a>, <a class="local col0 ref" href="#290j" title='j' data-ref="290j">j</a> = <a class="local col2 ref" href="#282start" title='start' data-ref="282start">start</a> + <var>2</var>; <a class="local col0 ref" href="#290j" title='j' data-ref="290j">j</a> &lt; <a class="local col3 ref" href="#283stop" title='stop' data-ref="283stop">stop</a>; <a class="local col0 ref" href="#290j" title='j' data-ref="290j">j</a> += <var>2</var>)</td></tr>
<tr><th id="1554">1554</th><td>            <a class="local col1 ref" href="#291total" title='total' data-ref="291total">total</a> *= <a class="local col0 ref" href="#290j" title='j' data-ref="290j">j</a>;</td></tr>
<tr><th id="1555">1555</th><td>        <b>return</b> <a class="ref" href="../Include/longobject.h.html#PyLong_FromUnsignedLong" title='PyLong_FromUnsignedLong' data-ref="PyLong_FromUnsignedLong">PyLong_FromUnsignedLong</a>(<a class="local col1 ref" href="#291total" title='total' data-ref="291total">total</a>);</td></tr>
<tr><th id="1556">1556</th><td>    }</td></tr>
<tr><th id="1557">1557</th><td></td></tr>
<tr><th id="1558">1558</th><td>    <i>/* find midpoint of range(start, stop), rounded up to next odd number. */</i></td></tr>
<tr><th id="1559">1559</th><td>    <a class="local col5 ref" href="#285midpoint" title='midpoint' data-ref="285midpoint">midpoint</a> = (<a class="local col2 ref" href="#282start" title='start' data-ref="282start">start</a> + <a class="local col6 ref" href="#286num_operands" title='num_operands' data-ref="286num_operands">num_operands</a>) | <var>1</var>;</td></tr>
<tr><th id="1560">1560</th><td>    <a class="local col7 ref" href="#287left" title='left' data-ref="287left">left</a> = <a class="tu ref" href="#factorial_partial_product" title='factorial_partial_product' data-use='c' data-ref="factorial_partial_product">factorial_partial_product</a>(<a class="local col2 ref" href="#282start" title='start' data-ref="282start">start</a>, <a class="local col5 ref" href="#285midpoint" title='midpoint' data-ref="285midpoint">midpoint</a>,</td></tr>
<tr><th id="1561">1561</th><td>                                     <a class="tu ref" href="#bit_length" title='bit_length' data-use='c' data-ref="bit_length">bit_length</a>(<a class="local col5 ref" href="#285midpoint" title='midpoint' data-ref="285midpoint">midpoint</a> - <var>2</var>));</td></tr>
<tr><th id="1562">1562</th><td>    <b>if</b> (<a class="local col7 ref" href="#287left" title='left' data-ref="287left">left</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1563">1563</th><td>        <b>goto</b> <a class="lbl" href="#292error" data-ref="292error">error</a>;</td></tr>
<tr><th id="1564">1564</th><td>    <a class="local col8 ref" href="#288right" title='right' data-ref="288right">right</a> = <a class="tu ref" href="#factorial_partial_product" title='factorial_partial_product' data-use='c' data-ref="factorial_partial_product">factorial_partial_product</a>(<a class="local col5 ref" href="#285midpoint" title='midpoint' data-ref="285midpoint">midpoint</a>, <a class="local col3 ref" href="#283stop" title='stop' data-ref="283stop">stop</a>, <a class="local col4 ref" href="#284max_bits" title='max_bits' data-ref="284max_bits">max_bits</a>);</td></tr>
<tr><th id="1565">1565</th><td>    <b>if</b> (<a class="local col8 ref" href="#288right" title='right' data-ref="288right">right</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1566">1566</th><td>        <b>goto</b> <a class="lbl" href="#292error" data-ref="292error">error</a>;</td></tr>
<tr><th id="1567">1567</th><td>    <a class="local col9 ref" href="#289result" title='result' data-ref="289result">result</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Multiply" title='PyNumber_Multiply' data-ref="PyNumber_Multiply">PyNumber_Multiply</a>(<a class="local col7 ref" href="#287left" title='left' data-ref="287left">left</a>, <a class="local col8 ref" href="#288right" title='right' data-ref="288right">right</a>);</td></tr>
<tr><th id="1568">1568</th><td></td></tr>
<tr><th id="1569">1569</th><td>  <dfn class="lbl" id="292error" data-ref="292error">error</dfn>:</td></tr>
<tr><th id="1570">1570</th><td>    <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(left); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1570, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col7 ref" href="#287left" title='left' data-ref="287left">left</a>);</td></tr>
<tr><th id="1571">1571</th><td>    <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(right); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1571, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col8 ref" href="#288right" title='right' data-ref="288right">right</a>);</td></tr>
<tr><th id="1572">1572</th><td>    <b>return</b> <a class="local col9 ref" href="#289result" title='result' data-ref="289result">result</a>;</td></tr>
<tr><th id="1573">1573</th><td>}</td></tr>
<tr><th id="1574">1574</th><td></td></tr>
<tr><th id="1575">1575</th><td><i  data-doc="factorial_odd_part">/* factorial_odd_part:  compute the odd part of factorial(n). */</i></td></tr>
<tr><th id="1576">1576</th><td></td></tr>
<tr><th id="1577">1577</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1578">1578</th><td><dfn class="tu decl def" id="factorial_odd_part" title='factorial_odd_part' data-type='PyObject * factorial_odd_part(unsigned long n)' data-ref="factorial_odd_part">factorial_odd_part</dfn>(<em>unsigned</em> <em>long</em> <dfn class="local col3 decl" id="293n" title='n' data-type='unsigned long' data-ref="293n">n</dfn>)</td></tr>
<tr><th id="1579">1579</th><td>{</td></tr>
<tr><th id="1580">1580</th><td>    <em>long</em> <dfn class="local col4 decl" id="294i" title='i' data-type='long' data-ref="294i">i</dfn>;</td></tr>
<tr><th id="1581">1581</th><td>    <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="295v" title='v' data-type='unsigned long' data-ref="295v">v</dfn>, <dfn class="local col6 decl" id="296lower" title='lower' data-type='unsigned long' data-ref="296lower">lower</dfn>, <dfn class="local col7 decl" id="297upper" title='upper' data-type='unsigned long' data-ref="297upper">upper</dfn>;</td></tr>
<tr><th id="1582">1582</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="298partial" title='partial' data-type='PyObject *' data-ref="298partial">partial</dfn>, *<dfn class="local col9 decl" id="299tmp" title='tmp' data-type='PyObject *' data-ref="299tmp">tmp</dfn>, *<dfn class="local col0 decl" id="300inner" title='inner' data-type='PyObject *' data-ref="300inner">inner</dfn>, *<dfn class="local col1 decl" id="301outer" title='outer' data-type='PyObject *' data-ref="301outer">outer</dfn>;</td></tr>
<tr><th id="1583">1583</th><td></td></tr>
<tr><th id="1584">1584</th><td>    <a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_FromLong" title='PyLong_FromLong' data-ref="PyLong_FromLong">PyLong_FromLong</a>(<var>1</var>);</td></tr>
<tr><th id="1585">1585</th><td>    <b>if</b> (<a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1586">1586</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1587">1587</th><td>    <a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a> = <a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>;</td></tr>
<tr><th id="1588">1588</th><td>    <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(outer))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a>);</td></tr>
<tr><th id="1589">1589</th><td></td></tr>
<tr><th id="1590">1590</th><td>    <a class="local col7 ref" href="#297upper" title='upper' data-ref="297upper">upper</a> = <var>3</var>;</td></tr>
<tr><th id="1591">1591</th><td>    <b>for</b> (<a class="local col4 ref" href="#294i" title='i' data-ref="294i">i</a> = <a class="tu ref" href="#bit_length" title='bit_length' data-use='c' data-ref="bit_length">bit_length</a>(<a class="local col3 ref" href="#293n" title='n' data-ref="293n">n</a>) - <var>2</var>; <a class="local col4 ref" href="#294i" title='i' data-ref="294i">i</a> &gt;= <var>0</var>; <a class="local col4 ref" href="#294i" title='i' data-ref="294i">i</a>--) {</td></tr>
<tr><th id="1592">1592</th><td>        <a class="local col5 ref" href="#295v" title='v' data-ref="295v">v</a> = <a class="local col3 ref" href="#293n" title='n' data-ref="293n">n</a> &gt;&gt; <a class="local col4 ref" href="#294i" title='i' data-ref="294i">i</a>;</td></tr>
<tr><th id="1593">1593</th><td>        <b>if</b> (<a class="local col5 ref" href="#295v" title='v' data-ref="295v">v</a> &lt;= <var>2</var>)</td></tr>
<tr><th id="1594">1594</th><td>            <b>continue</b>;</td></tr>
<tr><th id="1595">1595</th><td>        <a class="local col6 ref" href="#296lower" title='lower' data-ref="296lower">lower</a> = <a class="local col7 ref" href="#297upper" title='upper' data-ref="297upper">upper</a>;</td></tr>
<tr><th id="1596">1596</th><td>        <i>/* (v + 1) | 1 = least odd integer strictly larger than n / 2**i */</i></td></tr>
<tr><th id="1597">1597</th><td>        <a class="local col7 ref" href="#297upper" title='upper' data-ref="297upper">upper</a> = (<a class="local col5 ref" href="#295v" title='v' data-ref="295v">v</a> + <var>1</var>) | <var>1</var>;</td></tr>
<tr><th id="1598">1598</th><td>        <i>/* Here inner is the product of all odd integers j in the range (0,</i></td></tr>
<tr><th id="1599">1599</th><td><i>           n/2**(i+1)].  The factorial_partial_product call below gives the</i></td></tr>
<tr><th id="1600">1600</th><td><i>           product of all odd integers j in the range (n/2**(i+1), n/2**i]. */</i></td></tr>
<tr><th id="1601">1601</th><td>        <a class="local col8 ref" href="#298partial" title='partial' data-ref="298partial">partial</a> = <a class="tu ref" href="#factorial_partial_product" title='factorial_partial_product' data-use='c' data-ref="factorial_partial_product">factorial_partial_product</a>(<a class="local col6 ref" href="#296lower" title='lower' data-ref="296lower">lower</a>, <a class="local col7 ref" href="#297upper" title='upper' data-ref="297upper">upper</a>, <a class="tu ref" href="#bit_length" title='bit_length' data-use='c' data-ref="bit_length">bit_length</a>(<a class="local col7 ref" href="#297upper" title='upper' data-ref="297upper">upper</a>-<var>2</var>));</td></tr>
<tr><th id="1602">1602</th><td>        <i>/* inner *= partial */</i></td></tr>
<tr><th id="1603">1603</th><td>        <b>if</b> (<a class="local col8 ref" href="#298partial" title='partial' data-ref="298partial">partial</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1604">1604</th><td>            <b>goto</b> <a class="lbl" href="#302error" data-ref="302error">error</a>;</td></tr>
<tr><th id="1605">1605</th><td>        <a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Multiply" title='PyNumber_Multiply' data-ref="PyNumber_Multiply">PyNumber_Multiply</a>(<a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>, <a class="local col8 ref" href="#298partial" title='partial' data-ref="298partial">partial</a>);</td></tr>
<tr><th id="1606">1606</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(partial); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1606, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#298partial" title='partial' data-ref="298partial">partial</a>);</td></tr>
<tr><th id="1607">1607</th><td>        <b>if</b> (<a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1608">1608</th><td>            <b>goto</b> <a class="lbl" href="#302error" data-ref="302error">error</a>;</td></tr>
<tr><th id="1609">1609</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(inner); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1609, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>);</td></tr>
<tr><th id="1610">1610</th><td>        <a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a> = <a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a>;</td></tr>
<tr><th id="1611">1611</th><td>        <i>/* Now inner is the product of all odd integers j in the range (0,</i></td></tr>
<tr><th id="1612">1612</th><td><i>           n/2**i], giving the inner product in the formula above. */</i></td></tr>
<tr><th id="1613">1613</th><td></td></tr>
<tr><th id="1614">1614</th><td>        <i>/* outer *= inner; */</i></td></tr>
<tr><th id="1615">1615</th><td>        <a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Multiply" title='PyNumber_Multiply' data-ref="PyNumber_Multiply">PyNumber_Multiply</a>(<a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a>, <a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>);</td></tr>
<tr><th id="1616">1616</th><td>        <b>if</b> (<a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1617">1617</th><td>            <b>goto</b> <a class="lbl" href="#302error" data-ref="302error">error</a>;</td></tr>
<tr><th id="1618">1618</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(outer); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1618, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a>);</td></tr>
<tr><th id="1619">1619</th><td>        <a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a> = <a class="local col9 ref" href="#299tmp" title='tmp' data-ref="299tmp">tmp</a>;</td></tr>
<tr><th id="1620">1620</th><td>    }</td></tr>
<tr><th id="1621">1621</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(inner); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1621, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>);</td></tr>
<tr><th id="1622">1622</th><td>    <b>return</b> <a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a>;</td></tr>
<tr><th id="1623">1623</th><td></td></tr>
<tr><th id="1624">1624</th><td>  <dfn class="lbl" id="302error" data-ref="302error">error</dfn>:</td></tr>
<tr><th id="1625">1625</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(outer); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1625, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col1 ref" href="#301outer" title='outer' data-ref="301outer">outer</a>);</td></tr>
<tr><th id="1626">1626</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(inner); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1626, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#300inner" title='inner' data-ref="300inner">inner</a>);</td></tr>
<tr><th id="1627">1627</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1628">1628</th><td>}</td></tr>
<tr><th id="1629">1629</th><td></td></tr>
<tr><th id="1630">1630</th><td></td></tr>
<tr><th id="1631">1631</th><td><i  data-doc="SmallFactorials">/* Lookup table for small factorial values */</i></td></tr>
<tr><th id="1632">1632</th><td></td></tr>
<tr><th id="1633">1633</th><td><em>static</em> <em>const</em> <em>unsigned</em> <em>long</em> <dfn class="tu decl def" id="SmallFactorials" title='SmallFactorials' data-type='const unsigned long [21]' data-ref="SmallFactorials">SmallFactorials</dfn>[] = {</td></tr>
<tr><th id="1634">1634</th><td>    <var>1</var>, <var>1</var>, <var>2</var>, <var>6</var>, <var>24</var>, <var>120</var>, <var>720</var>, <var>5040</var>, <var>40320</var>,</td></tr>
<tr><th id="1635">1635</th><td>    <var>362880</var>, <var>3628800</var>, <var>39916800</var>, <var>479001600</var>,</td></tr>
<tr><th id="1636">1636</th><td><u>#<span data-ppcond="1636">if</span> <a class="macro" href="../pyconfig.h.html#1286" title="8" data-ref="_M/SIZEOF_LONG">SIZEOF_LONG</a> &gt;= 8</u></td></tr>
<tr><th id="1637">1637</th><td>    <var>6227020800</var>, <var>87178291200</var>, <var>1307674368000</var>,</td></tr>
<tr><th id="1638">1638</th><td>    <var>20922789888000</var>, <var>355687428096000</var>, <var>6402373705728000</var>,</td></tr>
<tr><th id="1639">1639</th><td>    <var>121645100408832000</var>, <var>2432902008176640000</var></td></tr>
<tr><th id="1640">1640</th><td><u>#<span data-ppcond="1636">endif</span></u></td></tr>
<tr><th id="1641">1641</th><td>};</td></tr>
<tr><th id="1642">1642</th><td></td></tr>
<tr><th id="1643">1643</th><td><i  data-doc="math_factorial">/*[clinic input]</i></td></tr>
<tr><th id="1644">1644</th><td><i  data-doc="math_factorial">math.factorial</i></td></tr>
<tr><th id="1645">1645</th><td><i  data-doc="math_factorial"></i></td></tr>
<tr><th id="1646">1646</th><td><i  data-doc="math_factorial">    x as arg: object</i></td></tr>
<tr><th id="1647">1647</th><td><i  data-doc="math_factorial">    /</i></td></tr>
<tr><th id="1648">1648</th><td><i  data-doc="math_factorial"></i></td></tr>
<tr><th id="1649">1649</th><td><i  data-doc="math_factorial">Find x!.</i></td></tr>
<tr><th id="1650">1650</th><td><i  data-doc="math_factorial"></i></td></tr>
<tr><th id="1651">1651</th><td><i  data-doc="math_factorial">Raise a ValueError if x is negative or non-integral.</i></td></tr>
<tr><th id="1652">1652</th><td><i  data-doc="math_factorial">[clinic start generated code]*/</i></td></tr>
<tr><th id="1653">1653</th><td></td></tr>
<tr><th id="1654">1654</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1655">1655</th><td><dfn class="tu decl def" id="math_factorial" title='math_factorial' data-type='PyObject * math_factorial(PyObject * module, PyObject * arg)' data-ref="math_factorial">math_factorial</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="303module" title='module' data-type='PyObject *' data-ref="303module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="304arg" title='arg' data-type='PyObject *' data-ref="304arg">arg</dfn>)</td></tr>
<tr><th id="1656">1656</th><td><i>/*[clinic end generated code: output=6686f26fae00e9ca input=6d1c8105c0d91fb4]*/</i></td></tr>
<tr><th id="1657">1657</th><td>{</td></tr>
<tr><th id="1658">1658</th><td>    <em>long</em> <dfn class="local col5 decl" id="305x" title='x' data-type='long' data-ref="305x">x</dfn>;</td></tr>
<tr><th id="1659">1659</th><td>    <em>int</em> <dfn class="local col6 decl" id="306overflow" title='overflow' data-type='int' data-ref="306overflow">overflow</dfn>;</td></tr>
<tr><th id="1660">1660</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="307result" title='result' data-type='PyObject *' data-ref="307result">result</dfn>, *<dfn class="local col8 decl" id="308odd_part" title='odd_part' data-type='PyObject *' data-ref="308odd_part">odd_part</dfn>, *<dfn class="local col9 decl" id="309two_valuation" title='two_valuation' data-type='PyObject *' data-ref="309two_valuation">two_valuation</dfn>;</td></tr>
<tr><th id="1661">1661</th><td></td></tr>
<tr><th id="1662">1662</th><td>    <b>if</b> (<a class="macro" href="../Include/floatobject.h.html#23" title="((((PyObject*)(arg))-&gt;ob_type) == (&amp;PyFloat_Type) || PyType_IsSubtype((((PyObject*)(arg))-&gt;ob_type), (&amp;PyFloat_Type)))" data-ref="_M/PyFloat_Check">PyFloat_Check</a>(<a class="local col4 ref" href="#304arg" title='arg' data-ref="304arg">arg</a>)) {</td></tr>
<tr><th id="1663">1663</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="310lx" title='lx' data-type='PyObject *' data-ref="310lx">lx</dfn>;</td></tr>
<tr><th id="1664">1664</th><td>        <em>double</em> <dfn class="local col1 decl" id="311dx" title='dx' data-type='double' data-ref="311dx">dx</dfn> = <a class="macro" href="../Include/floatobject.h.html#51" title="(((PyFloatObject *)((PyFloatObject *)arg))-&gt;ob_fval)" data-ref="_M/PyFloat_AS_DOUBLE">PyFloat_AS_DOUBLE</a>((<a class="typedef" href="../Include/floatobject.h.html#PyFloatObject" title='PyFloatObject' data-type='struct PyFloatObject' data-ref="PyFloatObject">PyFloatObject</a> *)<a class="local col4 ref" href="#304arg" title='arg' data-ref="304arg">arg</a>);</td></tr>
<tr><th id="1665">1665</th><td>        <b>if</b> (!(<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (dx) == sizeof (float) ? __finitef (dx) : sizeof (dx) == sizeof (double) ? __finite (dx) : __finitel (dx))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col1 ref" href="#311dx" title='dx' data-ref="311dx">dx</a>) &amp;&amp; <a class="local col1 ref" href="#311dx" title='dx' data-ref="311dx">dx</a> == <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#184" title='floor' data-ref="floor">floor</a>(<a class="local col1 ref" href="#311dx" title='dx' data-ref="311dx">dx</a>))) {</td></tr>
<tr><th id="1666">1666</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="1667">1667</th><td>                            <q>"factorial() only accepts integral values"</q>);</td></tr>
<tr><th id="1668">1668</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1669">1669</th><td>        }</td></tr>
<tr><th id="1670">1670</th><td>        <a class="local col0 ref" href="#310lx" title='lx' data-ref="310lx">lx</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_FromDouble" title='PyLong_FromDouble' data-ref="PyLong_FromDouble">PyLong_FromDouble</a>(<a class="local col1 ref" href="#311dx" title='dx' data-ref="311dx">dx</a>);</td></tr>
<tr><th id="1671">1671</th><td>        <b>if</b> (<a class="local col0 ref" href="#310lx" title='lx' data-ref="310lx">lx</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1672">1672</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1673">1673</th><td>        <a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_AsLongAndOverflow" title='PyLong_AsLongAndOverflow' data-ref="PyLong_AsLongAndOverflow">PyLong_AsLongAndOverflow</a>(<a class="local col0 ref" href="#310lx" title='lx' data-ref="310lx">lx</a>, &amp;<a class="local col6 ref" href="#306overflow" title='overflow' data-ref="306overflow">overflow</a>);</td></tr>
<tr><th id="1674">1674</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(lx); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1674, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#310lx" title='lx' data-ref="310lx">lx</a>);</td></tr>
<tr><th id="1675">1675</th><td>    }</td></tr>
<tr><th id="1676">1676</th><td>    <b>else</b></td></tr>
<tr><th id="1677">1677</th><td>        <a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_AsLongAndOverflow" title='PyLong_AsLongAndOverflow' data-ref="PyLong_AsLongAndOverflow">PyLong_AsLongAndOverflow</a>(<a class="local col4 ref" href="#304arg" title='arg' data-ref="304arg">arg</a>, &amp;<a class="local col6 ref" href="#306overflow" title='overflow' data-ref="306overflow">overflow</a>);</td></tr>
<tr><th id="1678">1678</th><td></td></tr>
<tr><th id="1679">1679</th><td>    <b>if</b> (<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> == -<var>1</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="1680">1680</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1681">1681</th><td>    }</td></tr>
<tr><th id="1682">1682</th><td>    <b>else</b> <b>if</b> (<a class="local col6 ref" href="#306overflow" title='overflow' data-ref="306overflow">overflow</a> == <var>1</var>) {</td></tr>
<tr><th id="1683">1683</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="1684">1684</th><td>                     <q>"factorial() argument should not exceed %ld"</q>,</td></tr>
<tr><th id="1685">1685</th><td>                     <span class="macro" title="9223372036854775807L" data-ref="_M/LONG_MAX">LONG_MAX</span>);</td></tr>
<tr><th id="1686">1686</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1687">1687</th><td>    }</td></tr>
<tr><th id="1688">1688</th><td>    <b>else</b> <b>if</b> (<a class="local col6 ref" href="#306overflow" title='overflow' data-ref="306overflow">overflow</a> == -<var>1</var> || <a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="1689">1689</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="1690">1690</th><td>                        <q>"factorial() not defined for negative values"</q>);</td></tr>
<tr><th id="1691">1691</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1692">1692</th><td>    }</td></tr>
<tr><th id="1693">1693</th><td></td></tr>
<tr><th id="1694">1694</th><td>    <i>/* use lookup table if x is small */</i></td></tr>
<tr><th id="1695">1695</th><td>    <b>if</b> (<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> &lt; (<em>long</em>)<a class="macro" href="../Include/pymacro.h.html#64" title="(sizeof(SmallFactorials) / sizeof((SmallFactorials)[0]))" data-ref="_M/Py_ARRAY_LENGTH">Py_ARRAY_LENGTH</a>(<a class="tu ref" href="#SmallFactorials" title='SmallFactorials' data-use='r' data-ref="SmallFactorials">SmallFactorials</a>))</td></tr>
<tr><th id="1696">1696</th><td>        <b>return</b> <a class="ref" href="../Include/longobject.h.html#PyLong_FromUnsignedLong" title='PyLong_FromUnsignedLong' data-ref="PyLong_FromUnsignedLong">PyLong_FromUnsignedLong</a>(<a class="tu ref" href="#SmallFactorials" title='SmallFactorials' data-use='r' data-ref="SmallFactorials">SmallFactorials</a>[<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a>]);</td></tr>
<tr><th id="1697">1697</th><td></td></tr>
<tr><th id="1698">1698</th><td>    <i>/* else express in the form odd_part * 2**two_valuation, and compute as</i></td></tr>
<tr><th id="1699">1699</th><td><i>       odd_part &lt;&lt; two_valuation. */</i></td></tr>
<tr><th id="1700">1700</th><td>    <a class="local col8 ref" href="#308odd_part" title='odd_part' data-ref="308odd_part">odd_part</a> = <a class="tu ref" href="#factorial_odd_part" title='factorial_odd_part' data-use='c' data-ref="factorial_odd_part">factorial_odd_part</a>(<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a>);</td></tr>
<tr><th id="1701">1701</th><td>    <b>if</b> (<a class="local col8 ref" href="#308odd_part" title='odd_part' data-ref="308odd_part">odd_part</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1702">1702</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1703">1703</th><td>    <a class="local col9 ref" href="#309two_valuation" title='two_valuation' data-ref="309two_valuation">two_valuation</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_FromLong" title='PyLong_FromLong' data-ref="PyLong_FromLong">PyLong_FromLong</a>(<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a> - <a class="tu ref" href="#count_set_bits" title='count_set_bits' data-use='c' data-ref="count_set_bits">count_set_bits</a>(<a class="local col5 ref" href="#305x" title='x' data-ref="305x">x</a>));</td></tr>
<tr><th id="1704">1704</th><td>    <b>if</b> (<a class="local col9 ref" href="#309two_valuation" title='two_valuation' data-ref="309two_valuation">two_valuation</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1705">1705</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(odd_part); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1705, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#308odd_part" title='odd_part' data-ref="308odd_part">odd_part</a>);</td></tr>
<tr><th id="1706">1706</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1707">1707</th><td>    }</td></tr>
<tr><th id="1708">1708</th><td>    <a class="local col7 ref" href="#307result" title='result' data-ref="307result">result</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_Lshift" title='PyNumber_Lshift' data-ref="PyNumber_Lshift">PyNumber_Lshift</a>(<a class="local col8 ref" href="#308odd_part" title='odd_part' data-ref="308odd_part">odd_part</a>, <a class="local col9 ref" href="#309two_valuation" title='two_valuation' data-ref="309two_valuation">two_valuation</a>);</td></tr>
<tr><th id="1709">1709</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(two_valuation); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1709, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#309two_valuation" title='two_valuation' data-ref="309two_valuation">two_valuation</a>);</td></tr>
<tr><th id="1710">1710</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(odd_part); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1710, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#308odd_part" title='odd_part' data-ref="308odd_part">odd_part</a>);</td></tr>
<tr><th id="1711">1711</th><td>    <b>return</b> <a class="local col7 ref" href="#307result" title='result' data-ref="307result">result</a>;</td></tr>
<tr><th id="1712">1712</th><td>}</td></tr>
<tr><th id="1713">1713</th><td></td></tr>
<tr><th id="1714">1714</th><td></td></tr>
<tr><th id="1715">1715</th><td><i  data-doc="math_trunc">/*[clinic input]</i></td></tr>
<tr><th id="1716">1716</th><td><i  data-doc="math_trunc">math.trunc</i></td></tr>
<tr><th id="1717">1717</th><td><i  data-doc="math_trunc"></i></td></tr>
<tr><th id="1718">1718</th><td><i  data-doc="math_trunc">    x: object</i></td></tr>
<tr><th id="1719">1719</th><td><i  data-doc="math_trunc">    /</i></td></tr>
<tr><th id="1720">1720</th><td><i  data-doc="math_trunc"></i></td></tr>
<tr><th id="1721">1721</th><td><i  data-doc="math_trunc">Truncates the Real x to the nearest Integral toward 0.</i></td></tr>
<tr><th id="1722">1722</th><td><i  data-doc="math_trunc"></i></td></tr>
<tr><th id="1723">1723</th><td><i  data-doc="math_trunc">Uses the __trunc__ magic method.</i></td></tr>
<tr><th id="1724">1724</th><td><i  data-doc="math_trunc">[clinic start generated code]*/</i></td></tr>
<tr><th id="1725">1725</th><td></td></tr>
<tr><th id="1726">1726</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1727">1727</th><td><dfn class="tu decl def" id="math_trunc" title='math_trunc' data-type='PyObject * math_trunc(PyObject * module, PyObject * x)' data-ref="math_trunc">math_trunc</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="312module" title='module' data-type='PyObject *' data-ref="312module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="313x" title='x' data-type='PyObject *' data-ref="313x">x</dfn>)</td></tr>
<tr><th id="1728">1728</th><td><i>/*[clinic end generated code: output=34b9697b707e1031 input=2168b34e0a09134d]*/</i></td></tr>
<tr><th id="1729">1729</th><td>{</td></tr>
<tr><th id="1730">1730</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId___trunc__ = { .next = ((void*)0), .string = &quot;__trunc__&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(__trunc__);</td></tr>
<tr><th id="1731">1731</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="314trunc" title='trunc' data-type='PyObject *' data-ref="314trunc">trunc</dfn>, *<dfn class="local col5 decl" id="315result" title='result' data-type='PyObject *' data-ref="315result">result</dfn>;</td></tr>
<tr><th id="1732">1732</th><td></td></tr>
<tr><th id="1733">1733</th><td>    <b>if</b> (<a class="macro" href="../Include/object.h.html#118" title="(((PyObject*)(x))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col3 ref" href="#313x" title='x' data-ref="313x">x</a>)-&gt;<a class="ref" href="../Include/object.h.html#_typeobject::tp_dict" title='_typeobject::tp_dict' data-ref="_typeobject::tp_dict">tp_dict</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1734">1734</th><td>        <b>if</b> (<a class="ref" href="../Include/object.h.html#PyType_Ready" title='PyType_Ready' data-ref="PyType_Ready">PyType_Ready</a>(<a class="macro" href="../Include/object.h.html#118" title="(((PyObject*)(x))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col3 ref" href="#313x" title='x' data-ref="313x">x</a>)) &lt; <var>0</var>)</td></tr>
<tr><th id="1735">1735</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1736">1736</th><td>    }</td></tr>
<tr><th id="1737">1737</th><td></td></tr>
<tr><th id="1738">1738</th><td>    <a class="local col4 ref" href="#314trunc" title='trunc' data-ref="314trunc">trunc</a> = <a class="ref" href="../Include/object.h.html#_PyObject_LookupSpecial" title='_PyObject_LookupSpecial' data-ref="_PyObject_LookupSpecial">_PyObject_LookupSpecial</a>(<a class="local col3 ref" href="#313x" title='x' data-ref="313x">x</a>, &amp;<a class="local col6 ref" href="#1730" title='PyId___trunc__' data-ref="316PyId___trunc__">PyId___trunc__</a>);</td></tr>
<tr><th id="1739">1739</th><td>    <b>if</b> (<a class="local col4 ref" href="#314trunc" title='trunc' data-ref="314trunc">trunc</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1740">1740</th><td>        <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1741">1741</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1742">1742</th><td>                         <q>"type %.100s doesn't define __trunc__ method"</q>,</td></tr>
<tr><th id="1743">1743</th><td>                         <a class="macro" href="../Include/object.h.html#118" title="(((PyObject*)(x))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col3 ref" href="#313x" title='x' data-ref="313x">x</a>)-&gt;<a class="ref" href="../Include/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name">tp_name</a>);</td></tr>
<tr><th id="1744">1744</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1745">1745</th><td>    }</td></tr>
<tr><th id="1746">1746</th><td>    <a class="local col5 ref" href="#315result" title='result' data-ref="315result">result</a> = <a class="macro" href="../Include/abstract.h.html#255" title="_PyObject_FastCallDict((trunc), ((void*)0), 0, ((void*)0))" data-ref="_M/_PyObject_CallNoArg">_PyObject_CallNoArg</a>(<a class="local col4 ref" href="#314trunc" title='trunc' data-ref="314trunc">trunc</a>);</td></tr>
<tr><th id="1747">1747</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(trunc); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1747, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#314trunc" title='trunc' data-ref="314trunc">trunc</a>);</td></tr>
<tr><th id="1748">1748</th><td>    <b>return</b> <a class="local col5 ref" href="#315result" title='result' data-ref="315result">result</a>;</td></tr>
<tr><th id="1749">1749</th><td>}</td></tr>
<tr><th id="1750">1750</th><td></td></tr>
<tr><th id="1751">1751</th><td></td></tr>
<tr><th id="1752">1752</th><td><i  data-doc="math_frexp_impl">/*[clinic input]</i></td></tr>
<tr><th id="1753">1753</th><td><i  data-doc="math_frexp_impl">math.frexp</i></td></tr>
<tr><th id="1754">1754</th><td><i  data-doc="math_frexp_impl"></i></td></tr>
<tr><th id="1755">1755</th><td><i  data-doc="math_frexp_impl">    x: double</i></td></tr>
<tr><th id="1756">1756</th><td><i  data-doc="math_frexp_impl">    /</i></td></tr>
<tr><th id="1757">1757</th><td><i  data-doc="math_frexp_impl"></i></td></tr>
<tr><th id="1758">1758</th><td><i  data-doc="math_frexp_impl">Return the mantissa and exponent of x, as pair (m, e).</i></td></tr>
<tr><th id="1759">1759</th><td><i  data-doc="math_frexp_impl"></i></td></tr>
<tr><th id="1760">1760</th><td><i  data-doc="math_frexp_impl">m is a float and e is an int, such that x = m * 2.**e.</i></td></tr>
<tr><th id="1761">1761</th><td><i  data-doc="math_frexp_impl">If x is 0, m and e are both 0.  Else 0.5 &lt;= abs(m) &lt; 1.0.</i></td></tr>
<tr><th id="1762">1762</th><td><i  data-doc="math_frexp_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1763">1763</th><td></td></tr>
<tr><th id="1764">1764</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1765">1765</th><td><dfn class="tu decl def" id="math_frexp_impl" title='math_frexp_impl' data-type='PyObject * math_frexp_impl(PyObject * module, double x)' data-ref="math_frexp_impl">math_frexp_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="317module" title='module' data-type='PyObject *' data-ref="317module">module</dfn>, <em>double</em> <dfn class="local col8 decl" id="318x" title='x' data-type='double' data-ref="318x">x</dfn>)</td></tr>
<tr><th id="1766">1766</th><td><i>/*[clinic end generated code: output=03e30d252a15ad4a input=96251c9e208bc6e9]*/</i></td></tr>
<tr><th id="1767">1767</th><td>{</td></tr>
<tr><th id="1768">1768</th><td>    <em>int</em> <dfn class="local col9 decl" id="319i" title='i' data-type='int' data-ref="319i">i</dfn>;</td></tr>
<tr><th id="1769">1769</th><td>    <i>/* deal with special cases directly, to sidestep platform</i></td></tr>
<tr><th id="1770">1770</th><td><i>       differences */</i></td></tr>
<tr><th id="1771">1771</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a>) || <a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a>) || !<a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a>) {</td></tr>
<tr><th id="1772">1772</th><td>        <a class="local col9 ref" href="#319i" title='i' data-ref="319i">i</a> = <var>0</var>;</td></tr>
<tr><th id="1773">1773</th><td>    }</td></tr>
<tr><th id="1774">1774</th><td>    <b>else</b> {</td></tr>
<tr><th id="1775">1775</th><td>        <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_frexp"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="1776">1776</th><td>        <a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#103" title='frexp' data-ref="frexp">frexp</a>(<a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a>, &amp;<a class="local col9 ref" href="#319i" title='i' data-ref="319i">i</a>);</td></tr>
<tr><th id="1777">1777</th><td>        <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(x);</td></tr>
<tr><th id="1778">1778</th><td>    }</td></tr>
<tr><th id="1779">1779</th><td>    <b>return</b> <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(di)"</q>, <a class="local col8 ref" href="#318x" title='x' data-ref="318x">x</a>, <a class="local col9 ref" href="#319i" title='i' data-ref="319i">i</a>);</td></tr>
<tr><th id="1780">1780</th><td>}</td></tr>
<tr><th id="1781">1781</th><td></td></tr>
<tr><th id="1782">1782</th><td></td></tr>
<tr><th id="1783">1783</th><td><i  data-doc="math_ldexp_impl">/*[clinic input]</i></td></tr>
<tr><th id="1784">1784</th><td><i  data-doc="math_ldexp_impl">math.ldexp</i></td></tr>
<tr><th id="1785">1785</th><td><i  data-doc="math_ldexp_impl"></i></td></tr>
<tr><th id="1786">1786</th><td><i  data-doc="math_ldexp_impl">    x: double</i></td></tr>
<tr><th id="1787">1787</th><td><i  data-doc="math_ldexp_impl">    i: object</i></td></tr>
<tr><th id="1788">1788</th><td><i  data-doc="math_ldexp_impl">    /</i></td></tr>
<tr><th id="1789">1789</th><td><i  data-doc="math_ldexp_impl"></i></td></tr>
<tr><th id="1790">1790</th><td><i  data-doc="math_ldexp_impl">Return x * (2**i).</i></td></tr>
<tr><th id="1791">1791</th><td><i  data-doc="math_ldexp_impl"></i></td></tr>
<tr><th id="1792">1792</th><td><i  data-doc="math_ldexp_impl">This is essentially the inverse of frexp().</i></td></tr>
<tr><th id="1793">1793</th><td><i  data-doc="math_ldexp_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1794">1794</th><td></td></tr>
<tr><th id="1795">1795</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1796">1796</th><td><dfn class="tu decl def" id="math_ldexp_impl" title='math_ldexp_impl' data-type='PyObject * math_ldexp_impl(PyObject * module, double x, PyObject * i)' data-ref="math_ldexp_impl">math_ldexp_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="320module" title='module' data-type='PyObject *' data-ref="320module">module</dfn>, <em>double</em> <dfn class="local col1 decl" id="321x" title='x' data-type='double' data-ref="321x">x</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="322i" title='i' data-type='PyObject *' data-ref="322i">i</dfn>)</td></tr>
<tr><th id="1797">1797</th><td><i>/*[clinic end generated code: output=b6892f3c2df9cc6a input=17d5970c1a40a8c1]*/</i></td></tr>
<tr><th id="1798">1798</th><td>{</td></tr>
<tr><th id="1799">1799</th><td>    <em>double</em> <dfn class="local col3 decl" id="323r" title='r' data-type='double' data-ref="323r">r</dfn>;</td></tr>
<tr><th id="1800">1800</th><td>    <em>long</em> <dfn class="local col4 decl" id="324exp" title='exp' data-type='long' data-ref="324exp">exp</dfn>;</td></tr>
<tr><th id="1801">1801</th><td>    <em>int</em> <dfn class="local col5 decl" id="325overflow" title='overflow' data-type='int' data-ref="325overflow">overflow</dfn>;</td></tr>
<tr><th id="1802">1802</th><td></td></tr>
<tr><th id="1803">1803</th><td>    <b>if</b> (<a class="macro" href="../Include/longobject.h.html#14" title="((((((PyObject*)(i))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 24))) != 0)" data-ref="_M/PyLong_Check">PyLong_Check</a>(<a class="local col2 ref" href="#322i" title='i' data-ref="322i">i</a>)) {</td></tr>
<tr><th id="1804">1804</th><td>        <i>/* on overflow, replace exponent with either LONG_MAX</i></td></tr>
<tr><th id="1805">1805</th><td><i>           or LONG_MIN, depending on the sign. */</i></td></tr>
<tr><th id="1806">1806</th><td>        <a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_AsLongAndOverflow" title='PyLong_AsLongAndOverflow' data-ref="PyLong_AsLongAndOverflow">PyLong_AsLongAndOverflow</a>(<a class="local col2 ref" href="#322i" title='i' data-ref="322i">i</a>, &amp;<a class="local col5 ref" href="#325overflow" title='overflow' data-ref="325overflow">overflow</a>);</td></tr>
<tr><th id="1807">1807</th><td>        <b>if</b> (<a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a> == -<var>1</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1808">1808</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1809">1809</th><td>        <b>if</b> (<a class="local col5 ref" href="#325overflow" title='overflow' data-ref="325overflow">overflow</a>)</td></tr>
<tr><th id="1810">1810</th><td>            <a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a> = <a class="local col5 ref" href="#325overflow" title='overflow' data-ref="325overflow">overflow</a> &lt; <var>0</var> ? <span class="macro" title="(-9223372036854775807L -1L)" data-ref="_M/LONG_MIN">LONG_MIN</span> : <span class="macro" title="9223372036854775807L" data-ref="_M/LONG_MAX">LONG_MAX</span>;</td></tr>
<tr><th id="1811">1811</th><td>    }</td></tr>
<tr><th id="1812">1812</th><td>    <b>else</b> {</td></tr>
<tr><th id="1813">1813</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1814">1814</th><td>                        <q>"Expected an int as second argument to ldexp."</q>);</td></tr>
<tr><th id="1815">1815</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1816">1816</th><td>    }</td></tr>
<tr><th id="1817">1817</th><td></td></tr>
<tr><th id="1818">1818</th><td>    <b>if</b> (<a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a> == <var>0.</var> || !<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a>)) {</td></tr>
<tr><th id="1819">1819</th><td>        <i>/* NaNs, zeros and infinities are returned unchanged */</i></td></tr>
<tr><th id="1820">1820</th><td>        <a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a> = <a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a>;</td></tr>
<tr><th id="1821">1821</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1822">1822</th><td>    } <b>else</b> <b>if</b> (<a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a> &gt; <span class="macro" title="2147483647" data-ref="_M/INT_MAX">INT_MAX</span>) {</td></tr>
<tr><th id="1823">1823</th><td>        <i>/* overflow */</i></td></tr>
<tr><th id="1824">1824</th><td>        <a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<a class="macro" href="../Include/pymath.h.html#150" title="(__builtin_huge_val())" data-ref="_M/Py_HUGE_VAL">Py_HUGE_VAL</a>, <a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a>);</td></tr>
<tr><th id="1825">1825</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="1826">1826</th><td>    } <b>else</b> <b>if</b> (<a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a> &lt; <span class="macro" title="(-2147483647 -1)" data-ref="_M/INT_MIN">INT_MIN</span>) {</td></tr>
<tr><th id="1827">1827</th><td>        <i>/* underflow to +-0 */</i></td></tr>
<tr><th id="1828">1828</th><td>        <a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.</var>, <a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a>);</td></tr>
<tr><th id="1829">1829</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1830">1830</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1831">1831</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1832">1832</th><td>        <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_ldexp"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="1833">1833</th><td>        <a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#106" title='ldexp' data-ref="ldexp">ldexp</a>(<a class="local col1 ref" href="#321x" title='x' data-ref="321x">x</a>, (<em>int</em>)<a class="local col4 ref" href="#324exp" title='exp' data-ref="324exp">exp</a>);</td></tr>
<tr><th id="1834">1834</th><td>        <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="1835">1835</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a>))</td></tr>
<tr><th id="1836">1836</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="1837">1837</th><td>    }</td></tr>
<tr><th id="1838">1838</th><td></td></tr>
<tr><th id="1839">1839</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a>))</td></tr>
<tr><th id="1840">1840</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1841">1841</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col3 ref" href="#323r" title='r' data-ref="323r">r</a>);</td></tr>
<tr><th id="1842">1842</th><td>}</td></tr>
<tr><th id="1843">1843</th><td></td></tr>
<tr><th id="1844">1844</th><td></td></tr>
<tr><th id="1845">1845</th><td><i  data-doc="math_modf_impl">/*[clinic input]</i></td></tr>
<tr><th id="1846">1846</th><td><i  data-doc="math_modf_impl">math.modf</i></td></tr>
<tr><th id="1847">1847</th><td><i  data-doc="math_modf_impl"></i></td></tr>
<tr><th id="1848">1848</th><td><i  data-doc="math_modf_impl">    x: double</i></td></tr>
<tr><th id="1849">1849</th><td><i  data-doc="math_modf_impl">    /</i></td></tr>
<tr><th id="1850">1850</th><td><i  data-doc="math_modf_impl"></i></td></tr>
<tr><th id="1851">1851</th><td><i  data-doc="math_modf_impl">Return the fractional and integer parts of x.</i></td></tr>
<tr><th id="1852">1852</th><td><i  data-doc="math_modf_impl"></i></td></tr>
<tr><th id="1853">1853</th><td><i  data-doc="math_modf_impl">Both results carry the sign of x and are floats.</i></td></tr>
<tr><th id="1854">1854</th><td><i  data-doc="math_modf_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1855">1855</th><td></td></tr>
<tr><th id="1856">1856</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1857">1857</th><td><dfn class="tu decl def" id="math_modf_impl" title='math_modf_impl' data-type='PyObject * math_modf_impl(PyObject * module, double x)' data-ref="math_modf_impl">math_modf_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="326module" title='module' data-type='PyObject *' data-ref="326module">module</dfn>, <em>double</em> <dfn class="local col7 decl" id="327x" title='x' data-type='double' data-ref="327x">x</dfn>)</td></tr>
<tr><th id="1858">1858</th><td><i>/*[clinic end generated code: output=90cee0260014c3c0 input=b4cfb6786afd9035]*/</i></td></tr>
<tr><th id="1859">1859</th><td>{</td></tr>
<tr><th id="1860">1860</th><td>    <em>double</em> <dfn class="local col8 decl" id="328y" title='y' data-type='double' data-ref="328y">y</dfn>;</td></tr>
<tr><th id="1861">1861</th><td>    <i>/* some platforms don't do the right thing for NaNs and</i></td></tr>
<tr><th id="1862">1862</th><td><i>       infinities, so we take care of special cases directly. */</i></td></tr>
<tr><th id="1863">1863</th><td>    <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>)) {</td></tr>
<tr><th id="1864">1864</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>))</td></tr>
<tr><th id="1865">1865</th><td>            <b>return</b> <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(dd)"</q>, <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.</var>, <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>), <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>);</td></tr>
<tr><th id="1866">1866</th><td>        <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>))</td></tr>
<tr><th id="1867">1867</th><td>            <b>return</b> <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(dd)"</q>, <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>, <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>);</td></tr>
<tr><th id="1868">1868</th><td>    }</td></tr>
<tr><th id="1869">1869</th><td></td></tr>
<tr><th id="1870">1870</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="1871">1871</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_modf"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="1872">1872</th><td>    <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#115" title='modf' data-ref="modf">modf</a>(<a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>, &amp;<a class="local col8 ref" href="#328y" title='y' data-ref="328y">y</a>);</td></tr>
<tr><th id="1873">1873</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(x);</td></tr>
<tr><th id="1874">1874</th><td>    <b>return</b> <a class="ref" href="../Include/modsupport.h.html#Py_BuildValue" title='Py_BuildValue' data-ref="Py_BuildValue">Py_BuildValue</a>(<q>"(dd)"</q>, <a class="local col7 ref" href="#327x" title='x' data-ref="327x">x</a>, <a class="local col8 ref" href="#328y" title='y' data-ref="328y">y</a>);</td></tr>
<tr><th id="1875">1875</th><td>}</td></tr>
<tr><th id="1876">1876</th><td></td></tr>
<tr><th id="1877">1877</th><td></td></tr>
<tr><th id="1878">1878</th><td><i  data-doc="loghelper">/* A decent logarithm is easy to compute even for huge ints, but libm can't</i></td></tr>
<tr><th id="1879">1879</th><td><i  data-doc="loghelper">   do that by itself -- loghelper can.  func is log or log10, and name is</i></td></tr>
<tr><th id="1880">1880</th><td><i  data-doc="loghelper">   "log" or "log10".  Note that overflow of the result isn't possible: an int</i></td></tr>
<tr><th id="1881">1881</th><td><i  data-doc="loghelper">   can contain no more than INT_MAX * SHIFT bits, so has value certainly less</i></td></tr>
<tr><th id="1882">1882</th><td><i  data-doc="loghelper">   than 2**(2**64 * 2**16) == 2**2**80, and log2 of that is 2**80, which is</i></td></tr>
<tr><th id="1883">1883</th><td><i  data-doc="loghelper">   small enough to fit in an IEEE single.  log and log10 are even smaller.</i></td></tr>
<tr><th id="1884">1884</th><td><i  data-doc="loghelper">   However, intermediate overflow is possible for an int if the number of bits</i></td></tr>
<tr><th id="1885">1885</th><td><i  data-doc="loghelper">   in that int is larger than PY_SSIZE_T_MAX. */</i></td></tr>
<tr><th id="1886">1886</th><td></td></tr>
<tr><th id="1887">1887</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*</td></tr>
<tr><th id="1888">1888</th><td><dfn class="tu decl def" id="loghelper" title='loghelper' data-type='PyObject * loghelper(PyObject * arg, double (*)(double) func, const char * funcname)' data-ref="loghelper">loghelper</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>* <dfn class="local col9 decl" id="329arg" title='arg' data-type='PyObject *' data-ref="329arg">arg</dfn>, <em>double</em> (*<dfn class="local col0 decl" id="330func" title='func' data-type='double (*)(double)' data-ref="330func">func</dfn>)(<em>double</em>), <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="331funcname" title='funcname' data-type='const char *' data-ref="331funcname">funcname</dfn>)</td></tr>
<tr><th id="1889">1889</th><td>{</td></tr>
<tr><th id="1890">1890</th><td>    <i>/* If it is int, do it ourselves. */</i></td></tr>
<tr><th id="1891">1891</th><td>    <b>if</b> (<a class="macro" href="../Include/longobject.h.html#14" title="((((((PyObject*)(arg))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 24))) != 0)" data-ref="_M/PyLong_Check">PyLong_Check</a>(<a class="local col9 ref" href="#329arg" title='arg' data-ref="329arg">arg</a>)) {</td></tr>
<tr><th id="1892">1892</th><td>        <em>double</em> <dfn class="local col2 decl" id="332x" title='x' data-type='double' data-ref="332x">x</dfn>, <dfn class="local col3 decl" id="333result" title='result' data-type='double' data-ref="333result">result</dfn>;</td></tr>
<tr><th id="1893">1893</th><td>        <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col4 decl" id="334e" title='e' data-type='Py_ssize_t' data-ref="334e">e</dfn>;</td></tr>
<tr><th id="1894">1894</th><td></td></tr>
<tr><th id="1895">1895</th><td>        <i>/* Negative or zero inputs give a ValueError. */</i></td></tr>
<tr><th id="1896">1896</th><td>        <b>if</b> (<a class="macro" href="../Include/object.h.html#119" title="(((PyVarObject*)(arg))-&gt;ob_size)" data-ref="_M/Py_SIZE">Py_SIZE</a>(<a class="local col9 ref" href="#329arg" title='arg' data-ref="329arg">arg</a>) &lt;= <var>0</var>) {</td></tr>
<tr><th id="1897">1897</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="1898">1898</th><td>                            <q>"math domain error"</q>);</td></tr>
<tr><th id="1899">1899</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1900">1900</th><td>        }</td></tr>
<tr><th id="1901">1901</th><td></td></tr>
<tr><th id="1902">1902</th><td>        <a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a> = <a class="ref" href="../Include/longobject.h.html#PyLong_AsDouble" title='PyLong_AsDouble' data-ref="PyLong_AsDouble">PyLong_AsDouble</a>(<a class="local col9 ref" href="#329arg" title='arg' data-ref="329arg">arg</a>);</td></tr>
<tr><th id="1903">1903</th><td>        <b>if</b> (<a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="1904">1904</th><td>            <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_ExceptionMatches" title='PyErr_ExceptionMatches' data-ref="PyErr_ExceptionMatches">PyErr_ExceptionMatches</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>))</td></tr>
<tr><th id="1905">1905</th><td>                <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1906">1906</th><td>            <i>/* Here the conversion to double overflowed, but it's possible</i></td></tr>
<tr><th id="1907">1907</th><td><i>               to compute the log anyway.  Clear the exception and continue. */</i></td></tr>
<tr><th id="1908">1908</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_Clear" title='PyErr_Clear' data-ref="PyErr_Clear">PyErr_Clear</a>();</td></tr>
<tr><th id="1909">1909</th><td>            <a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a> = <a class="ref" href="../Include/longobject.h.html#_PyLong_Frexp" title='_PyLong_Frexp' data-ref="_PyLong_Frexp">_PyLong_Frexp</a>((<a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a> *)<a class="local col9 ref" href="#329arg" title='arg' data-ref="329arg">arg</a>, &amp;<a class="local col4 ref" href="#334e" title='e' data-ref="334e">e</a>);</td></tr>
<tr><th id="1910">1910</th><td>            <b>if</b> (<a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1911">1911</th><td>                <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1912">1912</th><td>            <i>/* Value is ~= x * 2**e, so the log ~= log(x) + log(2) * e. */</i></td></tr>
<tr><th id="1913">1913</th><td>            <a class="local col3 ref" href="#333result" title='result' data-ref="333result">result</a> = <a class="local col0 ref" href="#330func" title='func' data-ref="330func">func</a>(<a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a>) + <a class="local col0 ref" href="#330func" title='func' data-ref="330func">func</a>(<var>2.0</var>) * <a class="local col4 ref" href="#334e" title='e' data-ref="334e">e</a>;</td></tr>
<tr><th id="1914">1914</th><td>        }</td></tr>
<tr><th id="1915">1915</th><td>        <b>else</b></td></tr>
<tr><th id="1916">1916</th><td>            <i>/* Successfully converted x to a double. */</i></td></tr>
<tr><th id="1917">1917</th><td>            <a class="local col3 ref" href="#333result" title='result' data-ref="333result">result</a> = <a class="local col0 ref" href="#330func" title='func' data-ref="330func">func</a>(<a class="local col2 ref" href="#332x" title='x' data-ref="332x">x</a>);</td></tr>
<tr><th id="1918">1918</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col3 ref" href="#333result" title='result' data-ref="333result">result</a>);</td></tr>
<tr><th id="1919">1919</th><td>    }</td></tr>
<tr><th id="1920">1920</th><td></td></tr>
<tr><th id="1921">1921</th><td>    <i>/* Else let libm handle it by itself. */</i></td></tr>
<tr><th id="1922">1922</th><td>    <b>return</b> <a class="tu ref" href="#math_1" title='math_1' data-use='c' data-ref="math_1">math_1</a>(<a class="local col9 ref" href="#329arg" title='arg' data-ref="329arg">arg</a>, <a class="local col0 ref" href="#330func" title='func' data-ref="330func">func</a>, <var>0</var>);</td></tr>
<tr><th id="1923">1923</th><td>}</td></tr>
<tr><th id="1924">1924</th><td></td></tr>
<tr><th id="1925">1925</th><td></td></tr>
<tr><th id="1926">1926</th><td><i  data-doc="math_log_impl">/*[clinic input]</i></td></tr>
<tr><th id="1927">1927</th><td><i  data-doc="math_log_impl">math.log</i></td></tr>
<tr><th id="1928">1928</th><td><i  data-doc="math_log_impl"></i></td></tr>
<tr><th id="1929">1929</th><td><i  data-doc="math_log_impl">    x:    object</i></td></tr>
<tr><th id="1930">1930</th><td><i  data-doc="math_log_impl">    [</i></td></tr>
<tr><th id="1931">1931</th><td><i  data-doc="math_log_impl">    base: object(c_default="NULL") = math.e</i></td></tr>
<tr><th id="1932">1932</th><td><i  data-doc="math_log_impl">    ]</i></td></tr>
<tr><th id="1933">1933</th><td><i  data-doc="math_log_impl">    /</i></td></tr>
<tr><th id="1934">1934</th><td><i  data-doc="math_log_impl"></i></td></tr>
<tr><th id="1935">1935</th><td><i  data-doc="math_log_impl">Return the logarithm of x to the given base.</i></td></tr>
<tr><th id="1936">1936</th><td><i  data-doc="math_log_impl"></i></td></tr>
<tr><th id="1937">1937</th><td><i  data-doc="math_log_impl">If the base not specified, returns the natural logarithm (base e) of x.</i></td></tr>
<tr><th id="1938">1938</th><td><i  data-doc="math_log_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1939">1939</th><td></td></tr>
<tr><th id="1940">1940</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1941">1941</th><td><dfn class="tu decl def" id="math_log_impl" title='math_log_impl' data-type='PyObject * math_log_impl(PyObject * module, PyObject * x, int group_right_1, PyObject * base)' data-ref="math_log_impl">math_log_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="335module" title='module' data-type='PyObject *' data-ref="335module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="336x" title='x' data-type='PyObject *' data-ref="336x">x</dfn>, <em>int</em> <dfn class="local col7 decl" id="337group_right_1" title='group_right_1' data-type='int' data-ref="337group_right_1">group_right_1</dfn>,</td></tr>
<tr><th id="1942">1942</th><td>              <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="338base" title='base' data-type='PyObject *' data-ref="338base">base</dfn>)</td></tr>
<tr><th id="1943">1943</th><td><i>/*[clinic end generated code: output=7b5a39e526b73fc9 input=0f62d5726cbfebbd]*/</i></td></tr>
<tr><th id="1944">1944</th><td>{</td></tr>
<tr><th id="1945">1945</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="339num" title='num' data-type='PyObject *' data-ref="339num">num</dfn>, *<dfn class="local col0 decl" id="340den" title='den' data-type='PyObject *' data-ref="340den">den</dfn>;</td></tr>
<tr><th id="1946">1946</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="341ans" title='ans' data-type='PyObject *' data-ref="341ans">ans</dfn>;</td></tr>
<tr><th id="1947">1947</th><td></td></tr>
<tr><th id="1948">1948</th><td>    <a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a> = <a class="tu ref" href="#loghelper" title='loghelper' data-use='c' data-ref="loghelper">loghelper</a>(<a class="local col6 ref" href="#336x" title='x' data-ref="336x">x</a>, <a class="tu ref" href="#m_log" title='m_log' data-use='r' data-ref="m_log">m_log</a>, <q>"log"</q>);</td></tr>
<tr><th id="1949">1949</th><td>    <b>if</b> (<a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> || <a class="local col8 ref" href="#338base" title='base' data-ref="338base">base</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1950">1950</th><td>        <b>return</b> <a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a>;</td></tr>
<tr><th id="1951">1951</th><td></td></tr>
<tr><th id="1952">1952</th><td>    <a class="local col0 ref" href="#340den" title='den' data-ref="340den">den</a> = <a class="tu ref" href="#loghelper" title='loghelper' data-use='c' data-ref="loghelper">loghelper</a>(<a class="local col8 ref" href="#338base" title='base' data-ref="338base">base</a>, <a class="tu ref" href="#m_log" title='m_log' data-use='r' data-ref="m_log">m_log</a>, <q>"log"</q>);</td></tr>
<tr><th id="1953">1953</th><td>    <b>if</b> (<a class="local col0 ref" href="#340den" title='den' data-ref="340den">den</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1954">1954</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(num); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1954, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a>);</td></tr>
<tr><th id="1955">1955</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1956">1956</th><td>    }</td></tr>
<tr><th id="1957">1957</th><td></td></tr>
<tr><th id="1958">1958</th><td>    <a class="local col1 ref" href="#341ans" title='ans' data-ref="341ans">ans</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_TrueDivide" title='PyNumber_TrueDivide' data-ref="PyNumber_TrueDivide">PyNumber_TrueDivide</a>(<a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a>, <a class="local col0 ref" href="#340den" title='den' data-ref="340den">den</a>);</td></tr>
<tr><th id="1959">1959</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(num); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1959, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#339num" title='num' data-ref="339num">num</a>);</td></tr>
<tr><th id="1960">1960</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(den); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Modules/mathmodule.c&quot;, 1960, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col0 ref" href="#340den" title='den' data-ref="340den">den</a>);</td></tr>
<tr><th id="1961">1961</th><td>    <b>return</b> <a class="local col1 ref" href="#341ans" title='ans' data-ref="341ans">ans</a>;</td></tr>
<tr><th id="1962">1962</th><td>}</td></tr>
<tr><th id="1963">1963</th><td></td></tr>
<tr><th id="1964">1964</th><td></td></tr>
<tr><th id="1965">1965</th><td><i  data-doc="math_log2">/*[clinic input]</i></td></tr>
<tr><th id="1966">1966</th><td><i  data-doc="math_log2">math.log2</i></td></tr>
<tr><th id="1967">1967</th><td><i  data-doc="math_log2"></i></td></tr>
<tr><th id="1968">1968</th><td><i  data-doc="math_log2">    x: object</i></td></tr>
<tr><th id="1969">1969</th><td><i  data-doc="math_log2">    /</i></td></tr>
<tr><th id="1970">1970</th><td><i  data-doc="math_log2"></i></td></tr>
<tr><th id="1971">1971</th><td><i  data-doc="math_log2">Return the base 2 logarithm of x.</i></td></tr>
<tr><th id="1972">1972</th><td><i  data-doc="math_log2">[clinic start generated code]*/</i></td></tr>
<tr><th id="1973">1973</th><td></td></tr>
<tr><th id="1974">1974</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1975">1975</th><td><dfn class="tu decl def" id="math_log2" title='math_log2' data-type='PyObject * math_log2(PyObject * module, PyObject * x)' data-ref="math_log2">math_log2</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="342module" title='module' data-type='PyObject *' data-ref="342module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="343x" title='x' data-type='PyObject *' data-ref="343x">x</dfn>)</td></tr>
<tr><th id="1976">1976</th><td><i>/*[clinic end generated code: output=5425899a4d5d6acb input=08321262bae4f39b]*/</i></td></tr>
<tr><th id="1977">1977</th><td>{</td></tr>
<tr><th id="1978">1978</th><td>    <b>return</b> <a class="tu ref" href="#loghelper" title='loghelper' data-use='c' data-ref="loghelper">loghelper</a>(<a class="local col3 ref" href="#343x" title='x' data-ref="343x">x</a>, <a class="tu ref" href="#m_log2" title='m_log2' data-use='r' data-ref="m_log2">m_log2</a>, <q>"log2"</q>);</td></tr>
<tr><th id="1979">1979</th><td>}</td></tr>
<tr><th id="1980">1980</th><td></td></tr>
<tr><th id="1981">1981</th><td></td></tr>
<tr><th id="1982">1982</th><td><i  data-doc="math_log10">/*[clinic input]</i></td></tr>
<tr><th id="1983">1983</th><td><i  data-doc="math_log10">math.log10</i></td></tr>
<tr><th id="1984">1984</th><td><i  data-doc="math_log10"></i></td></tr>
<tr><th id="1985">1985</th><td><i  data-doc="math_log10">    x: object</i></td></tr>
<tr><th id="1986">1986</th><td><i  data-doc="math_log10">    /</i></td></tr>
<tr><th id="1987">1987</th><td><i  data-doc="math_log10"></i></td></tr>
<tr><th id="1988">1988</th><td><i  data-doc="math_log10">Return the base 10 logarithm of x.</i></td></tr>
<tr><th id="1989">1989</th><td><i  data-doc="math_log10">[clinic start generated code]*/</i></td></tr>
<tr><th id="1990">1990</th><td></td></tr>
<tr><th id="1991">1991</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1992">1992</th><td><dfn class="tu decl def" id="math_log10" title='math_log10' data-type='PyObject * math_log10(PyObject * module, PyObject * x)' data-ref="math_log10">math_log10</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="344module" title='module' data-type='PyObject *' data-ref="344module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="345x" title='x' data-type='PyObject *' data-ref="345x">x</dfn>)</td></tr>
<tr><th id="1993">1993</th><td><i>/*[clinic end generated code: output=be72a64617df9c6f input=b2469d02c6469e53]*/</i></td></tr>
<tr><th id="1994">1994</th><td>{</td></tr>
<tr><th id="1995">1995</th><td>    <b>return</b> <a class="tu ref" href="#loghelper" title='loghelper' data-use='c' data-ref="loghelper">loghelper</a>(<a class="local col5 ref" href="#345x" title='x' data-ref="345x">x</a>, <a class="tu ref" href="#m_log10" title='m_log10' data-use='r' data-ref="m_log10">m_log10</a>, <q>"log10"</q>);</td></tr>
<tr><th id="1996">1996</th><td>}</td></tr>
<tr><th id="1997">1997</th><td></td></tr>
<tr><th id="1998">1998</th><td></td></tr>
<tr><th id="1999">1999</th><td><i  data-doc="math_fmod_impl">/*[clinic input]</i></td></tr>
<tr><th id="2000">2000</th><td><i  data-doc="math_fmod_impl">math.fmod</i></td></tr>
<tr><th id="2001">2001</th><td><i  data-doc="math_fmod_impl"></i></td></tr>
<tr><th id="2002">2002</th><td><i  data-doc="math_fmod_impl">    x: double</i></td></tr>
<tr><th id="2003">2003</th><td><i  data-doc="math_fmod_impl">    y: double</i></td></tr>
<tr><th id="2004">2004</th><td><i  data-doc="math_fmod_impl">    /</i></td></tr>
<tr><th id="2005">2005</th><td><i  data-doc="math_fmod_impl"></i></td></tr>
<tr><th id="2006">2006</th><td><i  data-doc="math_fmod_impl">Return fmod(x, y), according to platform C.</i></td></tr>
<tr><th id="2007">2007</th><td><i  data-doc="math_fmod_impl"></i></td></tr>
<tr><th id="2008">2008</th><td><i  data-doc="math_fmod_impl">x % y may differ.</i></td></tr>
<tr><th id="2009">2009</th><td><i  data-doc="math_fmod_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2010">2010</th><td></td></tr>
<tr><th id="2011">2011</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2012">2012</th><td><dfn class="tu decl def" id="math_fmod_impl" title='math_fmod_impl' data-type='PyObject * math_fmod_impl(PyObject * module, double x, double y)' data-ref="math_fmod_impl">math_fmod_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="346module" title='module' data-type='PyObject *' data-ref="346module">module</dfn>, <em>double</em> <dfn class="local col7 decl" id="347x" title='x' data-type='double' data-ref="347x">x</dfn>, <em>double</em> <dfn class="local col8 decl" id="348y" title='y' data-type='double' data-ref="348y">y</dfn>)</td></tr>
<tr><th id="2013">2013</th><td><i>/*[clinic end generated code: output=7559d794343a27b5 input=4f84caa8cfc26a03]*/</i></td></tr>
<tr><th id="2014">2014</th><td>{</td></tr>
<tr><th id="2015">2015</th><td>    <em>double</em> <dfn class="local col9 decl" id="349r" title='r' data-type='double' data-ref="349r">r</dfn>;</td></tr>
<tr><th id="2016">2016</th><td>    <i>/* fmod(x, +/-Inf) returns x for finite x. */</i></td></tr>
<tr><th id="2017">2017</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col8 ref" href="#348y" title='y' data-ref="348y">y</a>) &amp;&amp; <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col7 ref" href="#347x" title='x' data-ref="347x">x</a>))</td></tr>
<tr><th id="2018">2018</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col7 ref" href="#347x" title='x' data-ref="347x">x</a>);</td></tr>
<tr><th id="2019">2019</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2020">2020</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_fmod"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="2021">2021</th><td>    <a class="local col9 ref" href="#349r" title='r' data-ref="349r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#187" title='fmod' data-ref="fmod">fmod</a>(<a class="local col7 ref" href="#347x" title='x' data-ref="347x">x</a>, <a class="local col8 ref" href="#348y" title='y' data-ref="348y">y</a>);</td></tr>
<tr><th id="2022">2022</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="2023">2023</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (r) == sizeof (float) ? __isnanf (r) : sizeof (r) == sizeof (double) ? __isnan (r) : __isnanl (r))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col9 ref" href="#349r" title='r' data-ref="349r">r</a>)) {</td></tr>
<tr><th id="2024">2024</th><td>        <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col7 ref" href="#347x" title='x' data-ref="347x">x</a>) &amp;&amp; !<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col8 ref" href="#348y" title='y' data-ref="348y">y</a>))</td></tr>
<tr><th id="2025">2025</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="2026">2026</th><td>        <b>else</b></td></tr>
<tr><th id="2027">2027</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2028">2028</th><td>    }</td></tr>
<tr><th id="2029">2029</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col9 ref" href="#349r" title='r' data-ref="349r">r</a>))</td></tr>
<tr><th id="2030">2030</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2031">2031</th><td>    <b>else</b></td></tr>
<tr><th id="2032">2032</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col9 ref" href="#349r" title='r' data-ref="349r">r</a>);</td></tr>
<tr><th id="2033">2033</th><td>}</td></tr>
<tr><th id="2034">2034</th><td></td></tr>
<tr><th id="2035">2035</th><td></td></tr>
<tr><th id="2036">2036</th><td><i  data-doc="math_hypot_impl">/*[clinic input]</i></td></tr>
<tr><th id="2037">2037</th><td><i  data-doc="math_hypot_impl">math.hypot</i></td></tr>
<tr><th id="2038">2038</th><td><i  data-doc="math_hypot_impl"></i></td></tr>
<tr><th id="2039">2039</th><td><i  data-doc="math_hypot_impl">    x: double</i></td></tr>
<tr><th id="2040">2040</th><td><i  data-doc="math_hypot_impl">    y: double</i></td></tr>
<tr><th id="2041">2041</th><td><i  data-doc="math_hypot_impl">    /</i></td></tr>
<tr><th id="2042">2042</th><td><i  data-doc="math_hypot_impl"></i></td></tr>
<tr><th id="2043">2043</th><td><i  data-doc="math_hypot_impl">Return the Euclidean distance, sqrt(x*x + y*y).</i></td></tr>
<tr><th id="2044">2044</th><td><i  data-doc="math_hypot_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2045">2045</th><td></td></tr>
<tr><th id="2046">2046</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2047">2047</th><td><dfn class="tu decl def" id="math_hypot_impl" title='math_hypot_impl' data-type='PyObject * math_hypot_impl(PyObject * module, double x, double y)' data-ref="math_hypot_impl">math_hypot_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="350module" title='module' data-type='PyObject *' data-ref="350module">module</dfn>, <em>double</em> <dfn class="local col1 decl" id="351x" title='x' data-type='double' data-ref="351x">x</dfn>, <em>double</em> <dfn class="local col2 decl" id="352y" title='y' data-type='double' data-ref="352y">y</dfn>)</td></tr>
<tr><th id="2048">2048</th><td><i>/*[clinic end generated code: output=b7686e5be468ef87 input=7f8eea70406474aa]*/</i></td></tr>
<tr><th id="2049">2049</th><td>{</td></tr>
<tr><th id="2050">2050</th><td>    <em>double</em> <dfn class="local col3 decl" id="353r" title='r' data-type='double' data-ref="353r">r</dfn>;</td></tr>
<tr><th id="2051">2051</th><td>    <i>/* hypot(x, +/-Inf) returns Inf, even if x is a NaN. */</i></td></tr>
<tr><th id="2052">2052</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#351x" title='x' data-ref="351x">x</a>))</td></tr>
<tr><th id="2053">2053</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col1 ref" href="#351x" title='x' data-ref="351x">x</a>));</td></tr>
<tr><th id="2054">2054</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col2 ref" href="#352y" title='y' data-ref="352y">y</a>))</td></tr>
<tr><th id="2055">2055</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col2 ref" href="#352y" title='y' data-ref="352y">y</a>));</td></tr>
<tr><th id="2056">2056</th><td>    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2057">2057</th><td>    <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_hypot"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="2058">2058</th><td>    <a class="local col3 ref" href="#353r" title='r' data-ref="353r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#162" title='hypot' data-ref="hypot">hypot</a>(<a class="local col1 ref" href="#351x" title='x' data-ref="351x">x</a>, <a class="local col2 ref" href="#352y" title='y' data-ref="352y">y</a>);</td></tr>
<tr><th id="2059">2059</th><td>    <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="2060">2060</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (r) == sizeof (float) ? __isnanf (r) : sizeof (r) == sizeof (double) ? __isnan (r) : __isnanl (r))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col3 ref" href="#353r" title='r' data-ref="353r">r</a>)) {</td></tr>
<tr><th id="2061">2061</th><td>        <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col1 ref" href="#351x" title='x' data-ref="351x">x</a>) &amp;&amp; !<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col2 ref" href="#352y" title='y' data-ref="352y">y</a>))</td></tr>
<tr><th id="2062">2062</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="2063">2063</th><td>        <b>else</b></td></tr>
<tr><th id="2064">2064</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2065">2065</th><td>    }</td></tr>
<tr><th id="2066">2066</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col3 ref" href="#353r" title='r' data-ref="353r">r</a>)) {</td></tr>
<tr><th id="2067">2067</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col1 ref" href="#351x" title='x' data-ref="351x">x</a>) &amp;&amp; <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (y) == sizeof (float) ? __finitef (y) : sizeof (y) == sizeof (double) ? __finite (y) : __finitel (y))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col2 ref" href="#352y" title='y' data-ref="352y">y</a>))</td></tr>
<tr><th id="2068">2068</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="2069">2069</th><td>        <b>else</b></td></tr>
<tr><th id="2070">2070</th><td>            <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2071">2071</th><td>    }</td></tr>
<tr><th id="2072">2072</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col3 ref" href="#353r" title='r' data-ref="353r">r</a>))</td></tr>
<tr><th id="2073">2073</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2074">2074</th><td>    <b>else</b></td></tr>
<tr><th id="2075">2075</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col3 ref" href="#353r" title='r' data-ref="353r">r</a>);</td></tr>
<tr><th id="2076">2076</th><td>}</td></tr>
<tr><th id="2077">2077</th><td></td></tr>
<tr><th id="2078">2078</th><td></td></tr>
<tr><th id="2079">2079</th><td><i>/* pow can't use math_2, but needs its own wrapper: the problem is</i></td></tr>
<tr><th id="2080">2080</th><td><i>   that an infinite result can arise either as a result of overflow</i></td></tr>
<tr><th id="2081">2081</th><td><i>   (in which case OverflowError should be raised) or as a result of</i></td></tr>
<tr><th id="2082">2082</th><td><i>   e.g. 0.**-5. (for which ValueError needs to be raised.)</i></td></tr>
<tr><th id="2083">2083</th><td><i>*/</i></td></tr>
<tr><th id="2084">2084</th><td></td></tr>
<tr><th id="2085">2085</th><td><i  data-doc="math_pow_impl">/*[clinic input]</i></td></tr>
<tr><th id="2086">2086</th><td><i  data-doc="math_pow_impl">math.pow</i></td></tr>
<tr><th id="2087">2087</th><td><i  data-doc="math_pow_impl"></i></td></tr>
<tr><th id="2088">2088</th><td><i  data-doc="math_pow_impl">    x: double</i></td></tr>
<tr><th id="2089">2089</th><td><i  data-doc="math_pow_impl">    y: double</i></td></tr>
<tr><th id="2090">2090</th><td><i  data-doc="math_pow_impl">    /</i></td></tr>
<tr><th id="2091">2091</th><td><i  data-doc="math_pow_impl"></i></td></tr>
<tr><th id="2092">2092</th><td><i  data-doc="math_pow_impl">Return x**y (x to the power of y).</i></td></tr>
<tr><th id="2093">2093</th><td><i  data-doc="math_pow_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2094">2094</th><td></td></tr>
<tr><th id="2095">2095</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2096">2096</th><td><dfn class="tu decl def" id="math_pow_impl" title='math_pow_impl' data-type='PyObject * math_pow_impl(PyObject * module, double x, double y)' data-ref="math_pow_impl">math_pow_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="354module" title='module' data-type='PyObject *' data-ref="354module">module</dfn>, <em>double</em> <dfn class="local col5 decl" id="355x" title='x' data-type='double' data-ref="355x">x</dfn>, <em>double</em> <dfn class="local col6 decl" id="356y" title='y' data-type='double' data-ref="356y">y</dfn>)</td></tr>
<tr><th id="2097">2097</th><td><i>/*[clinic end generated code: output=fff93e65abccd6b0 input=c26f1f6075088bfd]*/</i></td></tr>
<tr><th id="2098">2098</th><td>{</td></tr>
<tr><th id="2099">2099</th><td>    <em>double</em> <dfn class="local col7 decl" id="357r" title='r' data-type='double' data-ref="357r">r</dfn>;</td></tr>
<tr><th id="2100">2100</th><td>    <em>int</em> <dfn class="local col8 decl" id="358odd_y" title='odd_y' data-type='int' data-ref="358odd_y">odd_y</dfn>;</td></tr>
<tr><th id="2101">2101</th><td></td></tr>
<tr><th id="2102">2102</th><td>    <i>/* deal directly with IEEE specials, to cope with problems on various</i></td></tr>
<tr><th id="2103">2103</th><td><i>       platforms whose semantics don't exactly match C99 */</i></td></tr>
<tr><th id="2104">2104</th><td>    <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <var>0.</var>; <i>/* silence compiler warning */</i></td></tr>
<tr><th id="2105">2105</th><td>    <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>) || !<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (y) == sizeof (float) ? __finitef (y) : sizeof (y) == sizeof (double) ? __finite (y) : __finitel (y))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>)) {</td></tr>
<tr><th id="2106">2106</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2107">2107</th><td>        <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>))</td></tr>
<tr><th id="2108">2108</th><td>            <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a> == <var>0.</var> ? <var>1.</var> : <a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>; <i>/* NaN**0 = 1 */</i></td></tr>
<tr><th id="2109">2109</th><td>        <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (y) == sizeof (float) ? __isnanf (y) : sizeof (y) == sizeof (double) ? __isnan (y) : __isnanl (y))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>))</td></tr>
<tr><th id="2110">2110</th><td>            <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a> == <var>1.</var> ? <var>1.</var> : <a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>; <i>/* 1**NaN = 1 */</i></td></tr>
<tr><th id="2111">2111</th><td>        <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>)) {</td></tr>
<tr><th id="2112">2112</th><td>            <a class="local col8 ref" href="#358odd_y" title='odd_y' data-ref="358odd_y">odd_y</a> = <a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (y) == sizeof (float) ? __finitef (y) : sizeof (y) == sizeof (double) ? __finite (y) : __finitel (y))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>) &amp;&amp; <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#187" title='fmod' data-ref="fmod">fmod</a>(<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>), <var>2.0</var>) == <var>1.0</var>;</td></tr>
<tr><th id="2113">2113</th><td>            <b>if</b> (<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a> &gt; <var>0.</var>)</td></tr>
<tr><th id="2114">2114</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="local col8 ref" href="#358odd_y" title='odd_y' data-ref="358odd_y">odd_y</a> ? <a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a> : <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>);</td></tr>
<tr><th id="2115">2115</th><td>            <b>else</b> <b>if</b> (<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a> == <var>0.</var>)</td></tr>
<tr><th id="2116">2116</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <var>1.</var>;</td></tr>
<tr><th id="2117">2117</th><td>            <b>else</b> <i>/* y &lt; 0. */</i></td></tr>
<tr><th id="2118">2118</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="local col8 ref" href="#358odd_y" title='odd_y' data-ref="358odd_y">odd_y</a> ? <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#221" title='copysign' data-ref="copysign">copysign</a>(<var>0.</var>, <a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>) : <var>0.</var>;</td></tr>
<tr><th id="2119">2119</th><td>        }</td></tr>
<tr><th id="2120">2120</th><td>        <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (y) == sizeof (float) ? __isinff (y) : sizeof (y) == sizeof (double) ? __isinf (y) : __isinfl (y))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>)) {</td></tr>
<tr><th id="2121">2121</th><td>            <b>if</b> (<a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>) == <var>1.0</var>)</td></tr>
<tr><th id="2122">2122</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <var>1.</var>;</td></tr>
<tr><th id="2123">2123</th><td>            <b>else</b> <b>if</b> (<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a> &gt; <var>0.</var> &amp;&amp; <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>) &gt; <var>1.0</var>)</td></tr>
<tr><th id="2124">2124</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>;</td></tr>
<tr><th id="2125">2125</th><td>            <b>else</b> <b>if</b> (<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a> &lt; <var>0.</var> &amp;&amp; <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>) &lt; <var>1.0</var>) {</td></tr>
<tr><th id="2126">2126</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = -<a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>; <i>/* result is +inf */</i></td></tr>
<tr><th id="2127">2127</th><td>                <b>if</b> (<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a> == <var>0.</var>) <i>/* 0**-inf: divide-by-zero */</i></td></tr>
<tr><th id="2128">2128</th><td>                    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="2129">2129</th><td>            }</td></tr>
<tr><th id="2130">2130</th><td>            <b>else</b></td></tr>
<tr><th id="2131">2131</th><td>                <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <var>0.</var>;</td></tr>
<tr><th id="2132">2132</th><td>        }</td></tr>
<tr><th id="2133">2133</th><td>    }</td></tr>
<tr><th id="2134">2134</th><td>    <b>else</b> {</td></tr>
<tr><th id="2135">2135</th><td>        <i>/* let libm handle finite**finite */</i></td></tr>
<tr><th id="2136">2136</th><td>        <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <var>0</var>;</td></tr>
<tr><th id="2137">2137</th><td>        <a class="macro" href="../Include/pyfpe.h.html#168" title="" data-ref="_M/PyFPE_START_PROTECT">PyFPE_START_PROTECT</a>(<q>"in math_pow"</q>, <b>return</b> <var>0</var>);</td></tr>
<tr><th id="2138">2138</th><td>        <a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#153" title='pow' data-ref="pow">pow</a>(<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a>, <a class="local col6 ref" href="#356y" title='y' data-ref="356y">y</a>);</td></tr>
<tr><th id="2139">2139</th><td>        <a class="macro" href="../Include/pyfpe.h.html#169" title="" data-ref="_M/PyFPE_END_PROTECT">PyFPE_END_PROTECT</a>(r);</td></tr>
<tr><th id="2140">2140</th><td>        <i>/* a NaN result should arise only from (-ve)**(finite</i></td></tr>
<tr><th id="2141">2141</th><td><i>           non-integer); in this case we want to raise ValueError. */</i></td></tr>
<tr><th id="2142">2142</th><td>        <b>if</b> (!<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (r) == sizeof (float) ? __finitef (r) : sizeof (r) == sizeof (double) ? __finite (r) : __finitel (r))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a>)) {</td></tr>
<tr><th id="2143">2143</th><td>            <b>if</b> (<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (r) == sizeof (float) ? __isnanf (r) : sizeof (r) == sizeof (double) ? __isnan (r) : __isnanl (r))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a>)) {</td></tr>
<tr><th id="2144">2144</th><td>                <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="2145">2145</th><td>            }</td></tr>
<tr><th id="2146">2146</th><td>            <i>/*</i></td></tr>
<tr><th id="2147">2147</th><td><i>               an infinite result here arises either from:</i></td></tr>
<tr><th id="2148">2148</th><td><i>               (A) (+/-0.)**negative (-&gt; divide-by-zero)</i></td></tr>
<tr><th id="2149">2149</th><td><i>               (B) overflow of x**y with x and y finite</i></td></tr>
<tr><th id="2150">2150</th><td><i>            */</i></td></tr>
<tr><th id="2151">2151</th><td>            <b>else</b> <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (r) == sizeof (float) ? __isinff (r) : sizeof (r) == sizeof (double) ? __isinf (r) : __isinfl (r))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a>)) {</td></tr>
<tr><th id="2152">2152</th><td>                <b>if</b> (<a class="local col5 ref" href="#355x" title='x' data-ref="355x">x</a> == <var>0.</var>)</td></tr>
<tr><th id="2153">2153</th><td>                    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#36" title="33" data-ref="_M/EDOM">EDOM</a>;</td></tr>
<tr><th id="2154">2154</th><td>                <b>else</b></td></tr>
<tr><th id="2155">2155</th><td>                    <a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>;</td></tr>
<tr><th id="2156">2156</th><td>            }</td></tr>
<tr><th id="2157">2157</th><td>        }</td></tr>
<tr><th id="2158">2158</th><td>    }</td></tr>
<tr><th id="2159">2159</th><td></td></tr>
<tr><th id="2160">2160</th><td>    <b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> &amp;&amp; <a class="tu ref" href="#is_error" title='is_error' data-use='c' data-ref="is_error">is_error</a>(<a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a>))</td></tr>
<tr><th id="2161">2161</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2162">2162</th><td>    <b>else</b></td></tr>
<tr><th id="2163">2163</th><td>        <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col7 ref" href="#357r" title='r' data-ref="357r">r</a>);</td></tr>
<tr><th id="2164">2164</th><td>}</td></tr>
<tr><th id="2165">2165</th><td></td></tr>
<tr><th id="2166">2166</th><td></td></tr>
<tr><th id="2167">2167</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="degToRad" title='degToRad' data-type='const double' data-ref="degToRad">degToRad</dfn> = <a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a> / <var>180.0</var>;</td></tr>
<tr><th id="2168">2168</th><td><em>static</em> <em>const</em> <em>double</em> <dfn class="tu decl def" id="radToDeg" title='radToDeg' data-type='const double' data-ref="radToDeg">radToDeg</dfn> = <var>180.0</var> / <a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>;</td></tr>
<tr><th id="2169">2169</th><td></td></tr>
<tr><th id="2170">2170</th><td><i  data-doc="math_degrees_impl">/*[clinic input]</i></td></tr>
<tr><th id="2171">2171</th><td><i  data-doc="math_degrees_impl">math.degrees</i></td></tr>
<tr><th id="2172">2172</th><td><i  data-doc="math_degrees_impl"></i></td></tr>
<tr><th id="2173">2173</th><td><i  data-doc="math_degrees_impl">    x: double</i></td></tr>
<tr><th id="2174">2174</th><td><i  data-doc="math_degrees_impl">    /</i></td></tr>
<tr><th id="2175">2175</th><td><i  data-doc="math_degrees_impl"></i></td></tr>
<tr><th id="2176">2176</th><td><i  data-doc="math_degrees_impl">Convert angle x from radians to degrees.</i></td></tr>
<tr><th id="2177">2177</th><td><i  data-doc="math_degrees_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2178">2178</th><td></td></tr>
<tr><th id="2179">2179</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2180">2180</th><td><dfn class="tu decl def" id="math_degrees_impl" title='math_degrees_impl' data-type='PyObject * math_degrees_impl(PyObject * module, double x)' data-ref="math_degrees_impl">math_degrees_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="359module" title='module' data-type='PyObject *' data-ref="359module">module</dfn>, <em>double</em> <dfn class="local col0 decl" id="360x" title='x' data-type='double' data-ref="360x">x</dfn>)</td></tr>
<tr><th id="2181">2181</th><td><i>/*[clinic end generated code: output=7fea78b294acd12f input=81e016555d6e3660]*/</i></td></tr>
<tr><th id="2182">2182</th><td>{</td></tr>
<tr><th id="2183">2183</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col0 ref" href="#360x" title='x' data-ref="360x">x</a> * <a class="tu ref" href="#radToDeg" title='radToDeg' data-use='r' data-ref="radToDeg">radToDeg</a>);</td></tr>
<tr><th id="2184">2184</th><td>}</td></tr>
<tr><th id="2185">2185</th><td></td></tr>
<tr><th id="2186">2186</th><td></td></tr>
<tr><th id="2187">2187</th><td><i  data-doc="math_radians_impl">/*[clinic input]</i></td></tr>
<tr><th id="2188">2188</th><td><i  data-doc="math_radians_impl">math.radians</i></td></tr>
<tr><th id="2189">2189</th><td><i  data-doc="math_radians_impl"></i></td></tr>
<tr><th id="2190">2190</th><td><i  data-doc="math_radians_impl">    x: double</i></td></tr>
<tr><th id="2191">2191</th><td><i  data-doc="math_radians_impl">    /</i></td></tr>
<tr><th id="2192">2192</th><td><i  data-doc="math_radians_impl"></i></td></tr>
<tr><th id="2193">2193</th><td><i  data-doc="math_radians_impl">Convert angle x from degrees to radians.</i></td></tr>
<tr><th id="2194">2194</th><td><i  data-doc="math_radians_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2195">2195</th><td></td></tr>
<tr><th id="2196">2196</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2197">2197</th><td><dfn class="tu decl def" id="math_radians_impl" title='math_radians_impl' data-type='PyObject * math_radians_impl(PyObject * module, double x)' data-ref="math_radians_impl">math_radians_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="361module" title='module' data-type='PyObject *' data-ref="361module">module</dfn>, <em>double</em> <dfn class="local col2 decl" id="362x" title='x' data-type='double' data-ref="362x">x</dfn>)</td></tr>
<tr><th id="2198">2198</th><td><i>/*[clinic end generated code: output=34daa47caf9b1590 input=91626fc489fe3d63]*/</i></td></tr>
<tr><th id="2199">2199</th><td>{</td></tr>
<tr><th id="2200">2200</th><td>    <b>return</b> <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col2 ref" href="#362x" title='x' data-ref="362x">x</a> * <a class="tu ref" href="#degToRad" title='degToRad' data-use='r' data-ref="degToRad">degToRad</a>);</td></tr>
<tr><th id="2201">2201</th><td>}</td></tr>
<tr><th id="2202">2202</th><td></td></tr>
<tr><th id="2203">2203</th><td></td></tr>
<tr><th id="2204">2204</th><td><i  data-doc="math_isfinite_impl">/*[clinic input]</i></td></tr>
<tr><th id="2205">2205</th><td><i  data-doc="math_isfinite_impl">math.isfinite</i></td></tr>
<tr><th id="2206">2206</th><td><i  data-doc="math_isfinite_impl"></i></td></tr>
<tr><th id="2207">2207</th><td><i  data-doc="math_isfinite_impl">    x: double</i></td></tr>
<tr><th id="2208">2208</th><td><i  data-doc="math_isfinite_impl">    /</i></td></tr>
<tr><th id="2209">2209</th><td><i  data-doc="math_isfinite_impl"></i></td></tr>
<tr><th id="2210">2210</th><td><i  data-doc="math_isfinite_impl">Return True if x is neither an infinity nor a NaN, and False otherwise.</i></td></tr>
<tr><th id="2211">2211</th><td><i  data-doc="math_isfinite_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2212">2212</th><td></td></tr>
<tr><th id="2213">2213</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2214">2214</th><td><dfn class="tu decl def" id="math_isfinite_impl" title='math_isfinite_impl' data-type='PyObject * math_isfinite_impl(PyObject * module, double x)' data-ref="math_isfinite_impl">math_isfinite_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="363module" title='module' data-type='PyObject *' data-ref="363module">module</dfn>, <em>double</em> <dfn class="local col4 decl" id="364x" title='x' data-type='double' data-ref="364x">x</dfn>)</td></tr>
<tr><th id="2215">2215</th><td><i>/*[clinic end generated code: output=8ba1f396440c9901 input=46967d254812e54a]*/</i></td></tr>
<tr><th id="2216">2216</th><td>{</td></tr>
<tr><th id="2217">2217</th><td>    <b>return</b> <a class="ref" href="../Include/boolobject.h.html#PyBool_FromLong" title='PyBool_FromLong' data-ref="PyBool_FromLong">PyBool_FromLong</a>((<em>long</em>)<a class="macro" href="../Include/pymath.h.html#134" title="(sizeof (x) == sizeof (float) ? __finitef (x) : sizeof (x) == sizeof (double) ? __finite (x) : __finitel (x))" data-ref="_M/Py_IS_FINITE">Py_IS_FINITE</a>(<a class="local col4 ref" href="#364x" title='x' data-ref="364x">x</a>));</td></tr>
<tr><th id="2218">2218</th><td>}</td></tr>
<tr><th id="2219">2219</th><td></td></tr>
<tr><th id="2220">2220</th><td></td></tr>
<tr><th id="2221">2221</th><td><i  data-doc="math_isnan_impl">/*[clinic input]</i></td></tr>
<tr><th id="2222">2222</th><td><i  data-doc="math_isnan_impl">math.isnan</i></td></tr>
<tr><th id="2223">2223</th><td><i  data-doc="math_isnan_impl"></i></td></tr>
<tr><th id="2224">2224</th><td><i  data-doc="math_isnan_impl">    x: double</i></td></tr>
<tr><th id="2225">2225</th><td><i  data-doc="math_isnan_impl">    /</i></td></tr>
<tr><th id="2226">2226</th><td><i  data-doc="math_isnan_impl"></i></td></tr>
<tr><th id="2227">2227</th><td><i  data-doc="math_isnan_impl">Return True if x is a NaN (not a number), and False otherwise.</i></td></tr>
<tr><th id="2228">2228</th><td><i  data-doc="math_isnan_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2229">2229</th><td></td></tr>
<tr><th id="2230">2230</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2231">2231</th><td><dfn class="tu decl def" id="math_isnan_impl" title='math_isnan_impl' data-type='PyObject * math_isnan_impl(PyObject * module, double x)' data-ref="math_isnan_impl">math_isnan_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="365module" title='module' data-type='PyObject *' data-ref="365module">module</dfn>, <em>double</em> <dfn class="local col6 decl" id="366x" title='x' data-type='double' data-ref="366x">x</dfn>)</td></tr>
<tr><th id="2232">2232</th><td><i>/*[clinic end generated code: output=f537b4d6df878c3e input=935891e66083f46a]*/</i></td></tr>
<tr><th id="2233">2233</th><td>{</td></tr>
<tr><th id="2234">2234</th><td>    <b>return</b> <a class="ref" href="../Include/boolobject.h.html#PyBool_FromLong" title='PyBool_FromLong' data-ref="PyBool_FromLong">PyBool_FromLong</a>((<em>long</em>)<a class="macro" href="../Include/pymath.h.html#99" title="(sizeof (x) == sizeof (float) ? __isnanf (x) : sizeof (x) == sizeof (double) ? __isnan (x) : __isnanl (x))" data-ref="_M/Py_IS_NAN">Py_IS_NAN</a>(<a class="local col6 ref" href="#366x" title='x' data-ref="366x">x</a>));</td></tr>
<tr><th id="2235">2235</th><td>}</td></tr>
<tr><th id="2236">2236</th><td></td></tr>
<tr><th id="2237">2237</th><td></td></tr>
<tr><th id="2238">2238</th><td><i  data-doc="math_isinf_impl">/*[clinic input]</i></td></tr>
<tr><th id="2239">2239</th><td><i  data-doc="math_isinf_impl">math.isinf</i></td></tr>
<tr><th id="2240">2240</th><td><i  data-doc="math_isinf_impl"></i></td></tr>
<tr><th id="2241">2241</th><td><i  data-doc="math_isinf_impl">    x: double</i></td></tr>
<tr><th id="2242">2242</th><td><i  data-doc="math_isinf_impl">    /</i></td></tr>
<tr><th id="2243">2243</th><td><i  data-doc="math_isinf_impl"></i></td></tr>
<tr><th id="2244">2244</th><td><i  data-doc="math_isinf_impl">Return True if x is a positive or negative infinity, and False otherwise.</i></td></tr>
<tr><th id="2245">2245</th><td><i  data-doc="math_isinf_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2246">2246</th><td></td></tr>
<tr><th id="2247">2247</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="2248">2248</th><td><dfn class="tu decl def" id="math_isinf_impl" title='math_isinf_impl' data-type='PyObject * math_isinf_impl(PyObject * module, double x)' data-ref="math_isinf_impl">math_isinf_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="367module" title='module' data-type='PyObject *' data-ref="367module">module</dfn>, <em>double</em> <dfn class="local col8 decl" id="368x" title='x' data-type='double' data-ref="368x">x</dfn>)</td></tr>
<tr><th id="2249">2249</th><td><i>/*[clinic end generated code: output=9f00cbec4de7b06b input=32630e4212cf961f]*/</i></td></tr>
<tr><th id="2250">2250</th><td>{</td></tr>
<tr><th id="2251">2251</th><td>    <b>return</b> <a class="ref" href="../Include/boolobject.h.html#PyBool_FromLong" title='PyBool_FromLong' data-ref="PyBool_FromLong">PyBool_FromLong</a>((<em>long</em>)<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (x) == sizeof (float) ? __isinff (x) : sizeof (x) == sizeof (double) ? __isinf (x) : __isinfl (x))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col8 ref" href="#368x" title='x' data-ref="368x">x</a>));</td></tr>
<tr><th id="2252">2252</th><td>}</td></tr>
<tr><th id="2253">2253</th><td></td></tr>
<tr><th id="2254">2254</th><td></td></tr>
<tr><th id="2255">2255</th><td><i  data-doc="math_isclose_impl">/*[clinic input]</i></td></tr>
<tr><th id="2256">2256</th><td><i  data-doc="math_isclose_impl">math.isclose -&gt; bool</i></td></tr>
<tr><th id="2257">2257</th><td><i  data-doc="math_isclose_impl"></i></td></tr>
<tr><th id="2258">2258</th><td><i  data-doc="math_isclose_impl">    a: double</i></td></tr>
<tr><th id="2259">2259</th><td><i  data-doc="math_isclose_impl">    b: double</i></td></tr>
<tr><th id="2260">2260</th><td><i  data-doc="math_isclose_impl">    *</i></td></tr>
<tr><th id="2261">2261</th><td><i  data-doc="math_isclose_impl">    rel_tol: double = 1e-09</i></td></tr>
<tr><th id="2262">2262</th><td><i  data-doc="math_isclose_impl">        maximum difference for being considered "close", relative to the</i></td></tr>
<tr><th id="2263">2263</th><td><i  data-doc="math_isclose_impl">        magnitude of the input values</i></td></tr>
<tr><th id="2264">2264</th><td><i  data-doc="math_isclose_impl">    abs_tol: double = 0.0</i></td></tr>
<tr><th id="2265">2265</th><td><i  data-doc="math_isclose_impl">        maximum difference for being considered "close", regardless of the</i></td></tr>
<tr><th id="2266">2266</th><td><i  data-doc="math_isclose_impl">        magnitude of the input values</i></td></tr>
<tr><th id="2267">2267</th><td><i  data-doc="math_isclose_impl"></i></td></tr>
<tr><th id="2268">2268</th><td><i  data-doc="math_isclose_impl">Determine whether two floating point numbers are close in value.</i></td></tr>
<tr><th id="2269">2269</th><td><i  data-doc="math_isclose_impl"></i></td></tr>
<tr><th id="2270">2270</th><td><i  data-doc="math_isclose_impl">Return True if a is close in value to b, and False otherwise.</i></td></tr>
<tr><th id="2271">2271</th><td><i  data-doc="math_isclose_impl"></i></td></tr>
<tr><th id="2272">2272</th><td><i  data-doc="math_isclose_impl">For the values to be considered close, the difference between them</i></td></tr>
<tr><th id="2273">2273</th><td><i  data-doc="math_isclose_impl">must be smaller than at least one of the tolerances.</i></td></tr>
<tr><th id="2274">2274</th><td><i  data-doc="math_isclose_impl"></i></td></tr>
<tr><th id="2275">2275</th><td><i  data-doc="math_isclose_impl">-inf, inf and NaN behave similarly to the IEEE 754 Standard.  That</i></td></tr>
<tr><th id="2276">2276</th><td><i  data-doc="math_isclose_impl">is, NaN is not close to anything, even itself.  inf and -inf are</i></td></tr>
<tr><th id="2277">2277</th><td><i  data-doc="math_isclose_impl">only close to themselves.</i></td></tr>
<tr><th id="2278">2278</th><td><i  data-doc="math_isclose_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="2279">2279</th><td></td></tr>
<tr><th id="2280">2280</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="2281">2281</th><td><dfn class="tu decl def" id="math_isclose_impl" title='math_isclose_impl' data-type='int math_isclose_impl(PyObject * module, double a, double b, double rel_tol, double abs_tol)' data-ref="math_isclose_impl">math_isclose_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="369module" title='module' data-type='PyObject *' data-ref="369module">module</dfn>, <em>double</em> <dfn class="local col0 decl" id="370a" title='a' data-type='double' data-ref="370a">a</dfn>, <em>double</em> <dfn class="local col1 decl" id="371b" title='b' data-type='double' data-ref="371b">b</dfn>, <em>double</em> <dfn class="local col2 decl" id="372rel_tol" title='rel_tol' data-type='double' data-ref="372rel_tol">rel_tol</dfn>,</td></tr>
<tr><th id="2282">2282</th><td>                  <em>double</em> <dfn class="local col3 decl" id="373abs_tol" title='abs_tol' data-type='double' data-ref="373abs_tol">abs_tol</dfn>)</td></tr>
<tr><th id="2283">2283</th><td><i>/*[clinic end generated code: output=b73070207511952d input=f28671871ea5bfba]*/</i></td></tr>
<tr><th id="2284">2284</th><td>{</td></tr>
<tr><th id="2285">2285</th><td>    <em>double</em> <dfn class="local col4 decl" id="374diff" title='diff' data-type='double' data-ref="374diff">diff</dfn> = <var>0.0</var>;</td></tr>
<tr><th id="2286">2286</th><td></td></tr>
<tr><th id="2287">2287</th><td>    <i>/* sanity check on the inputs */</i></td></tr>
<tr><th id="2288">2288</th><td>    <b>if</b> (<a class="local col2 ref" href="#372rel_tol" title='rel_tol' data-ref="372rel_tol">rel_tol</a> &lt; <var>0.0</var> || <a class="local col3 ref" href="#373abs_tol" title='abs_tol' data-ref="373abs_tol">abs_tol</a> &lt; <var>0.0</var> ) {</td></tr>
<tr><th id="2289">2289</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="2290">2290</th><td>                        <q>"tolerances must be non-negative"</q>);</td></tr>
<tr><th id="2291">2291</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="2292">2292</th><td>    }</td></tr>
<tr><th id="2293">2293</th><td></td></tr>
<tr><th id="2294">2294</th><td>    <b>if</b> ( <a class="local col0 ref" href="#370a" title='a' data-ref="370a">a</a> == <a class="local col1 ref" href="#371b" title='b' data-ref="371b">b</a> ) {</td></tr>
<tr><th id="2295">2295</th><td>        <i>/* short circuit exact equality -- needed to catch two infinities of</i></td></tr>
<tr><th id="2296">2296</th><td><i>           the same sign. And perhaps speeds things up a bit sometimes.</i></td></tr>
<tr><th id="2297">2297</th><td><i>        */</i></td></tr>
<tr><th id="2298">2298</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="2299">2299</th><td>    }</td></tr>
<tr><th id="2300">2300</th><td></td></tr>
<tr><th id="2301">2301</th><td>    <i>/* This catches the case of two infinities of opposite sign, or</i></td></tr>
<tr><th id="2302">2302</th><td><i>       one infinity and one finite number. Two infinities of opposite</i></td></tr>
<tr><th id="2303">2303</th><td><i>       sign would otherwise have an infinite relative tolerance.</i></td></tr>
<tr><th id="2304">2304</th><td><i>       Two infinities of the same sign are caught by the equality check</i></td></tr>
<tr><th id="2305">2305</th><td><i>       above.</i></td></tr>
<tr><th id="2306">2306</th><td><i>    */</i></td></tr>
<tr><th id="2307">2307</th><td></td></tr>
<tr><th id="2308">2308</th><td>    <b>if</b> (<a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (a) == sizeof (float) ? __isinff (a) : sizeof (a) == sizeof (double) ? __isinf (a) : __isinfl (a))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col0 ref" href="#370a" title='a' data-ref="370a">a</a>) || <a class="macro" href="../Include/pymath.h.html#119" title="(sizeof (b) == sizeof (float) ? __isinff (b) : sizeof (b) == sizeof (double) ? __isinf (b) : __isinfl (b))" data-ref="_M/Py_IS_INFINITY">Py_IS_INFINITY</a>(<a class="local col1 ref" href="#371b" title='b' data-ref="371b">b</a>)) {</td></tr>
<tr><th id="2309">2309</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="2310">2310</th><td>    }</td></tr>
<tr><th id="2311">2311</th><td></td></tr>
<tr><th id="2312">2312</th><td>    <i>/* now do the regular computation</i></td></tr>
<tr><th id="2313">2313</th><td><i>       this is essentially the "weak" test from the Boost library</i></td></tr>
<tr><th id="2314">2314</th><td><i>    */</i></td></tr>
<tr><th id="2315">2315</th><td></td></tr>
<tr><th id="2316">2316</th><td>    <a class="local col4 ref" href="#374diff" title='diff' data-ref="374diff">diff</a> = <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col1 ref" href="#371b" title='b' data-ref="371b">b</a> - <a class="local col0 ref" href="#370a" title='a' data-ref="370a">a</a>);</td></tr>
<tr><th id="2317">2317</th><td></td></tr>
<tr><th id="2318">2318</th><td>    <b>return</b> (((<a class="local col4 ref" href="#374diff" title='diff' data-ref="374diff">diff</a> &lt;= <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col2 ref" href="#372rel_tol" title='rel_tol' data-ref="372rel_tol">rel_tol</a> * <a class="local col1 ref" href="#371b" title='b' data-ref="371b">b</a>)) ||</td></tr>
<tr><th id="2319">2319</th><td>             (<a class="local col4 ref" href="#374diff" title='diff' data-ref="374diff">diff</a> &lt;= <a class="ref" href="../../include/x86_64-linux-gnu/bits/mathcalls.h.html#181" title='fabs' data-ref="fabs">fabs</a>(<a class="local col2 ref" href="#372rel_tol" title='rel_tol' data-ref="372rel_tol">rel_tol</a> * <a class="local col0 ref" href="#370a" title='a' data-ref="370a">a</a>))) ||</td></tr>
<tr><th id="2320">2320</th><td>            (<a class="local col4 ref" href="#374diff" title='diff' data-ref="374diff">diff</a> &lt;= <a class="local col3 ref" href="#373abs_tol" title='abs_tol' data-ref="373abs_tol">abs_tol</a>));</td></tr>
<tr><th id="2321">2321</th><td>}</td></tr>
<tr><th id="2322">2322</th><td></td></tr>
<tr><th id="2323">2323</th><td></td></tr>
<tr><th id="2324">2324</th><td><em>static</em> <a class="typedef" href="../Include/methodobject.h.html#PyMethodDef" title='PyMethodDef' data-type='struct PyMethodDef' data-ref="PyMethodDef">PyMethodDef</a> <dfn class="tu decl def" id="math_methods" title='math_methods' data-type='PyMethodDef [46]' data-ref="math_methods">math_methods</dfn>[] = {</td></tr>
<tr><th id="2325">2325</th><td>    {<q>"acos"</q>,            <a class="tu ref" href="#1051" title='math_acos' data-ref="math_acos">math_acos</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1051" title='math_acos_doc' data-ref="math_acos_doc">math_acos_doc</a>},</td></tr>
<tr><th id="2326">2326</th><td>    {<q>"acosh"</q>,           <a class="tu ref" href="#1054" title='math_acosh' data-ref="math_acosh">math_acosh</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1054" title='math_acosh_doc' data-ref="math_acosh_doc">math_acosh_doc</a>},</td></tr>
<tr><th id="2327">2327</th><td>    {<q>"asin"</q>,            <a class="tu ref" href="#1057" title='math_asin' data-ref="math_asin">math_asin</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1057" title='math_asin_doc' data-ref="math_asin_doc">math_asin_doc</a>},</td></tr>
<tr><th id="2328">2328</th><td>    {<q>"asinh"</q>,           <a class="tu ref" href="#1060" title='math_asinh' data-ref="math_asinh">math_asinh</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1060" title='math_asinh_doc' data-ref="math_asinh_doc">math_asinh_doc</a>},</td></tr>
<tr><th id="2329">2329</th><td>    {<q>"atan"</q>,            <a class="tu ref" href="#1063" title='math_atan' data-ref="math_atan">math_atan</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1063" title='math_atan_doc' data-ref="math_atan_doc">math_atan_doc</a>},</td></tr>
<tr><th id="2330">2330</th><td>    {<q>"atan2"</q>,           <a class="tu ref" href="#1066" title='math_atan2' data-ref="math_atan2">math_atan2</a>,     <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>,   <a class="ref" href="#1066" title='math_atan2_doc' data-ref="math_atan2_doc">math_atan2_doc</a>},</td></tr>
<tr><th id="2331">2331</th><td>    {<q>"atanh"</q>,           <a class="tu ref" href="#1070" title='math_atanh' data-ref="math_atanh">math_atanh</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1070" title='math_atanh_doc' data-ref="math_atanh_doc">math_atanh_doc</a>},</td></tr>
<tr><th id="2332">2332</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#43" title="{&quot;ceil&quot;, (PyCFunction)math_ceil, 0x0008, math_ceil__doc__}," data-ref="_M/MATH_CEIL_METHODDEF">MATH_CEIL_METHODDEF</a></td></tr>
<tr><th id="2333">2333</th><td>    {<q>"copysign"</q>,        <a class="tu ref" href="#1103" title='math_copysign' data-ref="math_copysign">math_copysign</a>,  <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>,   <a class="ref" href="#1103" title='math_copysign_doc' data-ref="math_copysign_doc">math_copysign_doc</a>},</td></tr>
<tr><th id="2334">2334</th><td>    {<q>"cos"</q>,             <a class="tu ref" href="#1108" title='math_cos' data-ref="math_cos">math_cos</a>,       <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1108" title='math_cos_doc' data-ref="math_cos_doc">math_cos_doc</a>},</td></tr>
<tr><th id="2335">2335</th><td>    {<q>"cosh"</q>,            <a class="tu ref" href="#1111" title='math_cosh' data-ref="math_cosh">math_cosh</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1111" title='math_cosh_doc' data-ref="math_cosh_doc">math_cosh_doc</a>},</td></tr>
<tr><th id="2336">2336</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#336" title="{&quot;degrees&quot;, (PyCFunction)math_degrees, 0x0008, math_degrees__doc__}," data-ref="_M/MATH_DEGREES_METHODDEF">MATH_DEGREES_METHODDEF</a></td></tr>
<tr><th id="2337">2337</th><td>    {<q>"erf"</q>,             <a class="tu ref" href="#1114" title='math_erf' data-ref="math_erf">math_erf</a>,       <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1114" title='math_erf_doc' data-ref="math_erf_doc">math_erf_doc</a>},</td></tr>
<tr><th id="2338">2338</th><td>    {<q>"erfc"</q>,            <a class="tu ref" href="#1117" title='math_erfc' data-ref="math_erfc">math_erfc</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1117" title='math_erfc_doc' data-ref="math_erfc_doc">math_erfc_doc</a>},</td></tr>
<tr><th id="2339">2339</th><td>    {<q>"exp"</q>,             <a class="tu ref" href="#1120" title='math_exp' data-ref="math_exp">math_exp</a>,       <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1120" title='math_exp_doc' data-ref="math_exp_doc">math_exp_doc</a>},</td></tr>
<tr><th id="2340">2340</th><td>    {<q>"expm1"</q>,           <a class="tu ref" href="#1123" title='math_expm1' data-ref="math_expm1">math_expm1</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1123" title='math_expm1_doc' data-ref="math_expm1_doc">math_expm1_doc</a>},</td></tr>
<tr><th id="2341">2341</th><td>    {<q>"fabs"</q>,            <a class="tu ref" href="#1128" title='math_fabs' data-ref="math_fabs">math_fabs</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1128" title='math_fabs_doc' data-ref="math_fabs_doc">math_fabs_doc</a>},</td></tr>
<tr><th id="2342">2342</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#76" title="{&quot;factorial&quot;, (PyCFunction)math_factorial, 0x0008, math_factorial__doc__}," data-ref="_M/MATH_FACTORIAL_METHODDEF">MATH_FACTORIAL_METHODDEF</a></td></tr>
<tr><th id="2343">2343</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#54" title="{&quot;floor&quot;, (PyCFunction)math_floor, 0x0008, math_floor__doc__}," data-ref="_M/MATH_FLOOR_METHODDEF">MATH_FLOOR_METHODDEF</a></td></tr>
<tr><th id="2344">2344</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#249" title="{&quot;fmod&quot;, (PyCFunction)math_fmod, 0x0080, math_fmod__doc__}," data-ref="_M/MATH_FMOD_METHODDEF">MATH_FMOD_METHODDEF</a></td></tr>
<tr><th id="2345">2345</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#99" title="{&quot;frexp&quot;, (PyCFunction)math_frexp, 0x0008, math_frexp__doc__}," data-ref="_M/MATH_FREXP_METHODDEF">MATH_FREXP_METHODDEF</a></td></tr>
<tr><th id="2346">2346</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#65" title="{&quot;fsum&quot;, (PyCFunction)math_fsum, 0x0008, math_fsum__doc__}," data-ref="_M/MATH_FSUM_METHODDEF">MATH_FSUM_METHODDEF</a></td></tr>
<tr><th id="2347">2347</th><td>    {<q>"gamma"</q>,           <a class="tu ref" href="#1161" title='math_gamma' data-ref="math_gamma">math_gamma</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1161" title='math_gamma_doc' data-ref="math_gamma_doc">math_gamma_doc</a>},</td></tr>
<tr><th id="2348">2348</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#11" title="{&quot;gcd&quot;, (PyCFunction)math_gcd, 0x0080, math_gcd__doc__}," data-ref="_M/MATH_GCD_METHODDEF">MATH_GCD_METHODDEF</a></td></tr>
<tr><th id="2349">2349</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#278" title="{&quot;hypot&quot;, (PyCFunction)math_hypot, 0x0080, math_hypot__doc__}," data-ref="_M/MATH_HYPOT_METHODDEF">MATH_HYPOT_METHODDEF</a></td></tr>
<tr><th id="2350">2350</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#487" title="{&quot;isclose&quot;, (PyCFunction)math_isclose, 0x0080|0x0002, math_isclose__doc__}," data-ref="_M/MATH_ISCLOSE_METHODDEF">MATH_ISCLOSE_METHODDEF</a></td></tr>
<tr><th id="2351">2351</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#390" title="{&quot;isfinite&quot;, (PyCFunction)math_isfinite, 0x0008, math_isfinite__doc__}," data-ref="_M/MATH_ISFINITE_METHODDEF">MATH_ISFINITE_METHODDEF</a></td></tr>
<tr><th id="2352">2352</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#444" title="{&quot;isinf&quot;, (PyCFunction)math_isinf, 0x0008, math_isinf__doc__}," data-ref="_M/MATH_ISINF_METHODDEF">MATH_ISINF_METHODDEF</a></td></tr>
<tr><th id="2353">2353</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#417" title="{&quot;isnan&quot;, (PyCFunction)math_isnan, 0x0008, math_isnan__doc__}," data-ref="_M/MATH_ISNAN_METHODDEF">MATH_ISNAN_METHODDEF</a></td></tr>
<tr><th id="2354">2354</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#128" title="{&quot;ldexp&quot;, (PyCFunction)math_ldexp, 0x0080, math_ldexp__doc__}," data-ref="_M/MATH_LDEXP_METHODDEF">MATH_LDEXP_METHODDEF</a></td></tr>
<tr><th id="2355">2355</th><td>    {<q>"lgamma"</q>,          <a class="tu ref" href="#1164" title='math_lgamma' data-ref="math_lgamma">math_lgamma</a>,    <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1164" title='math_lgamma_doc' data-ref="math_lgamma_doc">math_lgamma_doc</a>},</td></tr>
<tr><th id="2356">2356</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#186" title="{&quot;log&quot;, (PyCFunction)math_log, 0x0001, math_log__doc__}," data-ref="_M/MATH_LOG_METHODDEF">MATH_LOG_METHODDEF</a></td></tr>
<tr><th id="2357">2357</th><td>    {<q>"log1p"</q>,           <a class="tu ref" href="#1167" title='math_log1p' data-ref="math_log1p">math_log1p</a>,     <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1167" title='math_log1p_doc' data-ref="math_log1p_doc">math_log1p_doc</a>},</td></tr>
<tr><th id="2358">2358</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#238" title="{&quot;log10&quot;, (PyCFunction)math_log10, 0x0008, math_log10__doc__}," data-ref="_M/MATH_LOG10_METHODDEF">MATH_LOG10_METHODDEF</a></td></tr>
<tr><th id="2359">2359</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#229" title="{&quot;log2&quot;, (PyCFunction)math_log2, 0x0008, math_log2__doc__}," data-ref="_M/MATH_LOG2_METHODDEF">MATH_LOG2_METHODDEF</a></td></tr>
<tr><th id="2360">2360</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#159" title="{&quot;modf&quot;, (PyCFunction)math_modf, 0x0008, math_modf__doc__}," data-ref="_M/MATH_MODF_METHODDEF">MATH_MODF_METHODDEF</a></td></tr>
<tr><th id="2361">2361</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#307" title="{&quot;pow&quot;, (PyCFunction)math_pow, 0x0080, math_pow__doc__}," data-ref="_M/MATH_POW_METHODDEF">MATH_POW_METHODDEF</a></td></tr>
<tr><th id="2362">2362</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#363" title="{&quot;radians&quot;, (PyCFunction)math_radians, 0x0008, math_radians__doc__}," data-ref="_M/MATH_RADIANS_METHODDEF">MATH_RADIANS_METHODDEF</a></td></tr>
<tr><th id="2363">2363</th><td>    {<q>"remainder"</q>,       <a class="tu ref" href="#1171" title='math_remainder' data-ref="math_remainder">math_remainder</a>, <a class="macro" href="../Include/methodobject.h.html#71" title="0x0001" data-ref="_M/METH_VARARGS">METH_VARARGS</a>,   <a class="ref" href="#1171" title='math_remainder_doc' data-ref="math_remainder_doc">math_remainder_doc</a>},</td></tr>
<tr><th id="2364">2364</th><td>    {<q>"sin"</q>,             <a class="tu ref" href="#1177" title='math_sin' data-ref="math_sin">math_sin</a>,       <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1177" title='math_sin_doc' data-ref="math_sin_doc">math_sin_doc</a>},</td></tr>
<tr><th id="2365">2365</th><td>    {<q>"sinh"</q>,            <a class="tu ref" href="#1180" title='math_sinh' data-ref="math_sinh">math_sinh</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1180" title='math_sinh_doc' data-ref="math_sinh_doc">math_sinh_doc</a>},</td></tr>
<tr><th id="2366">2366</th><td>    {<q>"sqrt"</q>,            <a class="tu ref" href="#1183" title='math_sqrt' data-ref="math_sqrt">math_sqrt</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1183" title='math_sqrt_doc' data-ref="math_sqrt_doc">math_sqrt_doc</a>},</td></tr>
<tr><th id="2367">2367</th><td>    {<q>"tan"</q>,             <a class="tu ref" href="#1186" title='math_tan' data-ref="math_tan">math_tan</a>,       <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1186" title='math_tan_doc' data-ref="math_tan_doc">math_tan_doc</a>},</td></tr>
<tr><th id="2368">2368</th><td>    {<q>"tanh"</q>,            <a class="tu ref" href="#1189" title='math_tanh' data-ref="math_tanh">math_tanh</a>,      <a class="macro" href="../Include/methodobject.h.html#75" title="0x0008" data-ref="_M/METH_O">METH_O</a>,         <a class="ref" href="#1189" title='math_tanh_doc' data-ref="math_tanh_doc">math_tanh_doc</a>},</td></tr>
<tr><th id="2369">2369</th><td>    <a class="macro" href="clinic/mathmodule.c.h.html#87" title="{&quot;trunc&quot;, (PyCFunction)math_trunc, 0x0008, math_trunc__doc__}," data-ref="_M/MATH_TRUNC_METHODDEF">MATH_TRUNC_METHODDEF</a></td></tr>
<tr><th id="2370">2370</th><td>    {<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,              <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>}           <i>/* sentinel */</i></td></tr>
<tr><th id="2371">2371</th><td>};</td></tr>
<tr><th id="2372">2372</th><td></td></tr>
<tr><th id="2373">2373</th><td></td></tr>
<tr><th id="2374">2374</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char module_doc[] = &quot;This module is always available.  It provides access to the\n&quot;&quot;mathematical functions defined by the C standard.&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="module_doc" title='module_doc' data-ref="module_doc">module_doc</dfn>,</td></tr>
<tr><th id="2375">2375</th><td><q>"This module is always available.  It provides access to the\n"</q></td></tr>
<tr><th id="2376">2376</th><td><q>"mathematical functions defined by the C standard."</q>);</td></tr>
<tr><th id="2377">2377</th><td></td></tr>
<tr><th id="2378">2378</th><td></td></tr>
<tr><th id="2379">2379</th><td><em>static</em> <b>struct</b> <a class="type" href="../Include/moduleobject.h.html#PyModuleDef" title='PyModuleDef' data-ref="PyModuleDef">PyModuleDef</a> <dfn class="tu decl def" id="mathmodule" title='mathmodule' data-type='struct PyModuleDef' data-ref="mathmodule">mathmodule</dfn> = {</td></tr>
<tr><th id="2380">2380</th><td>    <a class="macro" href="../Include/moduleobject.h.html#50" title="{ { 0, 0, 1, ((void*)0) }, ((void*)0), 0, ((void*)0), }" data-ref="_M/PyModuleDef_HEAD_INIT">PyModuleDef_HEAD_INIT</a>,</td></tr>
<tr><th id="2381">2381</th><td>    <q>"math"</q>,</td></tr>
<tr><th id="2382">2382</th><td>    <a class="ref" href="#2374" title='module_doc' data-ref="module_doc">module_doc</a>,</td></tr>
<tr><th id="2383">2383</th><td>    -<var>1</var>,</td></tr>
<tr><th id="2384">2384</th><td>    <a class="tu ref" href="#math_methods" title='math_methods' data-ref="math_methods">math_methods</a>,</td></tr>
<tr><th id="2385">2385</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="2386">2386</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="2387">2387</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="2388">2388</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="2389">2389</th><td>};</td></tr>
<tr><th id="2390">2390</th><td></td></tr>
<tr><th id="2391">2391</th><td><a class="macro" href="../Include/pyport.h.html#685" title="PyObject*" data-ref="_M/PyMODINIT_FUNC">PyMODINIT_FUNC</a></td></tr>
<tr><th id="2392">2392</th><td><dfn class="decl def" id="PyInit_math" title='PyInit_math' data-ref="PyInit_math">PyInit_math</dfn>(<em>void</em>)</td></tr>
<tr><th id="2393">2393</th><td>{</td></tr>
<tr><th id="2394">2394</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="375m" title='m' data-type='PyObject *' data-ref="375m">m</dfn>;</td></tr>
<tr><th id="2395">2395</th><td></td></tr>
<tr><th id="2396">2396</th><td>    <a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a> = <a class="macro" href="../Include/modsupport.h.html#199" title="PyModule_Create2TraceRefs(&amp;mathmodule, 1013)" data-ref="_M/PyModule_Create">PyModule_Create</a>(&amp;<a class="tu ref" href="#mathmodule" title='mathmodule' data-use='a' data-ref="mathmodule">mathmodule</a>);</td></tr>
<tr><th id="2397">2397</th><td>    <b>if</b> (<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="2398">2398</th><td>        <b>goto</b> <a class="lbl" href="#376finally" data-ref="376finally">finally</a>;</td></tr>
<tr><th id="2399">2399</th><td></td></tr>
<tr><th id="2400">2400</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>, <q>"pi"</q>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="macro" href="../Include/pymath.h.html#47" title="3.14159265358979323846" data-ref="_M/Py_MATH_PI">Py_MATH_PI</a>));</td></tr>
<tr><th id="2401">2401</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>, <q>"e"</q>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="macro" href="../Include/pymath.h.html#55" title="2.7182818284590452354" data-ref="_M/Py_MATH_E">Py_MATH_E</a>));</td></tr>
<tr><th id="2402">2402</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>, <q>"tau"</q>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="macro" href="../Include/pymath.h.html#60" title="6.2831853071795864769252867665590057683943L" data-ref="_M/Py_MATH_TAU">Py_MATH_TAU</a>));  <i>/* 2pi */</i></td></tr>
<tr><th id="2403">2403</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>, <q>"inf"</q>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="tu ref" href="#m_inf" title='m_inf' data-use='c' data-ref="m_inf">m_inf</a>()));</td></tr>
<tr><th id="2404">2404</th><td><u>#<span data-ppcond="2404">if</span> !defined(<span class="macro" data-ref="_M/PY_NO_SHORT_FLOAT_REPR">PY_NO_SHORT_FLOAT_REPR</span>) || defined(<a class="macro" href="../Include/pymath.h.html#160" data-ref="_M/Py_NAN">Py_NAN</a>)</u></td></tr>
<tr><th id="2405">2405</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddObject" title='PyModule_AddObject' data-ref="PyModule_AddObject">PyModule_AddObject</a>(<a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>, <q>"nan"</q>, <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="tu ref" href="#m_nan" title='m_nan' data-use='c' data-ref="m_nan">m_nan</a>()));</td></tr>
<tr><th id="2406">2406</th><td><u>#<span data-ppcond="2404">endif</span></u></td></tr>
<tr><th id="2407">2407</th><td></td></tr>
<tr><th id="2408">2408</th><td>  <dfn class="lbl" id="376finally" data-ref="376finally">finally</dfn>:</td></tr>
<tr><th id="2409">2409</th><td>    <b>return</b> <a class="local col5 ref" href="#375m" title='m' data-ref="375m">m</a>;</td></tr>
<tr><th id="2410">2410</th><td>}</td></tr>
<tr><th id="2411">2411</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v3.6.0b2-99580-g07f1658</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>marshal.c source code [codebrowser/Python/marshal.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/Python/marshal.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>Python</a>/<a href='marshal.c.html'>marshal.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td></td></tr>
<tr><th id="2">2</th><td><i>/* Write Python objects to files and read them back.</i></td></tr>
<tr><th id="3">3</th><td><i>   This is primarily intended for writing and reading compiled Python code,</i></td></tr>
<tr><th id="4">4</th><td><i>   even though dicts, lists, sets and frozensets, not commonly seen in</i></td></tr>
<tr><th id="5">5</th><td><i>   code objects, are supported.</i></td></tr>
<tr><th id="6">6</th><td><i>   Version 3 of this protocol properly supports circular links</i></td></tr>
<tr><th id="7">7</th><td><i>   and sharing. */</i></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><u>#define <dfn class="macro" id="_M/PY_SSIZE_T_CLEAN" data-ref="_M/PY_SSIZE_T_CLEAN">PY_SSIZE_T_CLEAN</dfn></u></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="../Include/Python.h.html">"Python.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../Include/longintrepr.h.html">"longintrepr.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../Include/code.h.html">"code.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../Include/marshal.h.html">"marshal.h"</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../Modules/hashtable.h.html">"../Modules/hashtable.h"</a></u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><i>/*[clinic input]</i></td></tr>
<tr><th id="18">18</th><td><i>module marshal</i></td></tr>
<tr><th id="19">19</th><td><i>[clinic start generated code]*/</i></td></tr>
<tr><th id="20">20</th><td><i>/*[clinic end generated code: output=da39a3ee5e6b4b0d input=c982b7930dee17db]*/</i></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="clinic/marshal.c.h.html">"clinic/marshal.c.h"</a></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><i>/* High water mark to determine when the marshalled object is dangerously deep</i></td></tr>
<tr><th id="25">25</th><td><i> * and risks coring the interpreter.  When the object stack gets this deep,</i></td></tr>
<tr><th id="26">26</th><td><i> * raise an exception instead of continuing.</i></td></tr>
<tr><th id="27">27</th><td><i> * On Windows debug builds, reduce this value.</i></td></tr>
<tr><th id="28">28</th><td><i> */</i></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="29">if</span> defined(<span class="macro" data-ref="_M/MS_WINDOWS">MS_WINDOWS</span>) &amp;&amp; defined(<span class="macro" data-ref="_M/_DEBUG">_DEBUG</span>)</u></td></tr>
<tr><th id="30">30</th><td><u>#define MAX_MARSHAL_STACK_DEPTH 1000</u></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="29">else</span></u></td></tr>
<tr><th id="32">32</th><td><u>#define <dfn class="macro" id="_M/MAX_MARSHAL_STACK_DEPTH" data-ref="_M/MAX_MARSHAL_STACK_DEPTH">MAX_MARSHAL_STACK_DEPTH</dfn> 2000</u></td></tr>
<tr><th id="33">33</th><td><u>#<span data-ppcond="29">endif</span></u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#define <dfn class="macro" id="_M/TYPE_NULL" data-ref="_M/TYPE_NULL">TYPE_NULL</dfn>               '0'</u></td></tr>
<tr><th id="36">36</th><td><u>#define <dfn class="macro" id="_M/TYPE_NONE" data-ref="_M/TYPE_NONE">TYPE_NONE</dfn>               'N'</u></td></tr>
<tr><th id="37">37</th><td><u>#define <dfn class="macro" id="_M/TYPE_FALSE" data-ref="_M/TYPE_FALSE">TYPE_FALSE</dfn>              'F'</u></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/TYPE_TRUE" data-ref="_M/TYPE_TRUE">TYPE_TRUE</dfn>               'T'</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/TYPE_STOPITER" data-ref="_M/TYPE_STOPITER">TYPE_STOPITER</dfn>           'S'</u></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/TYPE_ELLIPSIS" data-ref="_M/TYPE_ELLIPSIS">TYPE_ELLIPSIS</dfn>           '.'</u></td></tr>
<tr><th id="41">41</th><td><u>#define <dfn class="macro" id="_M/TYPE_INT" data-ref="_M/TYPE_INT">TYPE_INT</dfn>                'i'</u></td></tr>
<tr><th id="42">42</th><td><u>#define <dfn class="macro" id="_M/TYPE_FLOAT" data-ref="_M/TYPE_FLOAT">TYPE_FLOAT</dfn>              'f'</u></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/TYPE_BINARY_FLOAT" data-ref="_M/TYPE_BINARY_FLOAT">TYPE_BINARY_FLOAT</dfn>       'g'</u></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/TYPE_COMPLEX" data-ref="_M/TYPE_COMPLEX">TYPE_COMPLEX</dfn>            'x'</u></td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/TYPE_BINARY_COMPLEX" data-ref="_M/TYPE_BINARY_COMPLEX">TYPE_BINARY_COMPLEX</dfn>     'y'</u></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/TYPE_LONG" data-ref="_M/TYPE_LONG">TYPE_LONG</dfn>               'l'</u></td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/TYPE_STRING" data-ref="_M/TYPE_STRING">TYPE_STRING</dfn>             's'</u></td></tr>
<tr><th id="48">48</th><td><u>#define <dfn class="macro" id="_M/TYPE_INTERNED" data-ref="_M/TYPE_INTERNED">TYPE_INTERNED</dfn>           't'</u></td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/TYPE_REF" data-ref="_M/TYPE_REF">TYPE_REF</dfn>                'r'</u></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/TYPE_TUPLE" data-ref="_M/TYPE_TUPLE">TYPE_TUPLE</dfn>              '('</u></td></tr>
<tr><th id="51">51</th><td><u>#define <dfn class="macro" id="_M/TYPE_LIST" data-ref="_M/TYPE_LIST">TYPE_LIST</dfn>               '['</u></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/TYPE_DICT" data-ref="_M/TYPE_DICT">TYPE_DICT</dfn>               '{'</u></td></tr>
<tr><th id="53">53</th><td><u>#define <dfn class="macro" id="_M/TYPE_CODE" data-ref="_M/TYPE_CODE">TYPE_CODE</dfn>               'c'</u></td></tr>
<tr><th id="54">54</th><td><u>#define <dfn class="macro" id="_M/TYPE_UNICODE" data-ref="_M/TYPE_UNICODE">TYPE_UNICODE</dfn>            'u'</u></td></tr>
<tr><th id="55">55</th><td><u>#define <dfn class="macro" id="_M/TYPE_UNKNOWN" data-ref="_M/TYPE_UNKNOWN">TYPE_UNKNOWN</dfn>            '?'</u></td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/TYPE_SET" data-ref="_M/TYPE_SET">TYPE_SET</dfn>                '&lt;'</u></td></tr>
<tr><th id="57">57</th><td><u>#define <dfn class="macro" id="_M/TYPE_FROZENSET" data-ref="_M/TYPE_FROZENSET">TYPE_FROZENSET</dfn>          '&gt;'</u></td></tr>
<tr><th id="58">58</th><td><u>#define <dfn class="macro" id="_M/FLAG_REF" data-ref="_M/FLAG_REF">FLAG_REF</dfn>                '\x80' /* with a type, add obj to index */</u></td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td><u>#define <dfn class="macro" id="_M/TYPE_ASCII" data-ref="_M/TYPE_ASCII">TYPE_ASCII</dfn>              'a'</u></td></tr>
<tr><th id="61">61</th><td><u>#define <dfn class="macro" id="_M/TYPE_ASCII_INTERNED" data-ref="_M/TYPE_ASCII_INTERNED">TYPE_ASCII_INTERNED</dfn>     'A'</u></td></tr>
<tr><th id="62">62</th><td><u>#define <dfn class="macro" id="_M/TYPE_SMALL_TUPLE" data-ref="_M/TYPE_SMALL_TUPLE">TYPE_SMALL_TUPLE</dfn>        ')'</u></td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/TYPE_SHORT_ASCII" data-ref="_M/TYPE_SHORT_ASCII">TYPE_SHORT_ASCII</dfn>        'z'</u></td></tr>
<tr><th id="64">64</th><td><u>#define <dfn class="macro" id="_M/TYPE_SHORT_ASCII_INTERNED" data-ref="_M/TYPE_SHORT_ASCII_INTERNED">TYPE_SHORT_ASCII_INTERNED</dfn> 'Z'</u></td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><u>#define <dfn class="macro" id="_M/WFERR_OK" data-ref="_M/WFERR_OK">WFERR_OK</dfn> 0</u></td></tr>
<tr><th id="67">67</th><td><u>#define <dfn class="macro" id="_M/WFERR_UNMARSHALLABLE" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</dfn> 1</u></td></tr>
<tr><th id="68">68</th><td><u>#define <dfn class="macro" id="_M/WFERR_NESTEDTOODEEP" data-ref="_M/WFERR_NESTEDTOODEEP">WFERR_NESTEDTOODEEP</dfn> 2</u></td></tr>
<tr><th id="69">69</th><td><u>#define <dfn class="macro" id="_M/WFERR_NOMEMORY" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</dfn> 3</u></td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="72">72</th><td>    <a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="tu decl" id="(anonymous)::fp" title='(anonymous struct)::fp' data-type='FILE *' data-ref="(anonymous)::fp">fp</dfn>;</td></tr>
<tr><th id="73">73</th><td>    <em>int</em> <dfn class="tu decl" id="(anonymous)::error" title='(anonymous struct)::error' data-type='int' data-ref="(anonymous)::error">error</dfn>;  <i  data-doc="(anonymous)::error">/* see WFERR_* values */</i></td></tr>
<tr><th id="74">74</th><td>    <em>int</em> <dfn class="tu decl" id="(anonymous)::depth" title='(anonymous struct)::depth' data-type='int' data-ref="(anonymous)::depth">depth</dfn>;</td></tr>
<tr><th id="75">75</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="tu decl" id="(anonymous)::str" title='(anonymous struct)::str' data-type='PyObject *' data-ref="(anonymous)::str">str</dfn>;</td></tr>
<tr><th id="76">76</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::ptr" title='(anonymous struct)::ptr' data-type='char *' data-ref="(anonymous)::ptr">ptr</dfn>;</td></tr>
<tr><th id="77">77</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::end" title='(anonymous struct)::end' data-type='char *' data-ref="(anonymous)::end">end</dfn>;</td></tr>
<tr><th id="78">78</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::buf" title='(anonymous struct)::buf' data-type='char *' data-ref="(anonymous)::buf">buf</dfn>;</td></tr>
<tr><th id="79">79</th><td>    <a class="typedef" href="../Modules/hashtable.h.html#_Py_hashtable_t" title='_Py_hashtable_t' data-type='struct _Py_hashtable_t' data-ref="_Py_hashtable_t">_Py_hashtable_t</a> *<dfn class="tu decl" id="(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-type='_Py_hashtable_t *' data-ref="(anonymous)::hashtable">hashtable</dfn>;</td></tr>
<tr><th id="80">80</th><td>    <em>int</em> <dfn class="tu decl" id="(anonymous)::version" title='(anonymous struct)::version' data-type='int' data-ref="(anonymous)::version">version</dfn>;</td></tr>
<tr><th id="81">81</th><td>} <dfn class="typedef" id="WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</dfn>;</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><u>#define <dfn class="macro" id="_M/w_byte" data-ref="_M/w_byte">w_byte</dfn>(c, p) do {                               \</u></td></tr>
<tr><th id="84">84</th><td><u>        if ((p)-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> != (p)-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='r' data-ref="(anonymous)::end">end</a> || <a class="tu ref" href="#w_reserve" title='w_reserve' data-use='c' data-ref="w_reserve">w_reserve</a>((p), 1))  \</u></td></tr>
<tr><th id="85">85</th><td><u>            *(p)-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a>++ = (c);                          \</u></td></tr>
<tr><th id="86">86</th><td><u>    } while(0)</u></td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="89">89</th><td><dfn class="tu decl def" id="w_flush" title='w_flush' data-type='void w_flush(WFILE * p)' data-ref="w_flush">w_flush</dfn>(<a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col0 decl" id="30p" title='p' data-type='WFILE *' data-ref="30p">p</dfn>)</td></tr>
<tr><th id="90">90</th><td>{</td></tr>
<tr><th id="91">91</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((p-&gt;fp != ((void*)0)) ? (void) (0) : __assert_fail (&quot;p-&gt;fp != NULL&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 91, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="92">92</th><td>    <a class="ref" href="../../include/stdio.h.html#fwrite" title='fwrite' data-ref="fwrite">fwrite</a>(<a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>, <var>1</var>, <a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> - <a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>, <a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a>);</td></tr>
<tr><th id="93">93</th><td>    <a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col0 ref" href="#30p" title='p' data-ref="30p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>;</td></tr>
<tr><th id="94">94</th><td>}</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="97">97</th><td><dfn class="tu decl def" id="w_reserve" title='w_reserve' data-type='int w_reserve(WFILE * p, Py_ssize_t needed)' data-ref="w_reserve">w_reserve</dfn>(<a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col1 decl" id="31p" title='p' data-type='WFILE *' data-ref="31p">p</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col2 decl" id="32needed" title='needed' data-type='Py_ssize_t' data-ref="32needed">needed</dfn>)</td></tr>
<tr><th id="98">98</th><td>{</td></tr>
<tr><th id="99">99</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col3 decl" id="33pos" title='pos' data-type='Py_ssize_t' data-ref="33pos">pos</dfn>, <dfn class="local col4 decl" id="34size" title='size' data-type='Py_ssize_t' data-ref="34size">size</dfn>, <dfn class="local col5 decl" id="35delta" title='delta' data-type='Py_ssize_t' data-ref="35delta">delta</dfn>;</td></tr>
<tr><th id="100">100</th><td>    <b>if</b> (<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="101">101</th><td>        <b>return</b> <var>0</var>; <i>/* An error already occurred */</i></td></tr>
<tr><th id="102">102</th><td>    <b>if</b> (<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="103">103</th><td>        <a class="tu ref" href="#w_flush" title='w_flush' data-use='c' data-ref="w_flush">w_flush</a>(<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>);</td></tr>
<tr><th id="104">104</th><td>        <b>return</b> <a class="local col2 ref" href="#32needed" title='needed' data-ref="32needed">needed</a> &lt;= <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='r' data-ref="(anonymous)::end">end</a> - <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>;</td></tr>
<tr><th id="105">105</th><td>    }</td></tr>
<tr><th id="106">106</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((p-&gt;str != ((void*)0)) ? (void) (0) : __assert_fail (&quot;p-&gt;str != NULL&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 106, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="107">107</th><td>    <a class="local col3 ref" href="#33pos" title='pos' data-ref="33pos">pos</a> = <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> - <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>;</td></tr>
<tr><th id="108">108</th><td>    <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a> = <a class="ref" href="../Include/bytesobject.h.html#PyBytes_Size" title='PyBytes_Size' data-ref="PyBytes_Size">PyBytes_Size</a>(<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="109">109</th><td>    <b>if</b> (<a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a> &gt; <var>16</var>*<var>1024</var>*<var>1024</var>)</td></tr>
<tr><th id="110">110</th><td>        <a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a> = (<a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a> &gt;&gt; <var>3</var>);            <i>/* 12.5% overallocation */</i></td></tr>
<tr><th id="111">111</th><td>    <b>else</b></td></tr>
<tr><th id="112">112</th><td>        <a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a> = <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a> + <var>1024</var>;</td></tr>
<tr><th id="113">113</th><td>    <a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a> = <a class="macro" href="../Include/pymacro.h.html#8" title="(((delta) &gt; (needed)) ? (delta) : (needed))" data-ref="_M/Py_MAX">Py_MAX</a>(<a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a>, <a class="local col2 ref" href="#32needed" title='needed' data-ref="32needed">needed</a>);</td></tr>
<tr><th id="114">114</th><td>    <b>if</b> (<a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a> &gt; <a class="macro" href="../Include/pyport.h.html#109" title="((Py_ssize_t)(((size_t)-1)&gt;&gt;1))" data-ref="_M/PY_SSIZE_T_MAX">PY_SSIZE_T_MAX</a> - <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a>) {</td></tr>
<tr><th id="115">115</th><td>        <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#69" title="3" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</a>;</td></tr>
<tr><th id="116">116</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="117">117</th><td>    }</td></tr>
<tr><th id="118">118</th><td>    <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a> += <a class="local col5 ref" href="#35delta" title='delta' data-ref="35delta">delta</a>;</td></tr>
<tr><th id="119">119</th><td>    <b>if</b> (<a class="ref" href="../Include/bytesobject.h.html#_PyBytes_Resize" title='_PyBytes_Resize' data-ref="_PyBytes_Resize">_PyBytes_Resize</a>(&amp;<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='a' data-ref="(anonymous)::str">str</a>, <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a>) != <var>0</var>) {</td></tr>
<tr><th id="120">120</th><td>        <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="121">121</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="122">122</th><td>    }</td></tr>
<tr><th id="123">123</th><td>    <b>else</b> {</td></tr>
<tr><th id="124">124</th><td>        <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)(p-&gt;str))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(p-&gt;str)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 124, __PRETTY_FUNCTION__)), (((PyBytesObject *)(p-&gt;str))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>(<a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="125">125</th><td>        <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> + <a class="local col3 ref" href="#33pos" title='pos' data-ref="33pos">pos</a>;</td></tr>
<tr><th id="126">126</th><td>        <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col1 ref" href="#31p" title='p' data-ref="31p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> + <a class="local col4 ref" href="#34size" title='size' data-ref="34size">size</a>;</td></tr>
<tr><th id="127">127</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="128">128</th><td>    }</td></tr>
<tr><th id="129">129</th><td>}</td></tr>
<tr><th id="130">130</th><td></td></tr>
<tr><th id="131">131</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="132">132</th><td><dfn class="tu decl def" id="w_string" title='w_string' data-type='void w_string(const char * s, Py_ssize_t n, WFILE * p)' data-ref="w_string">w_string</dfn>(<em>const</em> <em>char</em> *<dfn class="local col6 decl" id="36s" title='s' data-type='const char *' data-ref="36s">s</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col7 decl" id="37n" title='n' data-type='Py_ssize_t' data-ref="37n">n</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col8 decl" id="38p" title='p' data-type='WFILE *' data-ref="38p">p</dfn>)</td></tr>
<tr><th id="133">133</th><td>{</td></tr>
<tr><th id="134">134</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col9 decl" id="39m" title='m' data-type='Py_ssize_t' data-ref="39m">m</dfn>;</td></tr>
<tr><th id="135">135</th><td>    <b>if</b> (!<a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a> || <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="136">136</th><td>        <b>return</b>;</td></tr>
<tr><th id="137">137</th><td>    <a class="local col9 ref" href="#39m" title='m' data-ref="39m">m</a> = <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='r' data-ref="(anonymous)::end">end</a> - <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>;</td></tr>
<tr><th id="138">138</th><td>    <b>if</b> (<a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="139">139</th><td>        <b>if</b> (<a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a> &lt;= <a class="local col9 ref" href="#39m" title='m' data-ref="39m">m</a>) {</td></tr>
<tr><th id="140">140</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>, <a class="local col6 ref" href="#36s" title='s' data-ref="36s">s</a>, <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a>);</td></tr>
<tr><th id="141">141</th><td>            <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> += <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a>;</td></tr>
<tr><th id="142">142</th><td>        }</td></tr>
<tr><th id="143">143</th><td>        <b>else</b> {</td></tr>
<tr><th id="144">144</th><td>            <a class="tu ref" href="#w_flush" title='w_flush' data-use='c' data-ref="w_flush">w_flush</a>(<a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>);</td></tr>
<tr><th id="145">145</th><td>            <a class="ref" href="../../include/stdio.h.html#fwrite" title='fwrite' data-ref="fwrite">fwrite</a>(<a class="local col6 ref" href="#36s" title='s' data-ref="36s">s</a>, <var>1</var>, <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a>, <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a>);</td></tr>
<tr><th id="146">146</th><td>        }</td></tr>
<tr><th id="147">147</th><td>    }</td></tr>
<tr><th id="148">148</th><td>    <b>else</b> {</td></tr>
<tr><th id="149">149</th><td>        <b>if</b> (<a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a> &lt;= <a class="local col9 ref" href="#39m" title='m' data-ref="39m">m</a> || <a class="tu ref" href="#w_reserve" title='w_reserve' data-use='c' data-ref="w_reserve">w_reserve</a>(<a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>, <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a> - <a class="local col9 ref" href="#39m" title='m' data-ref="39m">m</a>)) {</td></tr>
<tr><th id="150">150</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>, <a class="local col6 ref" href="#36s" title='s' data-ref="36s">s</a>, <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a>);</td></tr>
<tr><th id="151">151</th><td>            <a class="local col8 ref" href="#38p" title='p' data-ref="38p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> += <a class="local col7 ref" href="#37n" title='n' data-ref="37n">n</a>;</td></tr>
<tr><th id="152">152</th><td>        }</td></tr>
<tr><th id="153">153</th><td>    }</td></tr>
<tr><th id="154">154</th><td>}</td></tr>
<tr><th id="155">155</th><td></td></tr>
<tr><th id="156">156</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="157">157</th><td><dfn class="tu decl def" id="w_short" title='w_short' data-type='void w_short(int x, WFILE * p)' data-ref="w_short">w_short</dfn>(<em>int</em> <dfn class="local col0 decl" id="40x" title='x' data-type='int' data-ref="40x">x</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col1 decl" id="41p" title='p' data-type='WFILE *' data-ref="41p">p</dfn>)</td></tr>
<tr><th id="158">158</th><td>{</td></tr>
<tr><th id="159">159</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)( x &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)( <a class="local col0 ref" href="#40x" title='x' data-ref="40x">x</a>      &amp; <var>0xff</var>), <a class="local col1 ref" href="#41p" title='p' data-ref="41p">p</a>);</td></tr>
<tr><th id="160">160</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)((x&gt;&gt; 8) &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)((<a class="local col0 ref" href="#40x" title='x' data-ref="40x">x</a>&gt;&gt; <var>8</var>) &amp; <var>0xff</var>), <a class="local col1 ref" href="#41p" title='p' data-ref="41p">p</a>);</td></tr>
<tr><th id="161">161</th><td>}</td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="164">164</th><td><dfn class="tu decl def" id="w_long" title='w_long' data-type='void w_long(long x, WFILE * p)' data-ref="w_long">w_long</dfn>(<em>long</em> <dfn class="local col2 decl" id="42x" title='x' data-type='long' data-ref="42x">x</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col3 decl" id="43p" title='p' data-type='WFILE *' data-ref="43p">p</dfn>)</td></tr>
<tr><th id="165">165</th><td>{</td></tr>
<tr><th id="166">166</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)( x &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)( <a class="local col2 ref" href="#42x" title='x' data-ref="42x">x</a>      &amp; <var>0xff</var>), <a class="local col3 ref" href="#43p" title='p' data-ref="43p">p</a>);</td></tr>
<tr><th id="167">167</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)((x&gt;&gt; 8) &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)((<a class="local col2 ref" href="#42x" title='x' data-ref="42x">x</a>&gt;&gt; <var>8</var>) &amp; <var>0xff</var>), <a class="local col3 ref" href="#43p" title='p' data-ref="43p">p</a>);</td></tr>
<tr><th id="168">168</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)((x&gt;&gt;16) &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)((<a class="local col2 ref" href="#42x" title='x' data-ref="42x">x</a>&gt;&gt;<var>16</var>) &amp; <var>0xff</var>), <a class="local col3 ref" href="#43p" title='p' data-ref="43p">p</a>);</td></tr>
<tr><th id="169">169</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((char)((x&gt;&gt;24) &amp; 0xff)); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>char</em>)((<a class="local col2 ref" href="#42x" title='x' data-ref="42x">x</a>&gt;&gt;<var>24</var>) &amp; <var>0xff</var>), <a class="local col3 ref" href="#43p" title='p' data-ref="43p">p</a>);</td></tr>
<tr><th id="170">170</th><td>}</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td><u>#define <dfn class="macro" id="_M/SIZE32_MAX" data-ref="_M/SIZE32_MAX">SIZE32_MAX</dfn>  0x7FFFFFFF</u></td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><u>#<span data-ppcond="174">if</span> <a class="macro" href="../pyconfig.h.html#1307" title="8" data-ref="_M/SIZEOF_SIZE_T">SIZEOF_SIZE_T</a> &gt; 4</u></td></tr>
<tr><th id="175">175</th><td><u># define <dfn class="macro" id="_M/W_SIZE" data-ref="_M/W_SIZE">W_SIZE</dfn>(n, p)  do {                     \</u></td></tr>
<tr><th id="176">176</th><td><u>        if ((n) &gt; SIZE32_MAX) {                 \</u></td></tr>
<tr><th id="177">177</th><td><u>            (p)-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;                       \</u></td></tr>
<tr><th id="178">178</th><td><u>            (p)-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = WFERR_UNMARSHALLABLE;  \</u></td></tr>
<tr><th id="179">179</th><td><u>            return;                             \</u></td></tr>
<tr><th id="180">180</th><td><u>        }                                       \</u></td></tr>
<tr><th id="181">181</th><td><u>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>((long)(n), p);                   \</u></td></tr>
<tr><th id="182">182</th><td><u>    } while(0)</u></td></tr>
<tr><th id="183">183</th><td><u>#<span data-ppcond="174">else</span></u></td></tr>
<tr><th id="184">184</th><td><u># define W_SIZE  w_long</u></td></tr>
<tr><th id="185">185</th><td><u>#<span data-ppcond="174">endif</span></u></td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="188">188</th><td><dfn class="tu decl def" id="w_pstring" title='w_pstring' data-type='void w_pstring(const char * s, Py_ssize_t n, WFILE * p)' data-ref="w_pstring">w_pstring</dfn>(<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="44s" title='s' data-type='const char *' data-ref="44s">s</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col5 decl" id="45n" title='n' data-type='Py_ssize_t' data-ref="45n">n</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col6 decl" id="46p" title='p' data-type='WFILE *' data-ref="46p">p</dfn>)</td></tr>
<tr><th id="189">189</th><td>{</td></tr>
<tr><th id="190">190</th><td>        <a class="macro" href="#175" title="do { if ((n) &gt; 0x7FFFFFFF) { (p)-&gt;depth--; (p)-&gt;error = 1; return; } w_long((long)(n), p); } while(0)" data-ref="_M/W_SIZE">W_SIZE</a>(<a class="local col5 ref" href="#45n" title='n' data-ref="45n">n</a>, <a class="local col6 ref" href="#46p" title='p' data-ref="46p">p</a>);</td></tr>
<tr><th id="191">191</th><td>        <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>(<a class="local col4 ref" href="#44s" title='s' data-ref="44s">s</a>, <a class="local col5 ref" href="#45n" title='n' data-ref="45n">n</a>, <a class="local col6 ref" href="#46p" title='p' data-ref="46p">p</a>);</td></tr>
<tr><th id="192">192</th><td>}</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="195">195</th><td><dfn class="tu decl def" id="w_short_pstring" title='w_short_pstring' data-type='void w_short_pstring(const char * s, Py_ssize_t n, WFILE * p)' data-ref="w_short_pstring">w_short_pstring</dfn>(<em>const</em> <em>char</em> *<dfn class="local col7 decl" id="47s" title='s' data-type='const char *' data-ref="47s">s</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col8 decl" id="48n" title='n' data-type='Py_ssize_t' data-ref="48n">n</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col9 decl" id="49p" title='p' data-type='WFILE *' data-ref="49p">p</dfn>)</td></tr>
<tr><th id="196">196</th><td>{</td></tr>
<tr><th id="197">197</th><td>    <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (((((Py_ssize_t)(unsigned char)(n) == (n)) ? (void) (0) : __assert_fail (&quot;(Py_ssize_t)(unsigned char)(n) == (n)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 197, __PRETTY_FUNCTION__)), (unsigned char)(n))); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="../Include/pyport.h.html#298" title="((((Py_ssize_t)(unsigned char)(n) == (n)) ? (void) (0) : __assert_fail (&quot;(Py_ssize_t)(unsigned char)(n) == (n)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 197, __PRETTY_FUNCTION__)), (unsigned char)(n))" data-ref="_M/Py_SAFE_DOWNCAST">Py_SAFE_DOWNCAST</a>(<a class="local col8 ref" href="#48n" title='n' data-ref="48n">n</a>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a>, <em>unsigned</em> <em>char</em>), <a class="local col9 ref" href="#49p" title='p' data-ref="49p">p</a>);</td></tr>
<tr><th id="198">198</th><td>    <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>(<a class="local col7 ref" href="#47s" title='s' data-ref="47s">s</a>, <a class="local col8 ref" href="#48n" title='n' data-ref="48n">n</a>, <a class="local col9 ref" href="#49p" title='p' data-ref="49p">p</a>);</td></tr>
<tr><th id="199">199</th><td>}</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td><i>/* We assume that Python ints are stored internally in base some power of</i></td></tr>
<tr><th id="202">202</th><td><i>   2**15; for the sake of portability we'll always read and write them in base</i></td></tr>
<tr><th id="203">203</th><td><i>   exactly 2**15. */</i></td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><u>#define <dfn class="macro" id="_M/PyLong_MARSHAL_SHIFT" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</dfn> 15</u></td></tr>
<tr><th id="206">206</th><td><u>#define <dfn class="macro" id="_M/PyLong_MARSHAL_BASE" data-ref="_M/PyLong_MARSHAL_BASE">PyLong_MARSHAL_BASE</dfn> ((short)1 &lt;&lt; PyLong_MARSHAL_SHIFT)</u></td></tr>
<tr><th id="207">207</th><td><u>#define <dfn class="macro" id="_M/PyLong_MARSHAL_MASK" data-ref="_M/PyLong_MARSHAL_MASK">PyLong_MARSHAL_MASK</dfn> (PyLong_MARSHAL_BASE - 1)</u></td></tr>
<tr><th id="208">208</th><td><u>#<span data-ppcond="208">if</span> <a class="macro" href="../Include/longintrepr.h.html#49" title="30" data-ref="_M/PyLong_SHIFT">PyLong_SHIFT</a> % <a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a> != 0</u></td></tr>
<tr><th id="209">209</th><td><u>#error "PyLong_SHIFT must be a multiple of PyLong_MARSHAL_SHIFT"</u></td></tr>
<tr><th id="210">210</th><td><u>#<span data-ppcond="208">endif</span></u></td></tr>
<tr><th id="211">211</th><td><u>#define <dfn class="macro" id="_M/PyLong_MARSHAL_RATIO" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</dfn> (PyLong_SHIFT / PyLong_MARSHAL_SHIFT)</u></td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td><u>#define <dfn class="macro" id="_M/W_TYPE" data-ref="_M/W_TYPE">W_TYPE</dfn>(t, p) do { \</u></td></tr>
<tr><th id="214">214</th><td><u>    w_byte((t) | <a class="local col1 ref" href="#51flag" title='flag' data-ref="51flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag"><a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag">flag</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a>, (p)); \</u></td></tr>
<tr><th id="215">215</th><td><u>} while(0)</u></td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="218">218</th><td><dfn class="tu decl def" id="w_PyLong" title='w_PyLong' data-type='void w_PyLong(const PyLongObject * ob, char flag, WFILE * p)' data-ref="w_PyLong">w_PyLong</dfn>(<em>const</em> <a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a> *<dfn class="local col0 decl" id="50ob" title='ob' data-type='const PyLongObject *' data-ref="50ob">ob</dfn>, <em>char</em> <dfn class="local col1 decl" id="51flag" title='flag' data-type='char' data-ref="51flag">flag</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col2 decl" id="52p" title='p' data-type='WFILE *' data-ref="52p">p</dfn>)</td></tr>
<tr><th id="219">219</th><td>{</td></tr>
<tr><th id="220">220</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col3 decl" id="53i" title='i' data-type='Py_ssize_t' data-ref="53i">i</dfn>, <dfn class="local col4 decl" id="54j" title='j' data-type='Py_ssize_t' data-ref="54j">j</dfn>, <dfn class="local col5 decl" id="55n" title='n' data-type='Py_ssize_t' data-ref="55n">n</dfn>, <dfn class="local col6 decl" id="56l" title='l' data-type='Py_ssize_t' data-ref="56l">l</dfn>;</td></tr>
<tr><th id="221">221</th><td>    <a class="typedef" href="../Include/longintrepr.h.html#digit" title='digit' data-type='uint32_t' data-ref="digit">digit</a> <dfn class="local col7 decl" id="57d" title='d' data-type='digit' data-ref="57d">d</dfn>;</td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td>    <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;l&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#46" title="&apos;l&apos;" data-ref="_M/TYPE_LONG">TYPE_LONG</a>, <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>);</td></tr>
<tr><th id="224">224</th><td>    <b>if</b> (<a class="macro" href="../Include/object.h.html#119" title="(((PyVarObject*)(ob))-&gt;ob_size)" data-ref="_M/Py_SIZE">Py_SIZE</a>(<a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>) == <var>0</var>) {</td></tr>
<tr><th id="225">225</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>((<em>long</em>)<var>0</var>, <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>);</td></tr>
<tr><th id="226">226</th><td>        <b>return</b>;</td></tr>
<tr><th id="227">227</th><td>    }</td></tr>
<tr><th id="228">228</th><td></td></tr>
<tr><th id="229">229</th><td>    <i>/* set l to number of base PyLong_MARSHAL_BASE digits */</i></td></tr>
<tr><th id="230">230</th><td>    <a class="local col5 ref" href="#55n" title='n' data-ref="55n">n</a> = <a class="macro" href="../Include/pymacro.h.html#11" title="(((((PyVarObject*)(ob))-&gt;ob_size)) &lt; 0 ? -((((PyVarObject*)(ob))-&gt;ob_size)) : ((((PyVarObject*)(ob))-&gt;ob_size)))" data-ref="_M/Py_ABS">Py_ABS</a>(<a class="macro" href="../Include/object.h.html#119" title="(((PyVarObject*)(ob))-&gt;ob_size)" data-ref="_M/Py_SIZE">Py_SIZE</a>(<a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>));</td></tr>
<tr><th id="231">231</th><td>    <a class="local col6 ref" href="#56l" title='l' data-ref="56l">l</a> = (<a class="local col5 ref" href="#55n" title='n' data-ref="55n">n</a>-<var>1</var>) * <a class="macro" href="#211" title="(30 / 15)" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</a>;</td></tr>
<tr><th id="232">232</th><td>    <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> = <a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>-&gt;<a class="ref" href="../Include/longintrepr.h.html#_longobject::ob_digit" title='_longobject::ob_digit' data-ref="_longobject::ob_digit">ob_digit</a>[<a class="local col5 ref" href="#55n" title='n' data-ref="55n">n</a>-<var>1</var>];</td></tr>
<tr><th id="233">233</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((d != 0) ? (void) (0) : __assert_fail (&quot;d != 0&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 233, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> != <var>0</var>); <i>/* a PyLong is always normalized */</i></td></tr>
<tr><th id="234">234</th><td>    <b>do</b> {</td></tr>
<tr><th id="235">235</th><td>        <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> &gt;&gt;= <a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a>;</td></tr>
<tr><th id="236">236</th><td>        <a class="local col6 ref" href="#56l" title='l' data-ref="56l">l</a>++;</td></tr>
<tr><th id="237">237</th><td>    } <b>while</b> (<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> != <var>0</var>);</td></tr>
<tr><th id="238">238</th><td>    <b>if</b> (<a class="local col6 ref" href="#56l" title='l' data-ref="56l">l</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="239">239</th><td>        <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="240">240</th><td>        <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="241">241</th><td>        <b>return</b>;</td></tr>
<tr><th id="242">242</th><td>    }</td></tr>
<tr><th id="243">243</th><td>    <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>((<em>long</em>)(<a class="macro" href="../Include/object.h.html#119" title="(((PyVarObject*)(ob))-&gt;ob_size)" data-ref="_M/Py_SIZE">Py_SIZE</a>(<a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>) &gt; <var>0</var> ? <a class="local col6 ref" href="#56l" title='l' data-ref="56l">l</a> : -<a class="local col6 ref" href="#56l" title='l' data-ref="56l">l</a>), <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>);</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>    <b>for</b> (<a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a>=<var>0</var>; <a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a> &lt; <a class="local col5 ref" href="#55n" title='n' data-ref="55n">n</a>-<var>1</var>; <a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a>++) {</td></tr>
<tr><th id="246">246</th><td>        <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> = <a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>-&gt;<a class="ref" href="../Include/longintrepr.h.html#_longobject::ob_digit" title='_longobject::ob_digit' data-ref="_longobject::ob_digit">ob_digit</a>[<a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a>];</td></tr>
<tr><th id="247">247</th><td>        <b>for</b> (<a class="local col4 ref" href="#54j" title='j' data-ref="54j">j</a>=<var>0</var>; <a class="local col4 ref" href="#54j" title='j' data-ref="54j">j</a> &lt; <a class="macro" href="#211" title="(30 / 15)" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</a>; <a class="local col4 ref" href="#54j" title='j' data-ref="54j">j</a>++) {</td></tr>
<tr><th id="248">248</th><td>            <a class="tu ref" href="#w_short" title='w_short' data-use='c' data-ref="w_short">w_short</a>(<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> &amp; <a class="macro" href="#207" title="(((short)1 &lt;&lt; 15) - 1)" data-ref="_M/PyLong_MARSHAL_MASK">PyLong_MARSHAL_MASK</a>, <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>);</td></tr>
<tr><th id="249">249</th><td>            <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> &gt;&gt;= <a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a>;</td></tr>
<tr><th id="250">250</th><td>        }</td></tr>
<tr><th id="251">251</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((d == 0) ? (void) (0) : __assert_fail (&quot;d == 0&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 251, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a> (<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> == <var>0</var>);</td></tr>
<tr><th id="252">252</th><td>    }</td></tr>
<tr><th id="253">253</th><td>    <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> = <a class="local col0 ref" href="#50ob" title='ob' data-ref="50ob">ob</a>-&gt;<a class="ref" href="../Include/longintrepr.h.html#_longobject::ob_digit" title='_longobject::ob_digit' data-ref="_longobject::ob_digit">ob_digit</a>[<a class="local col5 ref" href="#55n" title='n' data-ref="55n">n</a>-<var>1</var>];</td></tr>
<tr><th id="254">254</th><td>    <b>do</b> {</td></tr>
<tr><th id="255">255</th><td>        <a class="tu ref" href="#w_short" title='w_short' data-use='c' data-ref="w_short">w_short</a>(<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> &amp; <a class="macro" href="#207" title="(((short)1 &lt;&lt; 15) - 1)" data-ref="_M/PyLong_MARSHAL_MASK">PyLong_MARSHAL_MASK</a>, <a class="local col2 ref" href="#52p" title='p' data-ref="52p">p</a>);</td></tr>
<tr><th id="256">256</th><td>        <a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> &gt;&gt;= <a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a>;</td></tr>
<tr><th id="257">257</th><td>    } <b>while</b> (<a class="local col7 ref" href="#57d" title='d' data-ref="57d">d</a> != <var>0</var>);</td></tr>
<tr><th id="258">258</th><td>}</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="261">261</th><td><dfn class="tu decl def" id="w_ref" title='w_ref' data-type='int w_ref(PyObject * v, char * flag, WFILE * p)' data-ref="w_ref">w_ref</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="58v" title='v' data-type='PyObject *' data-ref="58v">v</dfn>, <em>char</em> *<dfn class="local col9 decl" id="59flag" title='flag' data-type='char *' data-ref="59flag">flag</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col0 decl" id="60p" title='p' data-type='WFILE *' data-ref="60p">p</dfn>)</td></tr>
<tr><th id="262">262</th><td>{</td></tr>
<tr><th id="263">263</th><td>    <a class="typedef" href="../Modules/hashtable.h.html#_Py_hashtable_entry_t" title='_Py_hashtable_entry_t' data-type='struct _Py_hashtable_entry_t' data-ref="_Py_hashtable_entry_t">_Py_hashtable_entry_t</a> *<dfn class="local col1 decl" id="61entry" title='entry' data-type='_Py_hashtable_entry_t *' data-ref="61entry">entry</dfn>;</td></tr>
<tr><th id="264">264</th><td>    <em>int</em> <dfn class="local col2 decl" id="62w" title='w' data-type='int' data-ref="62w">w</dfn>;</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>    <b>if</b> (<a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &lt; <var>3</var> || <a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="267">267</th><td>        <b>return</b> <var>0</var>; <i>/* not writing object references */</i></td></tr>
<tr><th id="268">268</th><td></td></tr>
<tr><th id="269">269</th><td>    <i>/* if it has only one reference, it definitely isn't shared */</i></td></tr>
<tr><th id="270">270</th><td>    <b>if</b> (<a class="macro" href="../Include/object.h.html#117" title="(((PyObject*)(v))-&gt;ob_refcnt)" data-ref="_M/Py_REFCNT">Py_REFCNT</a>(<a class="local col8 ref" href="#58v" title='v' data-ref="58v">v</a>) == <var>1</var>)</td></tr>
<tr><th id="271">271</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>    <a class="local col1 ref" href="#61entry" title='entry' data-ref="61entry">entry</a> = <a class="macro" href="../Modules/hashtable.h.html#179" title="_Py_hashtable_get_entry(p-&gt;hashtable, sizeof(v), &amp;(v))" data-ref="_M/_Py_HASHTABLE_GET_ENTRY">_Py_HASHTABLE_GET_ENTRY</a>(<a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>, <a class="local col8 ref" href="#58v" title='v' data-ref="58v">v</a>);</td></tr>
<tr><th id="274">274</th><td>    <b>if</b> (<a class="local col1 ref" href="#61entry" title='entry' data-ref="61entry">entry</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="275">275</th><td>        <i>/* write the reference index to the stream */</i></td></tr>
<tr><th id="276">276</th><td>        <a class="macro" href="../Modules/hashtable.h.html#55" title="do { ((sizeof(w) == (p-&gt;hashtable)-&gt;data_size) ? (void) (0) : __assert_fail (&quot;sizeof(w) == (p-&gt;hashtable)-&gt;data_size&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 276, __PRETTY_FUNCTION__)); memcpy(&amp;(w), ((const void *)((char *)((entry)) + sizeof(_Py_hashtable_entry_t) + (p-&gt;hashtable)-&gt;key_size)), sizeof(w)); } while (0)" data-ref="_M/_Py_HASHTABLE_ENTRY_READ_DATA">_Py_HASHTABLE_ENTRY_READ_DATA</a>(<a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>, <a class="local col1 ref" href="#61entry" title='entry' data-ref="61entry">entry</a>, <a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a>);</td></tr>
<tr><th id="277">277</th><td>        <i>/* we don't store "long" indices in the dict */</i></td></tr>
<tr><th id="278">278</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((0 &lt;= w &amp;&amp; w &lt;= 0x7fffffff) ? (void) (0) : __assert_fail (&quot;0 &lt;= w &amp;&amp; w &lt;= 0x7fffffff&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 278, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<var>0</var> &lt;= <a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a> &amp;&amp; <a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a> &lt;= <var>0x7fffffff</var>);</td></tr>
<tr><th id="279">279</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;r&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#49" title="&apos;r&apos;" data-ref="_M/TYPE_REF">TYPE_REF</a>, <a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>);</td></tr>
<tr><th id="280">280</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a>, <a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>);</td></tr>
<tr><th id="281">281</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="282">282</th><td>    } <b>else</b> {</td></tr>
<tr><th id="283">283</th><td>        <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col3 decl" id="63s" title='s' data-type='size_t' data-ref="63s">s</dfn> = <a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>-&gt;<a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_t::entries" title='_Py_hashtable_t::entries' data-ref="_Py_hashtable_t::entries">entries</a>;</td></tr>
<tr><th id="284">284</th><td>        <i>/* we don't support long indices */</i></td></tr>
<tr><th id="285">285</th><td>        <b>if</b> (<a class="local col3 ref" href="#63s" title='s' data-ref="63s">s</a> &gt;= <var>0x7fffffff</var>) {</td></tr>
<tr><th id="286">286</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"too many objects"</q>);</td></tr>
<tr><th id="287">287</th><td>            <b>goto</b> <a class="lbl" href="#64err" data-ref="64err">err</a>;</td></tr>
<tr><th id="288">288</th><td>        }</td></tr>
<tr><th id="289">289</th><td>        <a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a> = (<em>int</em>)<a class="local col3 ref" href="#63s" title='s' data-ref="63s">s</a>;</td></tr>
<tr><th id="290">290</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(v))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col8 ref" href="#58v" title='v' data-ref="58v">v</a>);</td></tr>
<tr><th id="291">291</th><td>        <b>if</b> (<a class="macro" href="../Modules/hashtable.h.html#162" title="_Py_hashtable_set(p-&gt;hashtable, sizeof(v), &amp;(v), sizeof(w), &amp;(w))" data-ref="_M/_Py_HASHTABLE_SET">_Py_HASHTABLE_SET</a>(<a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>, <a class="local col8 ref" href="#58v" title='v' data-ref="58v">v</a>, <a class="local col2 ref" href="#62w" title='w' data-ref="62w">w</a>) &lt; <var>0</var>) {</td></tr>
<tr><th id="292">292</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 292, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#58v" title='v' data-ref="58v">v</a>);</td></tr>
<tr><th id="293">293</th><td>            <b>goto</b> <a class="lbl" href="#64err" data-ref="64err">err</a>;</td></tr>
<tr><th id="294">294</th><td>        }</td></tr>
<tr><th id="295">295</th><td>        *<a class="local col9 ref" href="#59flag" title='flag' data-ref="59flag">flag</a> |= <a class="macro" href="#58" title="&apos;\x80&apos;" data-ref="_M/FLAG_REF">FLAG_REF</a>;</td></tr>
<tr><th id="296">296</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="297">297</th><td>    }</td></tr>
<tr><th id="298">298</th><td><dfn class="lbl" id="64err" data-ref="64err">err</dfn>:</td></tr>
<tr><th id="299">299</th><td>    <a class="local col0 ref" href="#60p" title='p' data-ref="60p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="300">300</th><td>    <b>return</b> <var>1</var>;</td></tr>
<tr><th id="301">301</th><td>}</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="304">304</th><td><a class="tu decl" href="#w_complex_object" title='w_complex_object' data-type='void w_complex_object(PyObject * v, char flag, WFILE * p)' data-ref="w_complex_object">w_complex_object</a>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="65v" title='v' data-type='PyObject *' data-ref="65v">v</dfn>, <em>char</em> <dfn class="local col6 decl" id="66flag" title='flag' data-type='char' data-ref="66flag">flag</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col7 decl" id="67p" title='p' data-type='WFILE *' data-ref="67p">p</dfn>);</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="307">307</th><td><dfn class="tu decl def" id="w_object" title='w_object' data-type='void w_object(PyObject * v, WFILE * p)' data-ref="w_object">w_object</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="68v" title='v' data-type='PyObject *' data-ref="68v">v</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col9 decl" id="69p" title='p' data-type='WFILE *' data-ref="69p">p</dfn>)</td></tr>
<tr><th id="308">308</th><td>{</td></tr>
<tr><th id="309">309</th><td>    <em>char</em> <dfn class="local col0 decl" id="70flag" title='flag' data-type='char' data-ref="70flag">flag</dfn> = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>    <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>++;</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td>    <b>if</b> (<a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='r' data-ref="(anonymous)::depth">depth</a> &gt; <a class="macro" href="#32" title="2000" data-ref="_M/MAX_MARSHAL_STACK_DEPTH">MAX_MARSHAL_STACK_DEPTH</a>) {</td></tr>
<tr><th id="314">314</th><td>        <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#68" title="2" data-ref="_M/WFERR_NESTEDTOODEEP">WFERR_NESTEDTOODEEP</a>;</td></tr>
<tr><th id="315">315</th><td>    }</td></tr>
<tr><th id="316">316</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="317">317</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;0&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#35" title="&apos;0&apos;" data-ref="_M/TYPE_NULL">TYPE_NULL</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="318">318</th><td>    }</td></tr>
<tr><th id="319">319</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>) {</td></tr>
<tr><th id="320">320</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;N&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#36" title="&apos;N&apos;" data-ref="_M/TYPE_NONE">TYPE_NONE</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="321">321</th><td>    }</td></tr>
<tr><th id="322">322</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <a class="ref" href="../Include/pyerrors.h.html#PyExc_StopIteration" title='PyExc_StopIteration' data-ref="PyExc_StopIteration">PyExc_StopIteration</a>) {</td></tr>
<tr><th id="323">323</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;S&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#39" title="&apos;S&apos;" data-ref="_M/TYPE_STOPITER">TYPE_STOPITER</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="324">324</th><td>    }</td></tr>
<tr><th id="325">325</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <a class="macro" href="../Include/sliceobject.h.html#11" title="(&amp;_Py_EllipsisObject)" data-ref="_M/Py_Ellipsis">Py_Ellipsis</a>) {</td></tr>
<tr><th id="326">326</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;.&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#40" title="&apos;.&apos;" data-ref="_M/TYPE_ELLIPSIS">TYPE_ELLIPSIS</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="327">327</th><td>    }</td></tr>
<tr><th id="328">328</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <a class="macro" href="../Include/boolobject.h.html#21" title="((PyObject *) &amp;_Py_FalseStruct)" data-ref="_M/Py_False">Py_False</a>) {</td></tr>
<tr><th id="329">329</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;F&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#37" title="&apos;F&apos;" data-ref="_M/TYPE_FALSE">TYPE_FALSE</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="330">330</th><td>    }</td></tr>
<tr><th id="331">331</th><td>    <b>else</b> <b>if</b> (<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a> == <a class="macro" href="../Include/boolobject.h.html#22" title="((PyObject *) &amp;_Py_TrueStruct)" data-ref="_M/Py_True">Py_True</a>) {</td></tr>
<tr><th id="332">332</th><td>        <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;T&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#38" title="&apos;T&apos;" data-ref="_M/TYPE_TRUE">TYPE_TRUE</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="333">333</th><td>    }</td></tr>
<tr><th id="334">334</th><td>    <b>else</b> <b>if</b> (!<a class="tu ref" href="#w_ref" title='w_ref' data-use='c' data-ref="w_ref">w_ref</a>(<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a>, &amp;<a class="local col0 ref" href="#70flag" title='flag' data-ref="70flag">flag</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>))</td></tr>
<tr><th id="335">335</th><td>        <a class="tu ref" href="#w_complex_object" title='w_complex_object' data-use='c' data-ref="w_complex_object">w_complex_object</a>(<a class="local col8 ref" href="#68v" title='v' data-ref="68v">v</a>, <a class="local col0 ref" href="#70flag" title='flag' data-ref="70flag">flag</a>, <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>);</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>    <a class="local col9 ref" href="#69p" title='p' data-ref="69p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="338">338</th><td>}</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="341">341</th><td><dfn class="tu decl def" id="w_complex_object" title='w_complex_object' data-type='void w_complex_object(PyObject * v, char flag, WFILE * p)' data-ref="w_complex_object">w_complex_object</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="71v" title='v' data-type='PyObject *' data-ref="71v">v</dfn>, <em>char</em> <dfn class="local col2 decl" id="72flag" title='flag' data-type='char' data-ref="72flag">flag</dfn>, <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col3 decl" id="73p" title='p' data-type='WFILE *' data-ref="73p">p</dfn>)</td></tr>
<tr><th id="342">342</th><td>{</td></tr>
<tr><th id="343">343</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col4 decl" id="74i" title='i' data-type='Py_ssize_t' data-ref="74i">i</dfn>, <dfn class="local col5 decl" id="75n" title='n' data-type='Py_ssize_t' data-ref="75n">n</dfn>;</td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td>    <b>if</b> (<a class="macro" href="../Include/longobject.h.html#16" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyLong_Type)" data-ref="_M/PyLong_CheckExact">PyLong_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="346">346</th><td>        <em>long</em> <dfn class="local col6 decl" id="76x" title='x' data-type='long' data-ref="76x">x</dfn> = <a class="ref" href="../Include/longobject.h.html#PyLong_AsLong" title='PyLong_AsLong' data-ref="PyLong_AsLong">PyLong_AsLong</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>);</td></tr>
<tr><th id="347">347</th><td>        <b>if</b> ((<a class="local col6 ref" href="#76x" title='x' data-ref="76x">x</a> == -<var>1</var>)  &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="348">348</th><td>            <a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a> *<dfn class="local col7 decl" id="77ob" title='ob' data-type='PyLongObject *' data-ref="77ob">ob</dfn> = (<a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a> *)<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>;</td></tr>
<tr><th id="349">349</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_Clear" title='PyErr_Clear' data-ref="PyErr_Clear">PyErr_Clear</a>();</td></tr>
<tr><th id="350">350</th><td>            <a class="tu ref" href="#w_PyLong" title='w_PyLong' data-use='c' data-ref="w_PyLong">w_PyLong</a>(<a class="local col7 ref" href="#77ob" title='ob' data-ref="77ob">ob</a>, <a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag">flag</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="351">351</th><td>        }</td></tr>
<tr><th id="352">352</th><td>        <b>else</b> {</td></tr>
<tr><th id="353">353</th><td><u>#<span data-ppcond="353">if</span> <a class="macro" href="../pyconfig.h.html#1286" title="8" data-ref="_M/SIZEOF_LONG">SIZEOF_LONG</a> &gt; 4</u></td></tr>
<tr><th id="354">354</th><td>            <em>long</em> <dfn class="local col8 decl" id="78y" title='y' data-type='long' data-ref="78y">y</dfn> = <a class="macro" href="../Include/pyport.h.html#281" title="((x) &gt;&gt; (31))" data-ref="_M/Py_ARITHMETIC_RIGHT_SHIFT">Py_ARITHMETIC_RIGHT_SHIFT</a>(<em>long</em>, <a class="local col6 ref" href="#76x" title='x' data-ref="76x">x</a>, <var>31</var>);</td></tr>
<tr><th id="355">355</th><td>            <b>if</b> (<a class="local col8 ref" href="#78y" title='y' data-ref="78y">y</a> &amp;&amp; <a class="local col8 ref" href="#78y" title='y' data-ref="78y">y</a> != -<var>1</var>) {</td></tr>
<tr><th id="356">356</th><td>                <i>/* Too large for TYPE_INT */</i></td></tr>
<tr><th id="357">357</th><td>                <a class="tu ref" href="#w_PyLong" title='w_PyLong' data-use='c' data-ref="w_PyLong">w_PyLong</a>((<a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a>*)<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, <a class="local col2 ref" href="#72flag" title='flag' data-ref="72flag">flag</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="358">358</th><td>            }</td></tr>
<tr><th id="359">359</th><td>            <b>else</b></td></tr>
<tr><th id="360">360</th><td><u>#<span data-ppcond="353">endif</span></u></td></tr>
<tr><th id="361">361</th><td>            {</td></tr>
<tr><th id="362">362</th><td>                <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;i&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#41" title="&apos;i&apos;" data-ref="_M/TYPE_INT">TYPE_INT</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="363">363</th><td>                <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col6 ref" href="#76x" title='x' data-ref="76x">x</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="364">364</th><td>            }</td></tr>
<tr><th id="365">365</th><td>        }</td></tr>
<tr><th id="366">366</th><td>    }</td></tr>
<tr><th id="367">367</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/floatobject.h.html#24" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyFloat_Type)" data-ref="_M/PyFloat_CheckExact">PyFloat_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="368">368</th><td>        <b>if</b> (<a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="369">369</th><td>            <em>unsigned</em> <em>char</em> <dfn class="local col9 decl" id="79buf" title='buf' data-type='unsigned char [8]' data-ref="79buf">buf</dfn>[<var>8</var>];</td></tr>
<tr><th id="370">370</th><td>            <b>if</b> (<a class="ref" href="../Include/floatobject.h.html#_PyFloat_Pack8" title='_PyFloat_Pack8' data-ref="_PyFloat_Pack8">_PyFloat_Pack8</a>(<a class="ref" href="../Include/floatobject.h.html#PyFloat_AsDouble" title='PyFloat_AsDouble' data-ref="PyFloat_AsDouble">PyFloat_AsDouble</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="371">371</th><td>                               <a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a>, <var>1</var>) &lt; <var>0</var>) {</td></tr>
<tr><th id="372">372</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="373">373</th><td>                <b>return</b>;</td></tr>
<tr><th id="374">374</th><td>            }</td></tr>
<tr><th id="375">375</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;g&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#43" title="&apos;g&apos;" data-ref="_M/TYPE_BINARY_FLOAT">TYPE_BINARY_FLOAT</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="376">376</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>((<em>char</em>*)<a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a>, <var>8</var>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="377">377</th><td>        }</td></tr>
<tr><th id="378">378</th><td>        <b>else</b> {</td></tr>
<tr><th id="379">379</th><td>            <em>char</em> *<dfn class="local col0 decl" id="80buf" title='buf' data-type='char *' data-ref="80buf">buf</dfn> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_double_to_string" title='PyOS_double_to_string' data-ref="PyOS_double_to_string">PyOS_double_to_string</a>(<a class="macro" href="../Include/floatobject.h.html#51" title="(((PyFloatObject *)(v))-&gt;ob_fval)" data-ref="_M/PyFloat_AS_DOUBLE">PyFloat_AS_DOUBLE</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="380">380</th><td>                                              <kbd>'g'</kbd>, <var>17</var>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="381">381</th><td>            <b>if</b> (!<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>) {</td></tr>
<tr><th id="382">382</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#69" title="3" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</a>;</td></tr>
<tr><th id="383">383</th><td>                <b>return</b>;</td></tr>
<tr><th id="384">384</th><td>            }</td></tr>
<tr><th id="385">385</th><td>            <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="ref" href="../../include/string.h.html#strlen" title='strlen' data-ref="strlen">strlen</a>(<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>);</td></tr>
<tr><th id="386">386</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;f&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#42" title="&apos;f&apos;" data-ref="_M/TYPE_FLOAT">TYPE_FLOAT</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="387">387</th><td>            <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((int)n); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>int</em>)<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="388">388</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>(<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>, <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="389">389</th><td>            <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col0 ref" href="#80buf" title='buf' data-ref="80buf">buf</a>);</td></tr>
<tr><th id="390">390</th><td>        }</td></tr>
<tr><th id="391">391</th><td>    }</td></tr>
<tr><th id="392">392</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/complexobject.h.html#42" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyComplex_Type)" data-ref="_M/PyComplex_CheckExact">PyComplex_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="393">393</th><td>        <b>if</b> (<a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="394">394</th><td>            <em>unsigned</em> <em>char</em> <dfn class="local col1 decl" id="81buf" title='buf' data-type='unsigned char [8]' data-ref="81buf">buf</dfn>[<var>8</var>];</td></tr>
<tr><th id="395">395</th><td>            <b>if</b> (<a class="ref" href="../Include/floatobject.h.html#_PyFloat_Pack8" title='_PyFloat_Pack8' data-ref="_PyFloat_Pack8">_PyFloat_Pack8</a>(<a class="ref" href="../Include/complexobject.h.html#PyComplex_RealAsDouble" title='PyComplex_RealAsDouble' data-ref="PyComplex_RealAsDouble">PyComplex_RealAsDouble</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="396">396</th><td>                               <a class="local col1 ref" href="#81buf" title='buf' data-ref="81buf">buf</a>, <var>1</var>) &lt; <var>0</var>) {</td></tr>
<tr><th id="397">397</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="398">398</th><td>                <b>return</b>;</td></tr>
<tr><th id="399">399</th><td>            }</td></tr>
<tr><th id="400">400</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;y&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#45" title="&apos;y&apos;" data-ref="_M/TYPE_BINARY_COMPLEX">TYPE_BINARY_COMPLEX</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="401">401</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>((<em>char</em>*)<a class="local col1 ref" href="#81buf" title='buf' data-ref="81buf">buf</a>, <var>8</var>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="402">402</th><td>            <b>if</b> (<a class="ref" href="../Include/floatobject.h.html#_PyFloat_Pack8" title='_PyFloat_Pack8' data-ref="_PyFloat_Pack8">_PyFloat_Pack8</a>(<a class="ref" href="../Include/complexobject.h.html#PyComplex_ImagAsDouble" title='PyComplex_ImagAsDouble' data-ref="PyComplex_ImagAsDouble">PyComplex_ImagAsDouble</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="403">403</th><td>                               <a class="local col1 ref" href="#81buf" title='buf' data-ref="81buf">buf</a>, <var>1</var>) &lt; <var>0</var>) {</td></tr>
<tr><th id="404">404</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="405">405</th><td>                <b>return</b>;</td></tr>
<tr><th id="406">406</th><td>            }</td></tr>
<tr><th id="407">407</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>((<em>char</em>*)<a class="local col1 ref" href="#81buf" title='buf' data-ref="81buf">buf</a>, <var>8</var>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="408">408</th><td>        }</td></tr>
<tr><th id="409">409</th><td>        <b>else</b> {</td></tr>
<tr><th id="410">410</th><td>            <em>char</em> *<dfn class="local col2 decl" id="82buf" title='buf' data-type='char *' data-ref="82buf">buf</dfn>;</td></tr>
<tr><th id="411">411</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;x&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#44" title="&apos;x&apos;" data-ref="_M/TYPE_COMPLEX">TYPE_COMPLEX</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="412">412</th><td>            <a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_double_to_string" title='PyOS_double_to_string' data-ref="PyOS_double_to_string">PyOS_double_to_string</a>(<a class="ref" href="../Include/complexobject.h.html#PyComplex_RealAsDouble" title='PyComplex_RealAsDouble' data-ref="PyComplex_RealAsDouble">PyComplex_RealAsDouble</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="413">413</th><td>                                        <kbd>'g'</kbd>, <var>17</var>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="414">414</th><td>            <b>if</b> (!<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>) {</td></tr>
<tr><th id="415">415</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#69" title="3" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</a>;</td></tr>
<tr><th id="416">416</th><td>                <b>return</b>;</td></tr>
<tr><th id="417">417</th><td>            }</td></tr>
<tr><th id="418">418</th><td>            <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="ref" href="../../include/string.h.html#strlen" title='strlen' data-ref="strlen">strlen</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>);</td></tr>
<tr><th id="419">419</th><td>            <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((int)n); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>int</em>)<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="420">420</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>, <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="421">421</th><td>            <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>);</td></tr>
<tr><th id="422">422</th><td>            <a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_double_to_string" title='PyOS_double_to_string' data-ref="PyOS_double_to_string">PyOS_double_to_string</a>(<a class="ref" href="../Include/complexobject.h.html#PyComplex_ImagAsDouble" title='PyComplex_ImagAsDouble' data-ref="PyComplex_ImagAsDouble">PyComplex_ImagAsDouble</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="423">423</th><td>                                        <kbd>'g'</kbd>, <var>17</var>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="424">424</th><td>            <b>if</b> (!<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>) {</td></tr>
<tr><th id="425">425</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#69" title="3" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</a>;</td></tr>
<tr><th id="426">426</th><td>                <b>return</b>;</td></tr>
<tr><th id="427">427</th><td>            }</td></tr>
<tr><th id="428">428</th><td>            <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="ref" href="../../include/string.h.html#strlen" title='strlen' data-ref="strlen">strlen</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>);</td></tr>
<tr><th id="429">429</th><td>            <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((int)n); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>int</em>)<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="430">430</th><td>            <a class="tu ref" href="#w_string" title='w_string' data-use='c' data-ref="w_string">w_string</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>, <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="431">431</th><td>            <a class="ref" href="../Include/pymem.h.html#PyMem_Free" title='PyMem_Free' data-ref="PyMem_Free">PyMem_Free</a>(<a class="local col2 ref" href="#82buf" title='buf' data-ref="82buf">buf</a>);</td></tr>
<tr><th id="432">432</th><td>        }</td></tr>
<tr><th id="433">433</th><td>    }</td></tr>
<tr><th id="434">434</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/bytesobject.h.html#49" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyBytes_Type)" data-ref="_M/PyBytes_CheckExact">PyBytes_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="435">435</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;s&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#47" title="&apos;s&apos;" data-ref="_M/TYPE_STRING">TYPE_STRING</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="436">436</th><td>        <a class="tu ref" href="#w_pstring" title='w_pstring' data-use='c' data-ref="w_pstring">w_pstring</a>(<a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 436, __PRETTY_FUNCTION__)), (((PyBytesObject *)(v))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>), <a class="macro" href="../Include/bytesobject.h.html#89" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 436, __PRETTY_FUNCTION__)),(((PyVarObject*)(v))-&gt;ob_size))" data-ref="_M/PyBytes_GET_SIZE">PyBytes_GET_SIZE</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="437">437</th><td>    }</td></tr>
<tr><th id="438">438</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/unicodeobject.h.html#368" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyUnicode_Type)" data-ref="_M/PyUnicode_CheckExact">PyUnicode_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="439">439</th><td>        <b>if</b> (<a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &gt;= <var>4</var> &amp;&amp; <a class="macro" href="../Include/unicodeobject.h.html#424" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 439, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 439, __PRETTY_FUNCTION__)), ((PyASCIIObject*)v)-&gt;state.ascii)" data-ref="_M/PyUnicode_IS_ASCII">PyUnicode_IS_ASCII</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="440">440</th><td>            <em>int</em> <dfn class="local col3 decl" id="83is_short" title='is_short' data-type='int' data-ref="83is_short">is_short</dfn> = <a class="macro" href="../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 440, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 440, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(v))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>) &lt; <var>256</var>;</td></tr>
<tr><th id="441">441</th><td>            <b>if</b> (<a class="local col3 ref" href="#83is_short" title='is_short' data-ref="83is_short">is_short</a>) {</td></tr>
<tr><th id="442">442</th><td>                <b>if</b> (<a class="macro" href="../Include/unicodeobject.h.html#1025" title="(((PyASCIIObject *)(v))-&gt;state.interned)" data-ref="_M/PyUnicode_CHECK_INTERNED">PyUnicode_CHECK_INTERNED</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>))</td></tr>
<tr><th id="443">443</th><td>                    <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;Z&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#64" title="&apos;Z&apos;" data-ref="_M/TYPE_SHORT_ASCII_INTERNED">TYPE_SHORT_ASCII_INTERNED</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="444">444</th><td>                <b>else</b></td></tr>
<tr><th id="445">445</th><td>                    <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;z&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#63" title="&apos;z&apos;" data-ref="_M/TYPE_SHORT_ASCII">TYPE_SHORT_ASCII</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="446">446</th><td>                <a class="tu ref" href="#w_short_pstring" title='w_short_pstring' data-use='c' data-ref="w_short_pstring">w_short_pstring</a>((<em>char</em> *) <a class="macro" href="../Include/unicodeobject.h.html#455" title="((Py_UCS1*)(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 446, __PRETTY_FUNCTION__)), (((PyASCIIObject*)(v))-&gt;state.compact) ? ((((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 446, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 446, __PRETTY_FUNCTION__)), ((PyASCIIObject*)v)-&gt;state.ascii) ? ((void*)((PyASCIIObject*)(v) + 1)) : ((void*)((PyCompactUnicodeObject*)(v) + 1))) : (((((PyUnicodeObject*)(v))-&gt;data.any) ? (void) (0) : __assert_fail (&quot;((PyUnicodeObject*)(v))-&gt;data.any&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 446, __PRETTY_FUNCTION__)), ((((PyUnicodeObject *)(v))-&gt;data.any)))))" data-ref="_M/PyUnicode_1BYTE_DATA">PyUnicode_1BYTE_DATA</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="447">447</th><td>                                <a class="macro" href="../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 447, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 447, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(v))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="448">448</th><td>            }</td></tr>
<tr><th id="449">449</th><td>            <b>else</b> {</td></tr>
<tr><th id="450">450</th><td>                <b>if</b> (<a class="macro" href="../Include/unicodeobject.h.html#1025" title="(((PyASCIIObject *)(v))-&gt;state.interned)" data-ref="_M/PyUnicode_CHECK_INTERNED">PyUnicode_CHECK_INTERNED</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>))</td></tr>
<tr><th id="451">451</th><td>                    <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;A&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#61" title="&apos;A&apos;" data-ref="_M/TYPE_ASCII_INTERNED">TYPE_ASCII_INTERNED</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="452">452</th><td>                <b>else</b></td></tr>
<tr><th id="453">453</th><td>                    <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;a&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#60" title="&apos;a&apos;" data-ref="_M/TYPE_ASCII">TYPE_ASCII</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="454">454</th><td>                <a class="tu ref" href="#w_pstring" title='w_pstring' data-use='c' data-ref="w_pstring">w_pstring</a>((<em>char</em> *) <a class="macro" href="../Include/unicodeobject.h.html#455" title="((Py_UCS1*)(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 454, __PRETTY_FUNCTION__)), (((PyASCIIObject*)(v))-&gt;state.compact) ? ((((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 454, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 454, __PRETTY_FUNCTION__)), ((PyASCIIObject*)v)-&gt;state.ascii) ? ((void*)((PyASCIIObject*)(v) + 1)) : ((void*)((PyCompactUnicodeObject*)(v) + 1))) : (((((PyUnicodeObject*)(v))-&gt;data.any) ? (void) (0) : __assert_fail (&quot;((PyUnicodeObject*)(v))-&gt;data.any&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 454, __PRETTY_FUNCTION__)), ((((PyUnicodeObject *)(v))-&gt;data.any)))))" data-ref="_M/PyUnicode_1BYTE_DATA">PyUnicode_1BYTE_DATA</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>),</td></tr>
<tr><th id="455">455</th><td>                          <a class="macro" href="../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 455, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)v)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 455, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(v))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="456">456</th><td>            }</td></tr>
<tr><th id="457">457</th><td>        }</td></tr>
<tr><th id="458">458</th><td>        <b>else</b> {</td></tr>
<tr><th id="459">459</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="84utf8" title='utf8' data-type='PyObject *' data-ref="84utf8">utf8</dfn>;</td></tr>
<tr><th id="460">460</th><td>            <a class="local col4 ref" href="#84utf8" title='utf8' data-ref="84utf8">utf8</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_AsEncodedString" title='PyUnicode_AsEncodedString' data-ref="PyUnicode_AsEncodedString">PyUnicode_AsEncodedString</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, <q>"utf8"</q>, <q>"surrogatepass"</q>);</td></tr>
<tr><th id="461">461</th><td>            <b>if</b> (<a class="local col4 ref" href="#84utf8" title='utf8' data-ref="84utf8">utf8</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="462">462</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="463">463</th><td>                <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="464">464</th><td>                <b>return</b>;</td></tr>
<tr><th id="465">465</th><td>            }</td></tr>
<tr><th id="466">466</th><td>            <b>if</b> (<a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &gt;= <var>3</var> &amp;&amp;  <a class="macro" href="../Include/unicodeobject.h.html#1025" title="(((PyASCIIObject *)(v))-&gt;state.interned)" data-ref="_M/PyUnicode_CHECK_INTERNED">PyUnicode_CHECK_INTERNED</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>))</td></tr>
<tr><th id="467">467</th><td>                <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;t&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#48" title="&apos;t&apos;" data-ref="_M/TYPE_INTERNED">TYPE_INTERNED</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="468">468</th><td>            <b>else</b></td></tr>
<tr><th id="469">469</th><td>                <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;u&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#54" title="&apos;u&apos;" data-ref="_M/TYPE_UNICODE">TYPE_UNICODE</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="470">470</th><td>            <a class="tu ref" href="#w_pstring" title='w_pstring' data-use='c' data-ref="w_pstring">w_pstring</a>(<a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)(utf8))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(utf8)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 470, __PRETTY_FUNCTION__)), (((PyBytesObject *)(utf8))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>(<a class="local col4 ref" href="#84utf8" title='utf8' data-ref="84utf8">utf8</a>), <a class="macro" href="../Include/bytesobject.h.html#89" title="(((((((((PyObject*)(utf8))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(utf8)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 470, __PRETTY_FUNCTION__)),(((PyVarObject*)(utf8))-&gt;ob_size))" data-ref="_M/PyBytes_GET_SIZE">PyBytes_GET_SIZE</a>(<a class="local col4 ref" href="#84utf8" title='utf8' data-ref="84utf8">utf8</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="471">471</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(utf8); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 471, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#84utf8" title='utf8' data-ref="84utf8">utf8</a>);</td></tr>
<tr><th id="472">472</th><td>        }</td></tr>
<tr><th id="473">473</th><td>    }</td></tr>
<tr><th id="474">474</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/tupleobject.h.html#41" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyTuple_Type)" data-ref="_M/PyTuple_CheckExact">PyTuple_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="475">475</th><td>        <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="ref" href="../Include/tupleobject.h.html#PyTuple_Size" title='PyTuple_Size' data-ref="PyTuple_Size">PyTuple_Size</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>);</td></tr>
<tr><th id="476">476</th><td>        <b>if</b> (<a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='r' data-ref="(anonymous)::version">version</a> &gt;= <var>4</var> &amp;&amp; <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> &lt; <var>256</var>) {</td></tr>
<tr><th id="477">477</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;)&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#62" title="&apos;)&apos;" data-ref="_M/TYPE_SMALL_TUPLE">TYPE_SMALL_TUPLE</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="478">478</th><td>            <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = ((unsigned char)n); } while(0)" data-ref="_M/w_byte">w_byte</a>((<em>unsigned</em> <em>char</em>)<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="479">479</th><td>        }</td></tr>
<tr><th id="480">480</th><td>        <b>else</b> {</td></tr>
<tr><th id="481">481</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;(&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#50" title="&apos;(&apos;" data-ref="_M/TYPE_TUPLE">TYPE_TUPLE</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="482">482</th><td>            <a class="macro" href="#175" title="do { if ((n) &gt; 0x7FFFFFFF) { (p)-&gt;depth--; (p)-&gt;error = 1; return; } w_long((long)(n), p); } while(0)" data-ref="_M/W_SIZE">W_SIZE</a>(<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="483">483</th><td>        }</td></tr>
<tr><th id="484">484</th><td>        <b>for</b> (<a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> = <var>0</var>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> &lt; <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a>++) {</td></tr>
<tr><th id="485">485</th><td>            <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="macro" href="../Include/tupleobject.h.html#58" title="(((PyTupleObject *)(v))-&gt;ob_item[i])" data-ref="_M/PyTuple_GET_ITEM">PyTuple_GET_ITEM</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="486">486</th><td>        }</td></tr>
<tr><th id="487">487</th><td>    }</td></tr>
<tr><th id="488">488</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/listobject.h.html#50" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyList_Type)" data-ref="_M/PyList_CheckExact">PyList_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="489">489</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;[&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#51" title="&apos;[&apos;" data-ref="_M/TYPE_LIST">TYPE_LIST</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="490">490</th><td>        <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="macro" href="../Include/listobject.h.html#74" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 25))) != 0)) ? (void) (0) : __assert_fail (&quot;PyList_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 490, __PRETTY_FUNCTION__)),(((PyVarObject*)(v))-&gt;ob_size))" data-ref="_M/PyList_GET_SIZE">PyList_GET_SIZE</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>);</td></tr>
<tr><th id="491">491</th><td>        <a class="macro" href="#175" title="do { if ((n) &gt; 0x7FFFFFFF) { (p)-&gt;depth--; (p)-&gt;error = 1; return; } w_long((long)(n), p); } while(0)" data-ref="_M/W_SIZE">W_SIZE</a>(<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="492">492</th><td>        <b>for</b> (<a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> = <var>0</var>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a> &lt; <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>; <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a>++) {</td></tr>
<tr><th id="493">493</th><td>            <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="macro" href="../Include/listobject.h.html#72" title="(((PyListObject *)(v))-&gt;ob_item[i])" data-ref="_M/PyList_GET_ITEM">PyList_GET_ITEM</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, <a class="local col4 ref" href="#74i" title='i' data-ref="74i">i</a>), <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="494">494</th><td>        }</td></tr>
<tr><th id="495">495</th><td>    }</td></tr>
<tr><th id="496">496</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/dictobject.h.html#60" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyDict_Type)" data-ref="_M/PyDict_CheckExact">PyDict_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="497">497</th><td>        <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col5 decl" id="85pos" title='pos' data-type='Py_ssize_t' data-ref="85pos">pos</dfn>;</td></tr>
<tr><th id="498">498</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="86key" title='key' data-type='PyObject *' data-ref="86key">key</dfn>, *<dfn class="local col7 decl" id="87value" title='value' data-type='PyObject *' data-ref="87value">value</dfn>;</td></tr>
<tr><th id="499">499</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;{&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#52" title="&apos;{&apos;" data-ref="_M/TYPE_DICT">TYPE_DICT</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="500">500</th><td>        <i>/* This one is NULL object terminated! */</i></td></tr>
<tr><th id="501">501</th><td>        <a class="local col5 ref" href="#85pos" title='pos' data-ref="85pos">pos</a> = <var>0</var>;</td></tr>
<tr><th id="502">502</th><td>        <b>while</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_Next" title='PyDict_Next' data-ref="PyDict_Next">PyDict_Next</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, &amp;<a class="local col5 ref" href="#85pos" title='pos' data-ref="85pos">pos</a>, &amp;<a class="local col6 ref" href="#86key" title='key' data-ref="86key">key</a>, &amp;<a class="local col7 ref" href="#87value" title='value' data-ref="87value">value</a>)) {</td></tr>
<tr><th id="503">503</th><td>            <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col6 ref" href="#86key" title='key' data-ref="86key">key</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="504">504</th><td>            <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col7 ref" href="#87value" title='value' data-ref="87value">value</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="505">505</th><td>        }</td></tr>
<tr><th id="506">506</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>((<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *)<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="507">507</th><td>    }</td></tr>
<tr><th id="508">508</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/setobject.h.html#92" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PySet_Type || (((PyObject*)(v))-&gt;ob_type) == &amp;PyFrozenSet_Type)" data-ref="_M/PyAnySet_CheckExact">PyAnySet_CheckExact</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="509">509</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="88value" title='value' data-type='PyObject *' data-ref="88value">value</dfn>, *<dfn class="local col9 decl" id="89it" title='it' data-type='PyObject *' data-ref="89it">it</dfn>;</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td>        <b>if</b> (<a class="macro" href="../Include/object.h.html#486" title="((((PyObject*)(v))-&gt;ob_type) == (&amp;PySet_Type) || PyType_IsSubtype((((PyObject*)(v))-&gt;ob_type), (&amp;PySet_Type)))" data-ref="_M/PyObject_TypeCheck">PyObject_TypeCheck</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, &amp;<a class="ref" href="../Include/setobject.h.html#PySet_Type" title='PySet_Type' data-ref="PySet_Type">PySet_Type</a>))</td></tr>
<tr><th id="512">512</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;&lt;&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#56" title="&apos;&lt;&apos;" data-ref="_M/TYPE_SET">TYPE_SET</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="513">513</th><td>        <b>else</b></td></tr>
<tr><th id="514">514</th><td>            <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;&gt;&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#57" title="&apos;&gt;&apos;" data-ref="_M/TYPE_FROZENSET">TYPE_FROZENSET</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="515">515</th><td>        <a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> = <a class="ref" href="../Include/abstract.h.html#PyObject_Size" title='PyObject_Size' data-ref="PyObject_Size">PyObject_Size</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>);</td></tr>
<tr><th id="516">516</th><td>        <b>if</b> (<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a> == -<var>1</var>) {</td></tr>
<tr><th id="517">517</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="518">518</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="519">519</th><td>            <b>return</b>;</td></tr>
<tr><th id="520">520</th><td>        }</td></tr>
<tr><th id="521">521</th><td>        <a class="macro" href="#175" title="do { if ((n) &gt; 0x7FFFFFFF) { (p)-&gt;depth--; (p)-&gt;error = 1; return; } w_long((long)(n), p); } while(0)" data-ref="_M/W_SIZE">W_SIZE</a>(<a class="local col5 ref" href="#75n" title='n' data-ref="75n">n</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="522">522</th><td>        <a class="local col9 ref" href="#89it" title='it' data-ref="89it">it</a> = <a class="ref" href="../Include/abstract.h.html#PyObject_GetIter" title='PyObject_GetIter' data-ref="PyObject_GetIter">PyObject_GetIter</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>);</td></tr>
<tr><th id="523">523</th><td>        <b>if</b> (<a class="local col9 ref" href="#89it" title='it' data-ref="89it">it</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="524">524</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="525">525</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="526">526</th><td>            <b>return</b>;</td></tr>
<tr><th id="527">527</th><td>        }</td></tr>
<tr><th id="528">528</th><td>        <b>while</b> ((<a class="local col8 ref" href="#88value" title='value' data-ref="88value">value</a> = <a class="ref" href="../Include/abstract.h.html#PyIter_Next" title='PyIter_Next' data-ref="PyIter_Next">PyIter_Next</a>(<a class="local col9 ref" href="#89it" title='it' data-ref="89it">it</a>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="529">529</th><td>            <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col8 ref" href="#88value" title='value' data-ref="88value">value</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="530">530</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(value); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 530, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#88value" title='value' data-ref="88value">value</a>);</td></tr>
<tr><th id="531">531</th><td>        }</td></tr>
<tr><th id="532">532</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(it); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 532, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#89it" title='it' data-ref="89it">it</a>);</td></tr>
<tr><th id="533">533</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="534">534</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="535">535</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="536">536</th><td>            <b>return</b>;</td></tr>
<tr><th id="537">537</th><td>        }</td></tr>
<tr><th id="538">538</th><td>    }</td></tr>
<tr><th id="539">539</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/code.h.html#99" title="((((PyObject*)(v))-&gt;ob_type) == &amp;PyCode_Type)" data-ref="_M/PyCode_Check">PyCode_Check</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="540">540</th><td>        <a class="typedef" href="../Include/code.h.html#PyCodeObject" title='PyCodeObject' data-type='struct PyCodeObject' data-ref="PyCodeObject">PyCodeObject</a> *<dfn class="local col0 decl" id="90co" title='co' data-type='PyCodeObject *' data-ref="90co">co</dfn> = (<a class="typedef" href="../Include/code.h.html#PyCodeObject" title='PyCodeObject' data-type='struct PyCodeObject' data-ref="PyCodeObject">PyCodeObject</a> *)<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>;</td></tr>
<tr><th id="541">541</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;c&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#53" title="&apos;c&apos;" data-ref="_M/TYPE_CODE">TYPE_CODE</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="542">542</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_argcount" title='(anonymous struct)::co_argcount' data-ref="(anonymous)::co_argcount">co_argcount</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="543">543</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_kwonlyargcount" title='(anonymous struct)::co_kwonlyargcount' data-ref="(anonymous)::co_kwonlyargcount">co_kwonlyargcount</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="544">544</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_nlocals" title='(anonymous struct)::co_nlocals' data-ref="(anonymous)::co_nlocals">co_nlocals</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="545">545</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_stacksize" title='(anonymous struct)::co_stacksize' data-ref="(anonymous)::co_stacksize">co_stacksize</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="546">546</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_flags" title='(anonymous struct)::co_flags' data-ref="(anonymous)::co_flags">co_flags</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="547">547</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_code" title='(anonymous struct)::co_code' data-ref="(anonymous)::co_code">co_code</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="548">548</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_consts" title='(anonymous struct)::co_consts' data-ref="(anonymous)::co_consts">co_consts</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="549">549</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_names" title='(anonymous struct)::co_names' data-ref="(anonymous)::co_names">co_names</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="550">550</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_varnames" title='(anonymous struct)::co_varnames' data-ref="(anonymous)::co_varnames">co_varnames</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="551">551</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_freevars" title='(anonymous struct)::co_freevars' data-ref="(anonymous)::co_freevars">co_freevars</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="552">552</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_cellvars" title='(anonymous struct)::co_cellvars' data-ref="(anonymous)::co_cellvars">co_cellvars</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="553">553</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_filename" title='(anonymous struct)::co_filename' data-ref="(anonymous)::co_filename">co_filename</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="554">554</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_name" title='(anonymous struct)::co_name' data-ref="(anonymous)::co_name">co_name</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="555">555</th><td>        <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_firstlineno" title='(anonymous struct)::co_firstlineno' data-ref="(anonymous)::co_firstlineno">co_firstlineno</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="556">556</th><td>        <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col0 ref" href="#90co" title='co' data-ref="90co">co</a>-&gt;<a class="ref" href="../Include/code.h.html#(anonymous)::co_lnotab" title='(anonymous struct)::co_lnotab' data-ref="(anonymous)::co_lnotab">co_lnotab</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="557">557</th><td>    }</td></tr>
<tr><th id="558">558</th><td>    <b>else</b> <b>if</b> (<a class="macro" href="../Include/abstract.h.html#510" title="(((v)-&gt;ob_type-&gt;tp_as_buffer != ((void*)0)) &amp;&amp; ((v)-&gt;ob_type-&gt;tp_as_buffer-&gt;bf_getbuffer != ((void*)0)))" data-ref="_M/PyObject_CheckBuffer">PyObject_CheckBuffer</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>)) {</td></tr>
<tr><th id="559">559</th><td>        <i>/* Write unknown bytes-like objects as a bytes object */</i></td></tr>
<tr><th id="560">560</th><td>        <a class="typedef" href="../Include/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer">Py_buffer</a> <dfn class="local col1 decl" id="91view" title='view' data-type='Py_buffer' data-ref="91view">view</dfn>;</td></tr>
<tr><th id="561">561</th><td>        <b>if</b> (<a class="ref" href="../Include/abstract.h.html#PyObject_GetBuffer" title='PyObject_GetBuffer' data-ref="PyObject_GetBuffer">PyObject_GetBuffer</a>(<a class="local col1 ref" href="#71v" title='v' data-ref="71v">v</a>, &amp;<a class="local col1 ref" href="#91view" title='view' data-ref="91view">view</a>, <a class="macro" href="../Include/object.h.html#204" title="0" data-ref="_M/PyBUF_SIMPLE">PyBUF_SIMPLE</a>) != <var>0</var>) {</td></tr>
<tr><th id="562">562</th><td>            <a class="macro" href="#83" title="do { if ((p)-&gt;ptr != (p)-&gt;end || w_reserve((p), 1)) *(p)-&gt;ptr++ = (&apos;?&apos;); } while(0)" data-ref="_M/w_byte">w_byte</a>(<a class="macro" href="#55" title="&apos;?&apos;" data-ref="_M/TYPE_UNKNOWN">TYPE_UNKNOWN</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="563">563</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="564">564</th><td>            <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="565">565</th><td>            <b>return</b>;</td></tr>
<tr><th id="566">566</th><td>        }</td></tr>
<tr><th id="567">567</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;s&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#47" title="&apos;s&apos;" data-ref="_M/TYPE_STRING">TYPE_STRING</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="568">568</th><td>        <a class="tu ref" href="#w_pstring" title='w_pstring' data-use='c' data-ref="w_pstring">w_pstring</a>(<a class="local col1 ref" href="#91view" title='view' data-ref="91view">view</a>.<a class="ref" href="../Include/object.h.html#bufferinfo::buf" title='bufferinfo::buf' data-ref="bufferinfo::buf">buf</a>, <a class="local col1 ref" href="#91view" title='view' data-ref="91view">view</a>.<a class="ref" href="../Include/object.h.html#bufferinfo::len" title='bufferinfo::len' data-ref="bufferinfo::len">len</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="569">569</th><td>        <a class="ref" href="../Include/abstract.h.html#PyBuffer_Release" title='PyBuffer_Release' data-ref="PyBuffer_Release">PyBuffer_Release</a>(&amp;<a class="local col1 ref" href="#91view" title='view' data-ref="91view">view</a>);</td></tr>
<tr><th id="570">570</th><td>    }</td></tr>
<tr><th id="571">571</th><td>    <b>else</b> {</td></tr>
<tr><th id="572">572</th><td>        <a class="macro" href="#213" title="do { do { if (((p))-&gt;ptr != ((p))-&gt;end || w_reserve(((p)), 1)) *((p))-&gt;ptr++ = ((&apos;?&apos;) | flag); } while(0); } while(0)" data-ref="_M/W_TYPE">W_TYPE</a>(<a class="macro" href="#55" title="&apos;?&apos;" data-ref="_M/TYPE_UNKNOWN">TYPE_UNKNOWN</a>, <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>);</td></tr>
<tr><th id="573">573</th><td>        <a class="local col3 ref" href="#73p" title='p' data-ref="73p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>;</td></tr>
<tr><th id="574">574</th><td>    }</td></tr>
<tr><th id="575">575</th><td>}</td></tr>
<tr><th id="576">576</th><td></td></tr>
<tr><th id="577">577</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="578">578</th><td><dfn class="tu decl def" id="w_init_refs" title='w_init_refs' data-type='int w_init_refs(WFILE * wf, int version)' data-ref="w_init_refs">w_init_refs</dfn>(<a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col2 decl" id="92wf" title='wf' data-type='WFILE *' data-ref="92wf">wf</dfn>, <em>int</em> <dfn class="local col3 decl" id="93version" title='version' data-type='int' data-ref="93version">version</dfn>)</td></tr>
<tr><th id="579">579</th><td>{</td></tr>
<tr><th id="580">580</th><td>    <b>if</b> (<a class="local col3 ref" href="#93version" title='version' data-ref="93version">version</a> &gt;= <var>3</var>) {</td></tr>
<tr><th id="581">581</th><td>        <a class="local col2 ref" href="#92wf" title='wf' data-ref="92wf">wf</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='w' data-ref="(anonymous)::hashtable">hashtable</a> = <a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_new" title='_Py_hashtable_new' data-ref="_Py_hashtable_new">_Py_hashtable_new</a>(<b>sizeof</b>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *), <b>sizeof</b>(<em>int</em>),</td></tr>
<tr><th id="582">582</th><td>                                          <a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_hash_ptr" title='_Py_hashtable_hash_ptr' data-ref="_Py_hashtable_hash_ptr">_Py_hashtable_hash_ptr</a>,</td></tr>
<tr><th id="583">583</th><td>                                          <a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_compare_direct" title='_Py_hashtable_compare_direct' data-ref="_Py_hashtable_compare_direct">_Py_hashtable_compare_direct</a>);</td></tr>
<tr><th id="584">584</th><td>        <b>if</b> (<a class="local col2 ref" href="#92wf" title='wf' data-ref="92wf">wf</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="585">585</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_NoMemory" title='PyErr_NoMemory' data-ref="PyErr_NoMemory">PyErr_NoMemory</a>();</td></tr>
<tr><th id="586">586</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="587">587</th><td>        }</td></tr>
<tr><th id="588">588</th><td>    }</td></tr>
<tr><th id="589">589</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="590">590</th><td>}</td></tr>
<tr><th id="591">591</th><td></td></tr>
<tr><th id="592">592</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="593">593</th><td><dfn class="tu decl def" id="w_decref_entry" title='w_decref_entry' data-type='int w_decref_entry(_Py_hashtable_t * ht, _Py_hashtable_entry_t * entry, void * _unused_data)' data-ref="w_decref_entry">w_decref_entry</dfn>(<a class="typedef" href="../Modules/hashtable.h.html#_Py_hashtable_t" title='_Py_hashtable_t' data-type='struct _Py_hashtable_t' data-ref="_Py_hashtable_t">_Py_hashtable_t</a> *<dfn class="local col4 decl" id="94ht" title='ht' data-type='_Py_hashtable_t *' data-ref="94ht">ht</dfn>, <a class="typedef" href="../Modules/hashtable.h.html#_Py_hashtable_entry_t" title='_Py_hashtable_entry_t' data-type='struct _Py_hashtable_entry_t' data-ref="_Py_hashtable_entry_t">_Py_hashtable_entry_t</a> *<dfn class="local col5 decl" id="95entry" title='entry' data-type='_Py_hashtable_entry_t *' data-ref="95entry">entry</dfn>,</td></tr>
<tr><th id="594">594</th><td>               <em>void</em> *<a class="macro" href="../Include/pymacro.h.html#93" title="_unused_data __attribute__((unused))" data-ref="_M/Py_UNUSED">Py_UNUSED</a>(data))</td></tr>
<tr><th id="595">595</th><td>{</td></tr>
<tr><th id="596">596</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="96entry_key" title='entry_key' data-type='PyObject *' data-ref="96entry_key">entry_key</dfn>;</td></tr>
<tr><th id="597">597</th><td></td></tr>
<tr><th id="598">598</th><td>    <a class="macro" href="../Modules/hashtable.h.html#49" title="do { ((sizeof(entry_key) == (ht)-&gt;key_size) ? (void) (0) : __assert_fail (&quot;sizeof(entry_key) == (ht)-&gt;key_size&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 598, __PRETTY_FUNCTION__)); memcpy(&amp;(entry_key), ((const void *)((char *)(entry) + sizeof(_Py_hashtable_entry_t))), sizeof(entry_key)); } while (0)" data-ref="_M/_Py_HASHTABLE_ENTRY_READ_KEY">_Py_HASHTABLE_ENTRY_READ_KEY</a>(<a class="local col4 ref" href="#94ht" title='ht' data-ref="94ht">ht</a>, <a class="local col5 ref" href="#95entry" title='entry' data-ref="95entry">entry</a>, <a class="local col6 ref" href="#96entry_key" title='entry_key' data-ref="96entry_key">entry_key</a>);</td></tr>
<tr><th id="599">599</th><td>    <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(entry_key); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 599, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col6 ref" href="#96entry_key" title='entry_key' data-ref="96entry_key">entry_key</a>);</td></tr>
<tr><th id="600">600</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="601">601</th><td>}</td></tr>
<tr><th id="602">602</th><td></td></tr>
<tr><th id="603">603</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="604">604</th><td><dfn class="tu decl def" id="w_clear_refs" title='w_clear_refs' data-type='void w_clear_refs(WFILE * wf)' data-ref="w_clear_refs">w_clear_refs</dfn>(<a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> *<dfn class="local col7 decl" id="97wf" title='wf' data-type='WFILE *' data-ref="97wf">wf</dfn>)</td></tr>
<tr><th id="605">605</th><td>{</td></tr>
<tr><th id="606">606</th><td>    <b>if</b> (<a class="local col7 ref" href="#97wf" title='wf' data-ref="97wf">wf</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="607">607</th><td>        <a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_foreach" title='_Py_hashtable_foreach' data-ref="_Py_hashtable_foreach">_Py_hashtable_foreach</a>(<a class="local col7 ref" href="#97wf" title='wf' data-ref="97wf">wf</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>, <a class="tu ref" href="#w_decref_entry" title='w_decref_entry' data-use='r' data-ref="w_decref_entry">w_decref_entry</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="608">608</th><td>        <a class="ref" href="../Modules/hashtable.h.html#_Py_hashtable_destroy" title='_Py_hashtable_destroy' data-ref="_Py_hashtable_destroy">_Py_hashtable_destroy</a>(<a class="local col7 ref" href="#97wf" title='wf' data-ref="97wf">wf</a>-&gt;<a class="tu ref" href="#(anonymous)::hashtable" title='(anonymous struct)::hashtable' data-use='r' data-ref="(anonymous)::hashtable">hashtable</a>);</td></tr>
<tr><th id="609">609</th><td>    }</td></tr>
<tr><th id="610">610</th><td>}</td></tr>
<tr><th id="611">611</th><td></td></tr>
<tr><th id="612">612</th><td><i>/* version currently has no effect for writing ints. */</i></td></tr>
<tr><th id="613">613</th><td><em>void</em></td></tr>
<tr><th id="614">614</th><td><dfn class="decl def" id="PyMarshal_WriteLongToFile" title='PyMarshal_WriteLongToFile' data-ref="PyMarshal_WriteLongToFile">PyMarshal_WriteLongToFile</dfn>(<em>long</em> <dfn class="local col8 decl" id="98x" title='x' data-type='long' data-ref="98x">x</dfn>, <a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col9 decl" id="99fp" title='fp' data-type='FILE *' data-ref="99fp">fp</dfn>, <em>int</em> <dfn class="local col0 decl" id="100version" title='version' data-type='int' data-ref="100version">version</dfn>)</td></tr>
<tr><th id="615">615</th><td>{</td></tr>
<tr><th id="616">616</th><td>    <em>char</em> <dfn class="local col1 decl" id="101buf" title='buf' data-type='char [4]' data-ref="101buf">buf</dfn>[<var>4</var>];</td></tr>
<tr><th id="617">617</th><td>    <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> <dfn class="local col2 decl" id="102wf" title='wf' data-type='WFILE' data-ref="102wf">wf</dfn>;</td></tr>
<tr><th id="618">618</th><td>    <a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>, <var>0</var>, <b>sizeof</b>(<a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>));</td></tr>
<tr><th id="619">619</th><td>    <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <a class="local col9 ref" href="#99fp" title='fp' data-ref="99fp">fp</a>;</td></tr>
<tr><th id="620">620</th><td>    <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="local col1 ref" href="#101buf" title='buf' data-ref="101buf">buf</a>;</td></tr>
<tr><th id="621">621</th><td>    <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> + <b>sizeof</b>(<a class="local col1 ref" href="#101buf" title='buf' data-ref="101buf">buf</a>);</td></tr>
<tr><th id="622">622</th><td>    <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#66" title="0" data-ref="_M/WFERR_OK">WFERR_OK</a>;</td></tr>
<tr><th id="623">623</th><td>    <a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>.<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='w' data-ref="(anonymous)::version">version</a> = <a class="local col0 ref" href="#100version" title='version' data-ref="100version">version</a>;</td></tr>
<tr><th id="624">624</th><td>    <a class="tu ref" href="#w_long" title='w_long' data-use='c' data-ref="w_long">w_long</a>(<a class="local col8 ref" href="#98x" title='x' data-ref="98x">x</a>, &amp;<a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>);</td></tr>
<tr><th id="625">625</th><td>    <a class="tu ref" href="#w_flush" title='w_flush' data-use='c' data-ref="w_flush">w_flush</a>(&amp;<a class="local col2 ref" href="#102wf" title='wf' data-ref="102wf">wf</a>);</td></tr>
<tr><th id="626">626</th><td>}</td></tr>
<tr><th id="627">627</th><td></td></tr>
<tr><th id="628">628</th><td><em>void</em></td></tr>
<tr><th id="629">629</th><td><dfn class="decl def" id="PyMarshal_WriteObjectToFile" title='PyMarshal_WriteObjectToFile' data-ref="PyMarshal_WriteObjectToFile">PyMarshal_WriteObjectToFile</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="103x" title='x' data-type='PyObject *' data-ref="103x">x</dfn>, <a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col4 decl" id="104fp" title='fp' data-type='FILE *' data-ref="104fp">fp</dfn>, <em>int</em> <dfn class="local col5 decl" id="105version" title='version' data-type='int' data-ref="105version">version</dfn>)</td></tr>
<tr><th id="630">630</th><td>{</td></tr>
<tr><th id="631">631</th><td>    <em>char</em> <dfn class="local col6 decl" id="106buf" title='buf' data-type='char [8192]' data-ref="106buf">buf</dfn>[<a class="macro" href="../../include/stdio.h.html#127" title="8192" data-ref="_M/BUFSIZ">BUFSIZ</a>];</td></tr>
<tr><th id="632">632</th><td>    <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> <dfn class="local col7 decl" id="107wf" title='wf' data-type='WFILE' data-ref="107wf">wf</dfn>;</td></tr>
<tr><th id="633">633</th><td>    <a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>, <var>0</var>, <b>sizeof</b>(<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>));</td></tr>
<tr><th id="634">634</th><td>    <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <a class="local col4 ref" href="#104fp" title='fp' data-ref="104fp">fp</a>;</td></tr>
<tr><th id="635">635</th><td>    <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="local col6 ref" href="#106buf" title='buf' data-ref="106buf">buf</a>;</td></tr>
<tr><th id="636">636</th><td>    <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> + <b>sizeof</b>(<a class="local col6 ref" href="#106buf" title='buf' data-ref="106buf">buf</a>);</td></tr>
<tr><th id="637">637</th><td>    <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#66" title="0" data-ref="_M/WFERR_OK">WFERR_OK</a>;</td></tr>
<tr><th id="638">638</th><td>    <a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>.<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='w' data-ref="(anonymous)::version">version</a> = <a class="local col5 ref" href="#105version" title='version' data-ref="105version">version</a>;</td></tr>
<tr><th id="639">639</th><td>    <b>if</b> (<a class="tu ref" href="#w_init_refs" title='w_init_refs' data-use='c' data-ref="w_init_refs">w_init_refs</a>(&amp;<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>, <a class="local col5 ref" href="#105version" title='version' data-ref="105version">version</a>))</td></tr>
<tr><th id="640">640</th><td>        <b>return</b>; <i>/* caller mush check PyErr_Occurred() */</i></td></tr>
<tr><th id="641">641</th><td>    <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col3 ref" href="#103x" title='x' data-ref="103x">x</a>, &amp;<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>);</td></tr>
<tr><th id="642">642</th><td>    <a class="tu ref" href="#w_clear_refs" title='w_clear_refs' data-use='c' data-ref="w_clear_refs">w_clear_refs</a>(&amp;<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>);</td></tr>
<tr><th id="643">643</th><td>    <a class="tu ref" href="#w_flush" title='w_flush' data-use='c' data-ref="w_flush">w_flush</a>(&amp;<a class="local col7 ref" href="#107wf" title='wf' data-ref="107wf">wf</a>);</td></tr>
<tr><th id="644">644</th><td>}</td></tr>
<tr><th id="645">645</th><td></td></tr>
<tr><th id="646">646</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="647">647</th><td>    <a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="tu decl" id="(anonymous)::fp" title='(anonymous struct)::fp' data-type='FILE *' data-ref="(anonymous)::fp">fp</dfn>;</td></tr>
<tr><th id="648">648</th><td>    <em>int</em> <dfn class="tu decl" id="(anonymous)::depth" title='(anonymous struct)::depth' data-type='int' data-ref="(anonymous)::depth">depth</dfn>;</td></tr>
<tr><th id="649">649</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="tu decl" id="(anonymous)::readable" title='(anonymous struct)::readable' data-type='PyObject *' data-ref="(anonymous)::readable">readable</dfn>;  <i  data-doc="(anonymous)::readable">/* Stream-like object being read from */</i></td></tr>
<tr><th id="650">650</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="tu decl" id="(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-type='PyObject *' data-ref="(anonymous)::current_filename">current_filename</dfn>;</td></tr>
<tr><th id="651">651</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::ptr" title='(anonymous struct)::ptr' data-type='char *' data-ref="(anonymous)::ptr">ptr</dfn>;</td></tr>
<tr><th id="652">652</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::end" title='(anonymous struct)::end' data-type='char *' data-ref="(anonymous)::end">end</dfn>;</td></tr>
<tr><th id="653">653</th><td>    <em>char</em> *<dfn class="tu decl" id="(anonymous)::buf" title='(anonymous struct)::buf' data-type='char *' data-ref="(anonymous)::buf">buf</dfn>;</td></tr>
<tr><th id="654">654</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="tu decl" id="(anonymous)::buf_size" title='(anonymous struct)::buf_size' data-type='Py_ssize_t' data-ref="(anonymous)::buf_size">buf_size</dfn>;</td></tr>
<tr><th id="655">655</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="tu decl" id="(anonymous)::refs" title='(anonymous struct)::refs' data-type='PyObject *' data-ref="(anonymous)::refs">refs</dfn>;  <i  data-doc="(anonymous)::refs">/* a list */</i></td></tr>
<tr><th id="656">656</th><td>} <dfn class="typedef" id="RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</dfn>;</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td><em>static</em> <em>const</em> <em>char</em> *</td></tr>
<tr><th id="659">659</th><td><dfn class="tu decl def" id="r_string" title='r_string' data-type='const char * r_string(Py_ssize_t n, RFILE * p)' data-ref="r_string">r_string</dfn>(<a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col8 decl" id="108n" title='n' data-type='Py_ssize_t' data-ref="108n">n</dfn>, <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col9 decl" id="109p" title='p' data-type='RFILE *' data-ref="109p">p</dfn>)</td></tr>
<tr><th id="660">660</th><td>{</td></tr>
<tr><th id="661">661</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col0 decl" id="110read" title='read' data-type='Py_ssize_t' data-ref="110read">read</dfn> = -<var>1</var>;</td></tr>
<tr><th id="662">662</th><td></td></tr>
<tr><th id="663">663</th><td>    <b>if</b> (<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="664">664</th><td>        <i>/* Fast path for loads() */</i></td></tr>
<tr><th id="665">665</th><td>        <em>char</em> *<dfn class="local col1 decl" id="111res" title='res' data-type='char *' data-ref="111res">res</dfn> = <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>;</td></tr>
<tr><th id="666">666</th><td>        <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col2 decl" id="112left" title='left' data-type='Py_ssize_t' data-ref="112left">left</dfn> = <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='r' data-ref="(anonymous)::end">end</a> - <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a>;</td></tr>
<tr><th id="667">667</th><td>        <b>if</b> (<a class="local col2 ref" href="#112left" title='left' data-ref="112left">left</a> &lt; <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>) {</td></tr>
<tr><th id="668">668</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="669">669</th><td>                            <q>"marshal data too short"</q>);</td></tr>
<tr><th id="670">670</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="671">671</th><td>        }</td></tr>
<tr><th id="672">672</th><td>        <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> += <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>;</td></tr>
<tr><th id="673">673</th><td>        <b>return</b> <a class="local col1 ref" href="#111res" title='res' data-ref="111res">res</a>;</td></tr>
<tr><th id="674">674</th><td>    }</td></tr>
<tr><th id="675">675</th><td>    <b>if</b> (<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="676">676</th><td>        <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="macro" href="../Include/pymem.h.html#120" title="PyMem_Malloc(n)" data-ref="_M/PyMem_MALLOC">PyMem_MALLOC</a>(<a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>);</td></tr>
<tr><th id="677">677</th><td>        <b>if</b> (<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="678">678</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_NoMemory" title='PyErr_NoMemory' data-ref="PyErr_NoMemory">PyErr_NoMemory</a>();</td></tr>
<tr><th id="679">679</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="680">680</th><td>        }</td></tr>
<tr><th id="681">681</th><td>        <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf_size" title='(anonymous struct)::buf_size' data-use='w' data-ref="(anonymous)::buf_size">buf_size</a> = <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>;</td></tr>
<tr><th id="682">682</th><td>    }</td></tr>
<tr><th id="683">683</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf_size" title='(anonymous struct)::buf_size' data-use='r' data-ref="(anonymous)::buf_size">buf_size</a> &lt; <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>) {</td></tr>
<tr><th id="684">684</th><td>        <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="macro" href="../Include/pymem.h.html#121" title="PyMem_Realloc(p-&gt;buf, n)" data-ref="_M/PyMem_REALLOC">PyMem_REALLOC</a>(<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>, <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>);</td></tr>
<tr><th id="685">685</th><td>        <b>if</b> (<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="686">686</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_NoMemory" title='PyErr_NoMemory' data-ref="PyErr_NoMemory">PyErr_NoMemory</a>();</td></tr>
<tr><th id="687">687</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="688">688</th><td>        }</td></tr>
<tr><th id="689">689</th><td>        <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf_size" title='(anonymous struct)::buf_size' data-use='w' data-ref="(anonymous)::buf_size">buf_size</a> = <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>;</td></tr>
<tr><th id="690">690</th><td>    }</td></tr>
<tr><th id="691">691</th><td></td></tr>
<tr><th id="692">692</th><td>    <b>if</b> (!<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='r' data-ref="(anonymous)::readable">readable</a>) {</td></tr>
<tr><th id="693">693</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((p-&gt;fp != ((void*)0)) ? (void) (0) : __assert_fail (&quot;p-&gt;fp != NULL&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 693, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="694">694</th><td>        <a class="local col0 ref" href="#110read" title='read' data-ref="110read">read</a> = <a class="ref" href="../../include/stdio.h.html#fread" title='fread' data-ref="fread">fread</a>(<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>, <var>1</var>, <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>, <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a>);</td></tr>
<tr><th id="695">695</th><td>    }</td></tr>
<tr><th id="696">696</th><td>    <b>else</b> {</td></tr>
<tr><th id="697">697</th><td>        <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId_readinto = { .next = ((void*)0), .string = &quot;readinto&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(readinto);</td></tr>
<tr><th id="698">698</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="113res" title='res' data-type='PyObject *' data-ref="113res">res</dfn>, *<dfn class="local col4 decl" id="114mview" title='mview' data-type='PyObject *' data-ref="114mview">mview</dfn>;</td></tr>
<tr><th id="699">699</th><td>        <a class="typedef" href="../Include/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer">Py_buffer</a> <dfn class="local col5 decl" id="115buf" title='buf' data-type='Py_buffer' data-ref="115buf">buf</dfn>;</td></tr>
<tr><th id="700">700</th><td></td></tr>
<tr><th id="701">701</th><td>        <b>if</b> (<a class="ref" href="../Include/abstract.h.html#PyBuffer_FillInfo" title='PyBuffer_FillInfo' data-ref="PyBuffer_FillInfo">PyBuffer_FillInfo</a>(&amp;<a class="local col5 ref" href="#115buf" title='buf' data-ref="115buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>, <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>, <var>0</var>, <a class="macro" href="../Include/object.h.html#216" title="(0x0008 | 0x0001)" data-ref="_M/PyBUF_CONTIG">PyBUF_CONTIG</a>) == -<var>1</var>)</td></tr>
<tr><th id="702">702</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="703">703</th><td>        <a class="local col4 ref" href="#114mview" title='mview' data-ref="114mview">mview</a> = <a class="ref" href="../Include/memoryobject.h.html#PyMemoryView_FromBuffer" title='PyMemoryView_FromBuffer' data-ref="PyMemoryView_FromBuffer">PyMemoryView_FromBuffer</a>(&amp;<a class="local col5 ref" href="#115buf" title='buf' data-ref="115buf">buf</a>);</td></tr>
<tr><th id="704">704</th><td>        <b>if</b> (<a class="local col4 ref" href="#114mview" title='mview' data-ref="114mview">mview</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="705">705</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td>        <a class="local col3 ref" href="#113res" title='res' data-ref="113res">res</a> = <a class="macro" href="../Include/abstract.h.html#142" title="_PyObject_CallMethodId_SizeT" data-ref="_M/_PyObject_CallMethodId">_PyObject_CallMethodId</a>(<a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='r' data-ref="(anonymous)::readable">readable</a>, &amp;<a class="local col6 ref" href="#697" title='PyId_readinto' data-ref="116PyId_readinto">PyId_readinto</a>, <q>"N"</q>, <a class="local col4 ref" href="#114mview" title='mview' data-ref="114mview">mview</a>);</td></tr>
<tr><th id="708">708</th><td>        <b>if</b> (<a class="local col3 ref" href="#113res" title='res' data-ref="113res">res</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="709">709</th><td>            <a class="local col0 ref" href="#110read" title='read' data-ref="110read">read</a> = <a class="ref" href="../Include/abstract.h.html#PyNumber_AsSsize_t" title='PyNumber_AsSsize_t' data-ref="PyNumber_AsSsize_t">PyNumber_AsSsize_t</a>(<a class="local col3 ref" href="#113res" title='res' data-ref="113res">res</a>, <a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>);</td></tr>
<tr><th id="710">710</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(res); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 710, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#113res" title='res' data-ref="113res">res</a>);</td></tr>
<tr><th id="711">711</th><td>        }</td></tr>
<tr><th id="712">712</th><td>    }</td></tr>
<tr><th id="713">713</th><td>    <b>if</b> (<a class="local col0 ref" href="#110read" title='read' data-ref="110read">read</a> != <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>) {</td></tr>
<tr><th id="714">714</th><td>        <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="715">715</th><td>            <b>if</b> (<a class="local col0 ref" href="#110read" title='read' data-ref="110read">read</a> &gt; <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>)</td></tr>
<tr><th id="716">716</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="717">717</th><td>                             <q>"read() returned too much data: "</q></td></tr>
<tr><th id="718">718</th><td>                             <q>"%zd bytes requested, %zd returned"</q>,</td></tr>
<tr><th id="719">719</th><td>                             <a class="local col8 ref" href="#108n" title='n' data-ref="108n">n</a>, <a class="local col0 ref" href="#110read" title='read' data-ref="110read">read</a>);</td></tr>
<tr><th id="720">720</th><td>            <b>else</b></td></tr>
<tr><th id="721">721</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="722">722</th><td>                                <q>"EOF read where not expected"</q>);</td></tr>
<tr><th id="723">723</th><td>        }</td></tr>
<tr><th id="724">724</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="725">725</th><td>    }</td></tr>
<tr><th id="726">726</th><td>    <b>return</b> <a class="local col9 ref" href="#109p" title='p' data-ref="109p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>;</td></tr>
<tr><th id="727">727</th><td>}</td></tr>
<tr><th id="728">728</th><td></td></tr>
<tr><th id="729">729</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="730">730</th><td><dfn class="tu decl def" id="r_byte" title='r_byte' data-type='int r_byte(RFILE * p)' data-ref="r_byte">r_byte</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col7 decl" id="117p" title='p' data-type='RFILE *' data-ref="117p">p</dfn>)</td></tr>
<tr><th id="731">731</th><td>{</td></tr>
<tr><th id="732">732</th><td>    <em>int</em> <dfn class="local col8 decl" id="118c" title='c' data-type='int' data-ref="118c">c</dfn> = <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>;</td></tr>
<tr><th id="733">733</th><td></td></tr>
<tr><th id="734">734</th><td>    <b>if</b> (<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="735">735</th><td>        <b>if</b> (<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> &lt; <a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='r' data-ref="(anonymous)::end">end</a>)</td></tr>
<tr><th id="736">736</th><td>            <a class="local col8 ref" href="#118c" title='c' data-ref="118c">c</a> = (<em>unsigned</em> <em>char</em>) *<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a>++;</td></tr>
<tr><th id="737">737</th><td>        <b>return</b> <a class="local col8 ref" href="#118c" title='c' data-ref="118c">c</a>;</td></tr>
<tr><th id="738">738</th><td>    }</td></tr>
<tr><th id="739">739</th><td>    <b>if</b> (!<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='r' data-ref="(anonymous)::readable">readable</a>) {</td></tr>
<tr><th id="740">740</th><td>        <a class="macro" href="../../include/assert.h.html#88" title="((p-&gt;fp) ? (void) (0) : __assert_fail (&quot;p-&gt;fp&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 740, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a>);</td></tr>
<tr><th id="741">741</th><td>        <a class="local col8 ref" href="#118c" title='c' data-ref="118c">c</a> = <a class="macro" href="../../include/stdio.h.html#543" title="_IO_getc (p-&gt;fp)" data-ref="_M/getc">getc</a>(<a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='r' data-ref="(anonymous)::fp">fp</a>);</td></tr>
<tr><th id="742">742</th><td>    }</td></tr>
<tr><th id="743">743</th><td>    <b>else</b> {</td></tr>
<tr><th id="744">744</th><td>        <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="119ptr" title='ptr' data-type='const char *' data-ref="119ptr">ptr</dfn> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>1</var>, <a class="local col7 ref" href="#117p" title='p' data-ref="117p">p</a>);</td></tr>
<tr><th id="745">745</th><td>        <b>if</b> (<a class="local col9 ref" href="#119ptr" title='ptr' data-ref="119ptr">ptr</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="746">746</th><td>            <a class="local col8 ref" href="#118c" title='c' data-ref="118c">c</a> = *(<em>unsigned</em> <em>char</em> *) <a class="local col9 ref" href="#119ptr" title='ptr' data-ref="119ptr">ptr</a>;</td></tr>
<tr><th id="747">747</th><td>    }</td></tr>
<tr><th id="748">748</th><td>    <b>return</b> <a class="local col8 ref" href="#118c" title='c' data-ref="118c">c</a>;</td></tr>
<tr><th id="749">749</th><td>}</td></tr>
<tr><th id="750">750</th><td></td></tr>
<tr><th id="751">751</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="752">752</th><td><dfn class="tu decl def" id="r_short" title='r_short' data-type='int r_short(RFILE * p)' data-ref="r_short">r_short</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col0 decl" id="120p" title='p' data-type='RFILE *' data-ref="120p">p</dfn>)</td></tr>
<tr><th id="753">753</th><td>{</td></tr>
<tr><th id="754">754</th><td>    <em>short</em> <dfn class="local col1 decl" id="121x" title='x' data-type='short' data-ref="121x">x</dfn> = -<var>1</var>;</td></tr>
<tr><th id="755">755</th><td>    <em>const</em> <em>unsigned</em> <em>char</em> *<dfn class="local col2 decl" id="122buffer" title='buffer' data-type='const unsigned char *' data-ref="122buffer">buffer</dfn>;</td></tr>
<tr><th id="756">756</th><td></td></tr>
<tr><th id="757">757</th><td>    <a class="local col2 ref" href="#122buffer" title='buffer' data-ref="122buffer">buffer</a> = (<em>const</em> <em>unsigned</em> <em>char</em> *) <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>2</var>, <a class="local col0 ref" href="#120p" title='p' data-ref="120p">p</a>);</td></tr>
<tr><th id="758">758</th><td>    <b>if</b> (<a class="local col2 ref" href="#122buffer" title='buffer' data-ref="122buffer">buffer</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="759">759</th><td>        <a class="local col1 ref" href="#121x" title='x' data-ref="121x">x</a> = <a class="local col2 ref" href="#122buffer" title='buffer' data-ref="122buffer">buffer</a>[<var>0</var>];</td></tr>
<tr><th id="760">760</th><td>        <a class="local col1 ref" href="#121x" title='x' data-ref="121x">x</a> |= <a class="local col2 ref" href="#122buffer" title='buffer' data-ref="122buffer">buffer</a>[<var>1</var>] &lt;&lt; <var>8</var>;</td></tr>
<tr><th id="761">761</th><td>        <i>/* Sign-extension, in case short greater than 16 bits */</i></td></tr>
<tr><th id="762">762</th><td>        <a class="local col1 ref" href="#121x" title='x' data-ref="121x">x</a> |= -(<a class="local col1 ref" href="#121x" title='x' data-ref="121x">x</a> &amp; <var>0x8000</var>);</td></tr>
<tr><th id="763">763</th><td>    }</td></tr>
<tr><th id="764">764</th><td>    <b>return</b> <a class="local col1 ref" href="#121x" title='x' data-ref="121x">x</a>;</td></tr>
<tr><th id="765">765</th><td>}</td></tr>
<tr><th id="766">766</th><td></td></tr>
<tr><th id="767">767</th><td><em>static</em> <em>long</em></td></tr>
<tr><th id="768">768</th><td><dfn class="tu decl def" id="r_long" title='r_long' data-type='long r_long(RFILE * p)' data-ref="r_long">r_long</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col3 decl" id="123p" title='p' data-type='RFILE *' data-ref="123p">p</dfn>)</td></tr>
<tr><th id="769">769</th><td>{</td></tr>
<tr><th id="770">770</th><td>    <em>long</em> <dfn class="local col4 decl" id="124x" title='x' data-type='long' data-ref="124x">x</dfn> = -<var>1</var>;</td></tr>
<tr><th id="771">771</th><td>    <em>const</em> <em>unsigned</em> <em>char</em> *<dfn class="local col5 decl" id="125buffer" title='buffer' data-type='const unsigned char *' data-ref="125buffer">buffer</dfn>;</td></tr>
<tr><th id="772">772</th><td></td></tr>
<tr><th id="773">773</th><td>    <a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a> = (<em>const</em> <em>unsigned</em> <em>char</em> *) <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>4</var>, <a class="local col3 ref" href="#123p" title='p' data-ref="123p">p</a>);</td></tr>
<tr><th id="774">774</th><td>    <b>if</b> (<a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="775">775</th><td>        <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> = <a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a>[<var>0</var>];</td></tr>
<tr><th id="776">776</th><td>        <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> |= (<em>long</em>)<a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a>[<var>1</var>] &lt;&lt; <var>8</var>;</td></tr>
<tr><th id="777">777</th><td>        <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> |= (<em>long</em>)<a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a>[<var>2</var>] &lt;&lt; <var>16</var>;</td></tr>
<tr><th id="778">778</th><td>        <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> |= (<em>long</em>)<a class="local col5 ref" href="#125buffer" title='buffer' data-ref="125buffer">buffer</a>[<var>3</var>] &lt;&lt; <var>24</var>;</td></tr>
<tr><th id="779">779</th><td><u>#<span data-ppcond="779">if</span> <a class="macro" href="../pyconfig.h.html#1286" title="8" data-ref="_M/SIZEOF_LONG">SIZEOF_LONG</a> &gt; 4</u></td></tr>
<tr><th id="780">780</th><td>        <i>/* Sign extension for 64-bit machines */</i></td></tr>
<tr><th id="781">781</th><td>        <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> |= -(<a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a> &amp; <var>0x80000000L</var>);</td></tr>
<tr><th id="782">782</th><td><u>#<span data-ppcond="779">endif</span></u></td></tr>
<tr><th id="783">783</th><td>    }</td></tr>
<tr><th id="784">784</th><td>    <b>return</b> <a class="local col4 ref" href="#124x" title='x' data-ref="124x">x</a>;</td></tr>
<tr><th id="785">785</th><td>}</td></tr>
<tr><th id="786">786</th><td></td></tr>
<tr><th id="787">787</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="788">788</th><td><dfn class="tu decl def" id="r_PyLong" title='r_PyLong' data-type='PyObject * r_PyLong(RFILE * p)' data-ref="r_PyLong">r_PyLong</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col6 decl" id="126p" title='p' data-type='RFILE *' data-ref="126p">p</dfn>)</td></tr>
<tr><th id="789">789</th><td>{</td></tr>
<tr><th id="790">790</th><td>    <a class="typedef" href="../Include/longobject.h.html#PyLongObject" title='PyLongObject' data-type='struct _longobject' data-ref="PyLongObject">PyLongObject</a> *<dfn class="local col7 decl" id="127ob" title='ob' data-type='PyLongObject *' data-ref="127ob">ob</dfn>;</td></tr>
<tr><th id="791">791</th><td>    <em>long</em> <dfn class="local col8 decl" id="128n" title='n' data-type='long' data-ref="128n">n</dfn>, <dfn class="local col9 decl" id="129size" title='size' data-type='long' data-ref="129size">size</dfn>, <dfn class="local col0 decl" id="130i" title='i' data-type='long' data-ref="130i">i</dfn>;</td></tr>
<tr><th id="792">792</th><td>    <em>int</em> <dfn class="local col1 decl" id="131j" title='j' data-type='int' data-ref="131j">j</dfn>, <dfn class="local col2 decl" id="132md" title='md' data-type='int' data-ref="132md">md</dfn>, <dfn class="local col3 decl" id="133shorts_in_top_digit" title='shorts_in_top_digit' data-type='int' data-ref="133shorts_in_top_digit">shorts_in_top_digit</dfn>;</td></tr>
<tr><th id="793">793</th><td>    <a class="typedef" href="../Include/longintrepr.h.html#digit" title='digit' data-type='uint32_t' data-ref="digit">digit</a> <dfn class="local col4 decl" id="134d" title='d' data-type='digit' data-ref="134d">d</dfn>;</td></tr>
<tr><th id="794">794</th><td></td></tr>
<tr><th id="795">795</th><td>    <a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col6 ref" href="#126p" title='p' data-ref="126p">p</a>);</td></tr>
<tr><th id="796">796</th><td>    <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="797">797</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="798">798</th><td>    <b>if</b> (<a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a> == <var>0</var>)</td></tr>
<tr><th id="799">799</th><td>        <b>return</b> (<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *)<a class="ref" href="../Include/longintrepr.h.html#_PyLong_New" title='_PyLong_New' data-ref="_PyLong_New">_PyLong_New</a>(<var>0</var>);</td></tr>
<tr><th id="800">800</th><td>    <b>if</b> (<a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a> &lt; -<a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a> || <a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="801">801</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="802">802</th><td>                       <q>"bad marshal data (long size out of range)"</q>);</td></tr>
<tr><th id="803">803</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="804">804</th><td>    }</td></tr>
<tr><th id="805">805</th><td></td></tr>
<tr><th id="806">806</th><td>    <a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a> = <var>1</var> + (<a class="macro" href="../Include/pymacro.h.html#11" title="((n) &lt; 0 ? -(n) : (n))" data-ref="_M/Py_ABS">Py_ABS</a>(<a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a>) - <var>1</var>) / <a class="macro" href="#211" title="(30 / 15)" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</a>;</td></tr>
<tr><th id="807">807</th><td>    <a class="local col3 ref" href="#133shorts_in_top_digit" title='shorts_in_top_digit' data-ref="133shorts_in_top_digit">shorts_in_top_digit</a> = <var>1</var> + (<a class="macro" href="../Include/pymacro.h.html#11" title="((n) &lt; 0 ? -(n) : (n))" data-ref="_M/Py_ABS">Py_ABS</a>(<a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a>) - <var>1</var>) % <a class="macro" href="#211" title="(30 / 15)" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</a>;</td></tr>
<tr><th id="808">808</th><td>    <a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a> = <a class="ref" href="../Include/longintrepr.h.html#_PyLong_New" title='_PyLong_New' data-ref="_PyLong_New">_PyLong_New</a>(<a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a>);</td></tr>
<tr><th id="809">809</th><td>    <b>if</b> (<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="810">810</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td>    <a class="macro" href="../Include/object.h.html#119" title="(((PyVarObject*)(ob))-&gt;ob_size)" data-ref="_M/Py_SIZE">Py_SIZE</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>) = <a class="local col8 ref" href="#128n" title='n' data-ref="128n">n</a> &gt; <var>0</var> ? <a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a> : -<a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a>;</td></tr>
<tr><th id="813">813</th><td></td></tr>
<tr><th id="814">814</th><td>    <b>for</b> (<a class="local col0 ref" href="#130i" title='i' data-ref="130i">i</a> = <var>0</var>; <a class="local col0 ref" href="#130i" title='i' data-ref="130i">i</a> &lt; <a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a>-<var>1</var>; <a class="local col0 ref" href="#130i" title='i' data-ref="130i">i</a>++) {</td></tr>
<tr><th id="815">815</th><td>        <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a> = <var>0</var>;</td></tr>
<tr><th id="816">816</th><td>        <b>for</b> (<a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>=<var>0</var>; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a> &lt; <a class="macro" href="#211" title="(30 / 15)" data-ref="_M/PyLong_MARSHAL_RATIO">PyLong_MARSHAL_RATIO</a>; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>++) {</td></tr>
<tr><th id="817">817</th><td>            <a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> = <a class="tu ref" href="#r_short" title='r_short' data-use='c' data-ref="r_short">r_short</a>(<a class="local col6 ref" href="#126p" title='p' data-ref="126p">p</a>);</td></tr>
<tr><th id="818">818</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="819">819</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(ob); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 819, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>);</td></tr>
<tr><th id="820">820</th><td>                <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="821">821</th><td>            }</td></tr>
<tr><th id="822">822</th><td>            <b>if</b> (<a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &lt; <var>0</var> || <a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &gt; <a class="macro" href="#206" title="((short)1 &lt;&lt; 15)" data-ref="_M/PyLong_MARSHAL_BASE">PyLong_MARSHAL_BASE</a>)</td></tr>
<tr><th id="823">823</th><td>                <b>goto</b> <a class="lbl" href="#135bad_digit" data-ref="135bad_digit">bad_digit</a>;</td></tr>
<tr><th id="824">824</th><td>            <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a> += (<a class="typedef" href="../Include/longintrepr.h.html#digit" title='digit' data-type='uint32_t' data-ref="digit">digit</a>)<a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &lt;&lt; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>*<a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a>;</td></tr>
<tr><th id="825">825</th><td>        }</td></tr>
<tr><th id="826">826</th><td>        <a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>-&gt;<a class="ref" href="../Include/longintrepr.h.html#_longobject::ob_digit" title='_longobject::ob_digit' data-ref="_longobject::ob_digit">ob_digit</a>[<a class="local col0 ref" href="#130i" title='i' data-ref="130i">i</a>] = <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a>;</td></tr>
<tr><th id="827">827</th><td>    }</td></tr>
<tr><th id="828">828</th><td></td></tr>
<tr><th id="829">829</th><td>    <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a> = <var>0</var>;</td></tr>
<tr><th id="830">830</th><td>    <b>for</b> (<a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>=<var>0</var>; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a> &lt; <a class="local col3 ref" href="#133shorts_in_top_digit" title='shorts_in_top_digit' data-ref="133shorts_in_top_digit">shorts_in_top_digit</a>; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>++) {</td></tr>
<tr><th id="831">831</th><td>        <a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> = <a class="tu ref" href="#r_short" title='r_short' data-use='c' data-ref="r_short">r_short</a>(<a class="local col6 ref" href="#126p" title='p' data-ref="126p">p</a>);</td></tr>
<tr><th id="832">832</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="833">833</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(ob); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 833, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>);</td></tr>
<tr><th id="834">834</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="835">835</th><td>        }</td></tr>
<tr><th id="836">836</th><td>        <b>if</b> (<a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &lt; <var>0</var> || <a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &gt; <a class="macro" href="#206" title="((short)1 &lt;&lt; 15)" data-ref="_M/PyLong_MARSHAL_BASE">PyLong_MARSHAL_BASE</a>)</td></tr>
<tr><th id="837">837</th><td>            <b>goto</b> <a class="lbl" href="#135bad_digit" data-ref="135bad_digit">bad_digit</a>;</td></tr>
<tr><th id="838">838</th><td>        <i>/* topmost marshal digit should be nonzero */</i></td></tr>
<tr><th id="839">839</th><td>        <b>if</b> (<a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> == <var>0</var> &amp;&amp; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a> == <a class="local col3 ref" href="#133shorts_in_top_digit" title='shorts_in_top_digit' data-ref="133shorts_in_top_digit">shorts_in_top_digit</a> - <var>1</var>) {</td></tr>
<tr><th id="840">840</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(ob); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 840, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>);</td></tr>
<tr><th id="841">841</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="842">842</th><td>                <q>"bad marshal data (unnormalized long data)"</q>);</td></tr>
<tr><th id="843">843</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="844">844</th><td>        }</td></tr>
<tr><th id="845">845</th><td>        <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a> += (<a class="typedef" href="../Include/longintrepr.h.html#digit" title='digit' data-type='uint32_t' data-ref="digit">digit</a>)<a class="local col2 ref" href="#132md" title='md' data-ref="132md">md</a> &lt;&lt; <a class="local col1 ref" href="#131j" title='j' data-ref="131j">j</a>*<a class="macro" href="#205" title="15" data-ref="_M/PyLong_MARSHAL_SHIFT">PyLong_MARSHAL_SHIFT</a>;</td></tr>
<tr><th id="846">846</th><td>    }</td></tr>
<tr><th id="847">847</th><td>    <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="848">848</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(ob); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 848, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>);</td></tr>
<tr><th id="849">849</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="850">850</th><td>    }</td></tr>
<tr><th id="851">851</th><td>    <i>/* top digit should be nonzero, else the resulting PyLong won't be</i></td></tr>
<tr><th id="852">852</th><td><i>       normalized */</i></td></tr>
<tr><th id="853">853</th><td>    <a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>-&gt;<a class="ref" href="../Include/longintrepr.h.html#_longobject::ob_digit" title='_longobject::ob_digit' data-ref="_longobject::ob_digit">ob_digit</a>[<a class="local col9 ref" href="#129size" title='size' data-ref="129size">size</a>-<var>1</var>] = <a class="local col4 ref" href="#134d" title='d' data-ref="134d">d</a>;</td></tr>
<tr><th id="854">854</th><td>    <b>return</b> (<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *)<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>;</td></tr>
<tr><th id="855">855</th><td>  <dfn class="lbl" id="135bad_digit" data-ref="135bad_digit">bad_digit</dfn>:</td></tr>
<tr><th id="856">856</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(ob); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 856, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#127ob" title='ob' data-ref="127ob">ob</a>);</td></tr>
<tr><th id="857">857</th><td>    <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="858">858</th><td>                    <q>"bad marshal data (digit out of range in long)"</q>);</td></tr>
<tr><th id="859">859</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="860">860</th><td>}</td></tr>
<tr><th id="861">861</th><td></td></tr>
<tr><th id="862">862</th><td><i  data-doc="r_ref_reserve">/* allocate the reflist index for a new object. Return -1 on failure */</i></td></tr>
<tr><th id="863">863</th><td><em>static</em> <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a></td></tr>
<tr><th id="864">864</th><td><dfn class="tu decl def" id="r_ref_reserve" title='r_ref_reserve' data-type='Py_ssize_t r_ref_reserve(int flag, RFILE * p)' data-ref="r_ref_reserve">r_ref_reserve</dfn>(<em>int</em> <dfn class="local col6 decl" id="136flag" title='flag' data-type='int' data-ref="136flag">flag</dfn>, <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col7 decl" id="137p" title='p' data-type='RFILE *' data-ref="137p">p</dfn>)</td></tr>
<tr><th id="865">865</th><td>{</td></tr>
<tr><th id="866">866</th><td>    <b>if</b> (<a class="local col6 ref" href="#136flag" title='flag' data-ref="136flag">flag</a>) { <i>/* currently only FLAG_REF is defined */</i></td></tr>
<tr><th id="867">867</th><td>        <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col8 decl" id="138idx" title='idx' data-type='Py_ssize_t' data-ref="138idx">idx</dfn> = <a class="macro" href="../Include/listobject.h.html#74" title="(((((((((PyObject*)(p-&gt;refs))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 25))) != 0)) ? (void) (0) : __assert_fail (&quot;PyList_Check(p-&gt;refs)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 867, __PRETTY_FUNCTION__)),(((PyVarObject*)(p-&gt;refs))-&gt;ob_size))" data-ref="_M/PyList_GET_SIZE">PyList_GET_SIZE</a>(<a class="local col7 ref" href="#137p" title='p' data-ref="137p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>);</td></tr>
<tr><th id="868">868</th><td>        <b>if</b> (<a class="local col8 ref" href="#138idx" title='idx' data-ref="138idx">idx</a> &gt;= <var>0x7ffffffe</var>) {</td></tr>
<tr><th id="869">869</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (index list too large)"</q>);</td></tr>
<tr><th id="870">870</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="871">871</th><td>        }</td></tr>
<tr><th id="872">872</th><td>        <b>if</b> (<a class="ref" href="../Include/listobject.h.html#PyList_Append" title='PyList_Append' data-ref="PyList_Append">PyList_Append</a>(<a class="local col7 ref" href="#137p" title='p' data-ref="137p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>, <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="873">873</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="874">874</th><td>        <b>return</b> <a class="local col8 ref" href="#138idx" title='idx' data-ref="138idx">idx</a>;</td></tr>
<tr><th id="875">875</th><td>    } <b>else</b></td></tr>
<tr><th id="876">876</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="877">877</th><td>}</td></tr>
<tr><th id="878">878</th><td></td></tr>
<tr><th id="879">879</th><td><i  data-doc="r_ref_insert">/* insert the new object 'o' to the reflist at previously</i></td></tr>
<tr><th id="880">880</th><td><i  data-doc="r_ref_insert"> * allocated index 'idx'.</i></td></tr>
<tr><th id="881">881</th><td><i  data-doc="r_ref_insert"> * 'o' can be NULL, in which case nothing is done.</i></td></tr>
<tr><th id="882">882</th><td><i  data-doc="r_ref_insert"> * if 'o' was non-NULL, and the function succeeds, 'o' is returned.</i></td></tr>
<tr><th id="883">883</th><td><i  data-doc="r_ref_insert"> * if 'o' was non-NULL, and the function fails, 'o' is released and</i></td></tr>
<tr><th id="884">884</th><td><i  data-doc="r_ref_insert"> * NULL returned. This simplifies error checking at the call site since</i></td></tr>
<tr><th id="885">885</th><td><i  data-doc="r_ref_insert"> * a single test for NULL for the function result is enough.</i></td></tr>
<tr><th id="886">886</th><td><i  data-doc="r_ref_insert"> */</i></td></tr>
<tr><th id="887">887</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="888">888</th><td><dfn class="tu decl def" id="r_ref_insert" title='r_ref_insert' data-type='PyObject * r_ref_insert(PyObject * o, Py_ssize_t idx, int flag, RFILE * p)' data-ref="r_ref_insert">r_ref_insert</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="139o" title='o' data-type='PyObject *' data-ref="139o">o</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col0 decl" id="140idx" title='idx' data-type='Py_ssize_t' data-ref="140idx">idx</dfn>, <em>int</em> <dfn class="local col1 decl" id="141flag" title='flag' data-type='int' data-ref="141flag">flag</dfn>, <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col2 decl" id="142p" title='p' data-type='RFILE *' data-ref="142p">p</dfn>)</td></tr>
<tr><th id="889">889</th><td>{</td></tr>
<tr><th id="890">890</th><td>    <b>if</b> (<a class="local col9 ref" href="#139o" title='o' data-ref="139o">o</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col1 ref" href="#141flag" title='flag' data-ref="141flag">flag</a>) { <i>/* currently only FLAG_REF is defined */</i></td></tr>
<tr><th id="891">891</th><td>        <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="143tmp" title='tmp' data-type='PyObject *' data-ref="143tmp">tmp</dfn> = <a class="macro" href="../Include/listobject.h.html#72" title="(((PyListObject *)(p-&gt;refs))-&gt;ob_item[idx])" data-ref="_M/PyList_GET_ITEM">PyList_GET_ITEM</a>(<a class="local col2 ref" href="#142p" title='p' data-ref="142p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>, <a class="local col0 ref" href="#140idx" title='idx' data-ref="140idx">idx</a>);</td></tr>
<tr><th id="892">892</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(o))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col9 ref" href="#139o" title='o' data-ref="139o">o</a>);</td></tr>
<tr><th id="893">893</th><td>        <a class="macro" href="../Include/listobject.h.html#73" title="(((PyListObject *)(p-&gt;refs))-&gt;ob_item[idx] = (o))" data-ref="_M/PyList_SET_ITEM">PyList_SET_ITEM</a>(<a class="local col2 ref" href="#142p" title='p' data-ref="142p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>, <a class="local col0 ref" href="#140idx" title='idx' data-ref="140idx">idx</a>, <a class="local col9 ref" href="#139o" title='o' data-ref="139o">o</a>);</td></tr>
<tr><th id="894">894</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 894, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#143tmp" title='tmp' data-ref="143tmp">tmp</a>);</td></tr>
<tr><th id="895">895</th><td>    }</td></tr>
<tr><th id="896">896</th><td>    <b>return</b> <a class="local col9 ref" href="#139o" title='o' data-ref="139o">o</a>;</td></tr>
<tr><th id="897">897</th><td>}</td></tr>
<tr><th id="898">898</th><td></td></tr>
<tr><th id="899">899</th><td><i  data-doc="r_ref">/* combination of both above, used when an object can be</i></td></tr>
<tr><th id="900">900</th><td><i  data-doc="r_ref"> * created whenever it is seen in the file, as opposed to</i></td></tr>
<tr><th id="901">901</th><td><i  data-doc="r_ref"> * after having loaded its sub-objects.</i></td></tr>
<tr><th id="902">902</th><td><i  data-doc="r_ref"> */</i></td></tr>
<tr><th id="903">903</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="904">904</th><td><dfn class="tu decl def" id="r_ref" title='r_ref' data-type='PyObject * r_ref(PyObject * o, int flag, RFILE * p)' data-ref="r_ref">r_ref</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="144o" title='o' data-type='PyObject *' data-ref="144o">o</dfn>, <em>int</em> <dfn class="local col5 decl" id="145flag" title='flag' data-type='int' data-ref="145flag">flag</dfn>, <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col6 decl" id="146p" title='p' data-type='RFILE *' data-ref="146p">p</dfn>)</td></tr>
<tr><th id="905">905</th><td>{</td></tr>
<tr><th id="906">906</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((flag &amp; &apos;\x80&apos;) ? (void) (0) : __assert_fail (&quot;flag &amp; FLAG_REF&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 906, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col5 ref" href="#145flag" title='flag' data-ref="145flag">flag</a> &amp; <a class="macro" href="#58" title="&apos;\x80&apos;" data-ref="_M/FLAG_REF">FLAG_REF</a>);</td></tr>
<tr><th id="907">907</th><td>    <b>if</b> (<a class="local col4 ref" href="#144o" title='o' data-ref="144o">o</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="908">908</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="909">909</th><td>    <b>if</b> (<a class="ref" href="../Include/listobject.h.html#PyList_Append" title='PyList_Append' data-ref="PyList_Append">PyList_Append</a>(<a class="local col6 ref" href="#146p" title='p' data-ref="146p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>, <a class="local col4 ref" href="#144o" title='o' data-ref="144o">o</a>) &lt; <var>0</var>) {</td></tr>
<tr><th id="910">910</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(o); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 910, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#144o" title='o' data-ref="144o">o</a>); <i>/* release the new object */</i></td></tr>
<tr><th id="911">911</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="912">912</th><td>    }</td></tr>
<tr><th id="913">913</th><td>    <b>return</b> <a class="local col4 ref" href="#144o" title='o' data-ref="144o">o</a>;</td></tr>
<tr><th id="914">914</th><td>}</td></tr>
<tr><th id="915">915</th><td></td></tr>
<tr><th id="916">916</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="917">917</th><td><dfn class="tu decl def" id="r_object" title='r_object' data-type='PyObject * r_object(RFILE * p)' data-ref="r_object">r_object</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col7 decl" id="147p" title='p' data-type='RFILE *' data-ref="147p">p</dfn>)</td></tr>
<tr><th id="918">918</th><td>{</td></tr>
<tr><th id="919">919</th><td>    <i>/* NULL is a valid return value, it does not necessarily means that</i></td></tr>
<tr><th id="920">920</th><td><i>       an exception is set. */</i></td></tr>
<tr><th id="921">921</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="148v" title='v' data-type='PyObject *' data-ref="148v">v</dfn>, *<dfn class="local col9 decl" id="149v2" title='v2' data-type='PyObject *' data-ref="149v2">v2</dfn>;</td></tr>
<tr><th id="922">922</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col0 decl" id="150idx" title='idx' data-type='Py_ssize_t' data-ref="150idx">idx</dfn> = <var>0</var>;</td></tr>
<tr><th id="923">923</th><td>    <em>long</em> <dfn class="local col1 decl" id="151i" title='i' data-type='long' data-ref="151i">i</dfn>, <dfn class="local col2 decl" id="152n" title='n' data-type='long' data-ref="152n">n</dfn>;</td></tr>
<tr><th id="924">924</th><td>    <em>int</em> <dfn class="local col3 decl" id="153type" title='type' data-type='int' data-ref="153type">type</dfn>, <dfn class="local col4 decl" id="154code" title='code' data-type='int' data-ref="154code">code</dfn> = <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="925">925</th><td>    <em>int</em> <dfn class="local col5 decl" id="155flag" title='flag' data-type='int' data-ref="155flag">flag</dfn>, <dfn class="local col6 decl" id="156is_interned" title='is_interned' data-type='int' data-ref="156is_interned">is_interned</dfn> = <var>0</var>;</td></tr>
<tr><th id="926">926</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="157retval" title='retval' data-type='PyObject *' data-ref="157retval">retval</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="927">927</th><td></td></tr>
<tr><th id="928">928</th><td>    <b>if</b> (<a class="local col4 ref" href="#154code" title='code' data-ref="154code">code</a> == <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>) {</td></tr>
<tr><th id="929">929</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="930">930</th><td>                        <q>"EOF read where object expected"</q>);</td></tr>
<tr><th id="931">931</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="932">932</th><td>    }</td></tr>
<tr><th id="933">933</th><td></td></tr>
<tr><th id="934">934</th><td>    <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>++;</td></tr>
<tr><th id="935">935</th><td></td></tr>
<tr><th id="936">936</th><td>    <b>if</b> (<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='r' data-ref="(anonymous)::depth">depth</a> &gt; <a class="macro" href="#32" title="2000" data-ref="_M/MAX_MARSHAL_STACK_DEPTH">MAX_MARSHAL_STACK_DEPTH</a>) {</td></tr>
<tr><th id="937">937</th><td>        <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="938">938</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"recursion limit exceeded"</q>);</td></tr>
<tr><th id="939">939</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="940">940</th><td>    }</td></tr>
<tr><th id="941">941</th><td></td></tr>
<tr><th id="942">942</th><td>    <a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a> = <a class="local col4 ref" href="#154code" title='code' data-ref="154code">code</a> &amp; <a class="macro" href="#58" title="&apos;\x80&apos;" data-ref="_M/FLAG_REF">FLAG_REF</a>;</td></tr>
<tr><th id="943">943</th><td>    <a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a> = <a class="local col4 ref" href="#154code" title='code' data-ref="154code">code</a> &amp; ~<a class="macro" href="#58" title="&apos;\x80&apos;" data-ref="_M/FLAG_REF">FLAG_REF</a>;</td></tr>
<tr><th id="944">944</th><td></td></tr>
<tr><th id="945">945</th><td><u>#define <dfn class="macro" id="_M/R_REF" data-ref="_M/R_REF">R_REF</dfn>(O) do{\</u></td></tr>
<tr><th id="946">946</th><td><u>    if (<a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>) \</u></td></tr>
<tr><th id="947">947</th><td><u>        O = <a class="tu ref" href="#r_ref" title='r_ref' data-use='c' data-ref="r_ref">r_ref</a>(O, <a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);\</u></td></tr>
<tr><th id="948">948</th><td><u>} while (0)</u></td></tr>
<tr><th id="949">949</th><td></td></tr>
<tr><th id="950">950</th><td>    <b>switch</b> (<a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a>) {</td></tr>
<tr><th id="951">951</th><td></td></tr>
<tr><th id="952">952</th><td>    <b>case</b> <a class="macro" href="#35" title="&apos;0&apos;" data-ref="_M/TYPE_NULL">TYPE_NULL</a>:</td></tr>
<tr><th id="953">953</th><td>        <b>break</b>;</td></tr>
<tr><th id="954">954</th><td></td></tr>
<tr><th id="955">955</th><td>    <b>case</b> <a class="macro" href="#36" title="&apos;N&apos;" data-ref="_M/TYPE_NONE">TYPE_NONE</a>:</td></tr>
<tr><th id="956">956</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)((&amp;_Py_NoneStruct)))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>);</td></tr>
<tr><th id="957">957</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>;</td></tr>
<tr><th id="958">958</th><td>        <b>break</b>;</td></tr>
<tr><th id="959">959</th><td></td></tr>
<tr><th id="960">960</th><td>    <b>case</b> <a class="macro" href="#39" title="&apos;S&apos;" data-ref="_M/TYPE_STOPITER">TYPE_STOPITER</a>:</td></tr>
<tr><th id="961">961</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(PyExc_StopIteration))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_StopIteration" title='PyExc_StopIteration' data-ref="PyExc_StopIteration">PyExc_StopIteration</a>);</td></tr>
<tr><th id="962">962</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/pyerrors.h.html#PyExc_StopIteration" title='PyExc_StopIteration' data-ref="PyExc_StopIteration">PyExc_StopIteration</a>;</td></tr>
<tr><th id="963">963</th><td>        <b>break</b>;</td></tr>
<tr><th id="964">964</th><td></td></tr>
<tr><th id="965">965</th><td>    <b>case</b> <a class="macro" href="#40" title="&apos;.&apos;" data-ref="_M/TYPE_ELLIPSIS">TYPE_ELLIPSIS</a>:</td></tr>
<tr><th id="966">966</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)((&amp;_Py_EllipsisObject)))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="macro" href="../Include/sliceobject.h.html#11" title="(&amp;_Py_EllipsisObject)" data-ref="_M/Py_Ellipsis">Py_Ellipsis</a>);</td></tr>
<tr><th id="967">967</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="macro" href="../Include/sliceobject.h.html#11" title="(&amp;_Py_EllipsisObject)" data-ref="_M/Py_Ellipsis">Py_Ellipsis</a>;</td></tr>
<tr><th id="968">968</th><td>        <b>break</b>;</td></tr>
<tr><th id="969">969</th><td></td></tr>
<tr><th id="970">970</th><td>    <b>case</b> <a class="macro" href="#37" title="&apos;F&apos;" data-ref="_M/TYPE_FALSE">TYPE_FALSE</a>:</td></tr>
<tr><th id="971">971</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(((PyObject *) &amp;_Py_FalseStruct)))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="macro" href="../Include/boolobject.h.html#21" title="((PyObject *) &amp;_Py_FalseStruct)" data-ref="_M/Py_False">Py_False</a>);</td></tr>
<tr><th id="972">972</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="macro" href="../Include/boolobject.h.html#21" title="((PyObject *) &amp;_Py_FalseStruct)" data-ref="_M/Py_False">Py_False</a>;</td></tr>
<tr><th id="973">973</th><td>        <b>break</b>;</td></tr>
<tr><th id="974">974</th><td></td></tr>
<tr><th id="975">975</th><td>    <b>case</b> <a class="macro" href="#38" title="&apos;T&apos;" data-ref="_M/TYPE_TRUE">TYPE_TRUE</a>:</td></tr>
<tr><th id="976">976</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(((PyObject *) &amp;_Py_TrueStruct)))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="macro" href="../Include/boolobject.h.html#22" title="((PyObject *) &amp;_Py_TrueStruct)" data-ref="_M/Py_True">Py_True</a>);</td></tr>
<tr><th id="977">977</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="macro" href="../Include/boolobject.h.html#22" title="((PyObject *) &amp;_Py_TrueStruct)" data-ref="_M/Py_True">Py_True</a>;</td></tr>
<tr><th id="978">978</th><td>        <b>break</b>;</td></tr>
<tr><th id="979">979</th><td></td></tr>
<tr><th id="980">980</th><td>    <b>case</b> <a class="macro" href="#41" title="&apos;i&apos;" data-ref="_M/TYPE_INT">TYPE_INT</a>:</td></tr>
<tr><th id="981">981</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="982">982</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>() ? <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> : <a class="ref" href="../Include/longobject.h.html#PyLong_FromLong" title='PyLong_FromLong' data-ref="PyLong_FromLong">PyLong_FromLong</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="983">983</th><td>        <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="984">984</th><td>        <b>break</b>;</td></tr>
<tr><th id="985">985</th><td></td></tr>
<tr><th id="986">986</th><td>    <b>case</b> <a class="macro" href="#46" title="&apos;l&apos;" data-ref="_M/TYPE_LONG">TYPE_LONG</a>:</td></tr>
<tr><th id="987">987</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="tu ref" href="#r_PyLong" title='r_PyLong' data-use='c' data-ref="r_PyLong">r_PyLong</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="988">988</th><td>        <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="989">989</th><td>        <b>break</b>;</td></tr>
<tr><th id="990">990</th><td></td></tr>
<tr><th id="991">991</th><td>    <b>case</b> <a class="macro" href="#42" title="&apos;f&apos;" data-ref="_M/TYPE_FLOAT">TYPE_FLOAT</a>:</td></tr>
<tr><th id="992">992</th><td>        {</td></tr>
<tr><th id="993">993</th><td>            <em>char</em> <dfn class="local col8 decl" id="158buf" title='buf' data-type='char [256]' data-ref="158buf">buf</dfn>[<var>256</var>];</td></tr>
<tr><th id="994">994</th><td>            <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="159ptr" title='ptr' data-type='const char *' data-ref="159ptr">ptr</dfn>;</td></tr>
<tr><th id="995">995</th><td>            <em>double</em> <dfn class="local col0 decl" id="160dx" title='dx' data-type='double' data-ref="160dx">dx</dfn>;</td></tr>
<tr><th id="996">996</th><td>            <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="997">997</th><td>            <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>) {</td></tr>
<tr><th id="998">998</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="999">999</th><td>                    <q>"EOF read where object expected"</q>);</td></tr>
<tr><th id="1000">1000</th><td>                <b>break</b>;</td></tr>
<tr><th id="1001">1001</th><td>            }</td></tr>
<tr><th id="1002">1002</th><td>            <a class="local col9 ref" href="#159ptr" title='ptr' data-ref="159ptr">ptr</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1003">1003</th><td>            <b>if</b> (<a class="local col9 ref" href="#159ptr" title='ptr' data-ref="159ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1004">1004</th><td>                <b>break</b>;</td></tr>
<tr><th id="1005">1005</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf">buf</a>, <a class="local col9 ref" href="#159ptr" title='ptr' data-ref="159ptr">ptr</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1006">1006</th><td>            <a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf">buf</a>[<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1007">1007</th><td>            <a class="local col0 ref" href="#160dx" title='dx' data-ref="160dx">dx</a> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_string_to_double" title='PyOS_string_to_double' data-ref="PyOS_string_to_double">PyOS_string_to_double</a>(<a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1008">1008</th><td>            <b>if</b> (<a class="local col0 ref" href="#160dx" title='dx' data-ref="160dx">dx</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1009">1009</th><td>                <b>break</b>;</td></tr>
<tr><th id="1010">1010</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col0 ref" href="#160dx" title='dx' data-ref="160dx">dx</a>);</td></tr>
<tr><th id="1011">1011</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1012">1012</th><td>            <b>break</b>;</td></tr>
<tr><th id="1013">1013</th><td>        }</td></tr>
<tr><th id="1014">1014</th><td></td></tr>
<tr><th id="1015">1015</th><td>    <b>case</b> <a class="macro" href="#43" title="&apos;g&apos;" data-ref="_M/TYPE_BINARY_FLOAT">TYPE_BINARY_FLOAT</a>:</td></tr>
<tr><th id="1016">1016</th><td>        {</td></tr>
<tr><th id="1017">1017</th><td>            <em>const</em> <em>unsigned</em> <em>char</em> *<dfn class="local col1 decl" id="161buf" title='buf' data-type='const unsigned char *' data-ref="161buf">buf</dfn>;</td></tr>
<tr><th id="1018">1018</th><td>            <em>double</em> <dfn class="local col2 decl" id="162x" title='x' data-type='double' data-ref="162x">x</dfn>;</td></tr>
<tr><th id="1019">1019</th><td>            <a class="local col1 ref" href="#161buf" title='buf' data-ref="161buf">buf</a> = (<em>const</em> <em>unsigned</em> <em>char</em> *) <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>8</var>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1020">1020</th><td>            <b>if</b> (<a class="local col1 ref" href="#161buf" title='buf' data-ref="161buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1021">1021</th><td>                <b>break</b>;</td></tr>
<tr><th id="1022">1022</th><td>            <a class="local col2 ref" href="#162x" title='x' data-ref="162x">x</a> = <a class="ref" href="../Include/floatobject.h.html#_PyFloat_Unpack8" title='_PyFloat_Unpack8' data-ref="_PyFloat_Unpack8">_PyFloat_Unpack8</a>(<a class="local col1 ref" href="#161buf" title='buf' data-ref="161buf">buf</a>, <var>1</var>);</td></tr>
<tr><th id="1023">1023</th><td>            <b>if</b> (<a class="local col2 ref" href="#162x" title='x' data-ref="162x">x</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1024">1024</th><td>                <b>break</b>;</td></tr>
<tr><th id="1025">1025</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/floatobject.h.html#PyFloat_FromDouble" title='PyFloat_FromDouble' data-ref="PyFloat_FromDouble">PyFloat_FromDouble</a>(<a class="local col2 ref" href="#162x" title='x' data-ref="162x">x</a>);</td></tr>
<tr><th id="1026">1026</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1027">1027</th><td>            <b>break</b>;</td></tr>
<tr><th id="1028">1028</th><td>        }</td></tr>
<tr><th id="1029">1029</th><td></td></tr>
<tr><th id="1030">1030</th><td>    <b>case</b> <a class="macro" href="#44" title="&apos;x&apos;" data-ref="_M/TYPE_COMPLEX">TYPE_COMPLEX</a>:</td></tr>
<tr><th id="1031">1031</th><td>        {</td></tr>
<tr><th id="1032">1032</th><td>            <em>char</em> <dfn class="local col3 decl" id="163buf" title='buf' data-type='char [256]' data-ref="163buf">buf</dfn>[<var>256</var>];</td></tr>
<tr><th id="1033">1033</th><td>            <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="164ptr" title='ptr' data-type='const char *' data-ref="164ptr">ptr</dfn>;</td></tr>
<tr><th id="1034">1034</th><td>            <a class="typedef" href="../Include/complexobject.h.html#Py_complex" title='Py_complex' data-type='struct Py_complex' data-ref="Py_complex">Py_complex</a> <dfn class="local col5 decl" id="165c" title='c' data-type='Py_complex' data-ref="165c">c</dfn>;</td></tr>
<tr><th id="1035">1035</th><td>            <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1036">1036</th><td>            <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>) {</td></tr>
<tr><th id="1037">1037</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="1038">1038</th><td>                    <q>"EOF read where object expected"</q>);</td></tr>
<tr><th id="1039">1039</th><td>                <b>break</b>;</td></tr>
<tr><th id="1040">1040</th><td>            }</td></tr>
<tr><th id="1041">1041</th><td>            <a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1042">1042</th><td>            <b>if</b> (<a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1043">1043</th><td>                <b>break</b>;</td></tr>
<tr><th id="1044">1044</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>, <a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1045">1045</th><td>            <a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>[<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1046">1046</th><td>            <a class="local col5 ref" href="#165c" title='c' data-ref="165c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::real" title='(anonymous struct)::real' data-ref="(anonymous)::real">real</a> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_string_to_double" title='PyOS_string_to_double' data-ref="PyOS_string_to_double">PyOS_string_to_double</a>(<a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1047">1047</th><td>            <b>if</b> (<a class="local col5 ref" href="#165c" title='c' data-ref="165c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::real" title='(anonymous struct)::real' data-ref="(anonymous)::real">real</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1048">1048</th><td>                <b>break</b>;</td></tr>
<tr><th id="1049">1049</th><td>            <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1050">1050</th><td>            <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>) {</td></tr>
<tr><th id="1051">1051</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="1052">1052</th><td>                    <q>"EOF read where object expected"</q>);</td></tr>
<tr><th id="1053">1053</th><td>                <b>break</b>;</td></tr>
<tr><th id="1054">1054</th><td>            }</td></tr>
<tr><th id="1055">1055</th><td>            <a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1056">1056</th><td>            <b>if</b> (<a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1057">1057</th><td>                <b>break</b>;</td></tr>
<tr><th id="1058">1058</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>, <a class="local col4 ref" href="#164ptr" title='ptr' data-ref="164ptr">ptr</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1059">1059</th><td>            <a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>[<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="1060">1060</th><td>            <a class="local col5 ref" href="#165c" title='c' data-ref="165c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::imag" title='(anonymous struct)::imag' data-ref="(anonymous)::imag">imag</a> = <a class="ref" href="../Include/pystrtod.h.html#PyOS_string_to_double" title='PyOS_string_to_double' data-ref="PyOS_string_to_double">PyOS_string_to_double</a>(<a class="local col3 ref" href="#163buf" title='buf' data-ref="163buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1061">1061</th><td>            <b>if</b> (<a class="local col5 ref" href="#165c" title='c' data-ref="165c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::imag" title='(anonymous struct)::imag' data-ref="(anonymous)::imag">imag</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1062">1062</th><td>                <b>break</b>;</td></tr>
<tr><th id="1063">1063</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/complexobject.h.html#PyComplex_FromCComplex" title='PyComplex_FromCComplex' data-ref="PyComplex_FromCComplex">PyComplex_FromCComplex</a>(<a class="local col5 ref" href="#165c" title='c' data-ref="165c">c</a>);</td></tr>
<tr><th id="1064">1064</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1065">1065</th><td>            <b>break</b>;</td></tr>
<tr><th id="1066">1066</th><td>        }</td></tr>
<tr><th id="1067">1067</th><td></td></tr>
<tr><th id="1068">1068</th><td>    <b>case</b> <a class="macro" href="#45" title="&apos;y&apos;" data-ref="_M/TYPE_BINARY_COMPLEX">TYPE_BINARY_COMPLEX</a>:</td></tr>
<tr><th id="1069">1069</th><td>        {</td></tr>
<tr><th id="1070">1070</th><td>            <em>const</em> <em>unsigned</em> <em>char</em> *<dfn class="local col6 decl" id="166buf" title='buf' data-type='const unsigned char *' data-ref="166buf">buf</dfn>;</td></tr>
<tr><th id="1071">1071</th><td>            <a class="typedef" href="../Include/complexobject.h.html#Py_complex" title='Py_complex' data-type='struct Py_complex' data-ref="Py_complex">Py_complex</a> <dfn class="local col7 decl" id="167c" title='c' data-type='Py_complex' data-ref="167c">c</dfn>;</td></tr>
<tr><th id="1072">1072</th><td>            <a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a> = (<em>const</em> <em>unsigned</em> <em>char</em> *) <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>8</var>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1073">1073</th><td>            <b>if</b> (<a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1074">1074</th><td>                <b>break</b>;</td></tr>
<tr><th id="1075">1075</th><td>            <a class="local col7 ref" href="#167c" title='c' data-ref="167c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::real" title='(anonymous struct)::real' data-ref="(anonymous)::real">real</a> = <a class="ref" href="../Include/floatobject.h.html#_PyFloat_Unpack8" title='_PyFloat_Unpack8' data-ref="_PyFloat_Unpack8">_PyFloat_Unpack8</a>(<a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a>, <var>1</var>);</td></tr>
<tr><th id="1076">1076</th><td>            <b>if</b> (<a class="local col7 ref" href="#167c" title='c' data-ref="167c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::real" title='(anonymous struct)::real' data-ref="(anonymous)::real">real</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1077">1077</th><td>                <b>break</b>;</td></tr>
<tr><th id="1078">1078</th><td>            <a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a> = (<em>const</em> <em>unsigned</em> <em>char</em> *) <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<var>8</var>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1079">1079</th><td>            <b>if</b> (<a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1080">1080</th><td>                <b>break</b>;</td></tr>
<tr><th id="1081">1081</th><td>            <a class="local col7 ref" href="#167c" title='c' data-ref="167c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::imag" title='(anonymous struct)::imag' data-ref="(anonymous)::imag">imag</a> = <a class="ref" href="../Include/floatobject.h.html#_PyFloat_Unpack8" title='_PyFloat_Unpack8' data-ref="_PyFloat_Unpack8">_PyFloat_Unpack8</a>(<a class="local col6 ref" href="#166buf" title='buf' data-ref="166buf">buf</a>, <var>1</var>);</td></tr>
<tr><th id="1082">1082</th><td>            <b>if</b> (<a class="local col7 ref" href="#167c" title='c' data-ref="167c">c</a>.<a class="ref" href="../Include/complexobject.h.html#(anonymous)::imag" title='(anonymous struct)::imag' data-ref="(anonymous)::imag">imag</a> == -<var>1.0</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1083">1083</th><td>                <b>break</b>;</td></tr>
<tr><th id="1084">1084</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="ref" href="../Include/complexobject.h.html#PyComplex_FromCComplex" title='PyComplex_FromCComplex' data-ref="PyComplex_FromCComplex">PyComplex_FromCComplex</a>(<a class="local col7 ref" href="#167c" title='c' data-ref="167c">c</a>);</td></tr>
<tr><th id="1085">1085</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1086">1086</th><td>            <b>break</b>;</td></tr>
<tr><th id="1087">1087</th><td>        }</td></tr>
<tr><th id="1088">1088</th><td></td></tr>
<tr><th id="1089">1089</th><td>    <b>case</b> <a class="macro" href="#47" title="&apos;s&apos;" data-ref="_M/TYPE_STRING">TYPE_STRING</a>:</td></tr>
<tr><th id="1090">1090</th><td>        {</td></tr>
<tr><th id="1091">1091</th><td>            <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="168ptr" title='ptr' data-type='const char *' data-ref="168ptr">ptr</dfn>;</td></tr>
<tr><th id="1092">1092</th><td>            <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1093">1093</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1094">1094</th><td>                <b>break</b>;</td></tr>
<tr><th id="1095">1095</th><td>            <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1096">1096</th><td>                <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (bytes object size out of range)"</q>);</td></tr>
<tr><th id="1097">1097</th><td>                <b>break</b>;</td></tr>
<tr><th id="1098">1098</th><td>            }</td></tr>
<tr><th id="1099">1099</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/bytesobject.h.html#PyBytes_FromStringAndSize" title='PyBytes_FromStringAndSize' data-ref="PyBytes_FromStringAndSize">PyBytes_FromStringAndSize</a>((<em>char</em> *)<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1100">1100</th><td>            <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1101">1101</th><td>                <b>break</b>;</td></tr>
<tr><th id="1102">1102</th><td>            <a class="local col8 ref" href="#168ptr" title='ptr' data-ref="168ptr">ptr</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1103">1103</th><td>            <b>if</b> (<a class="local col8 ref" href="#168ptr" title='ptr' data-ref="168ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1104">1104</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1104, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1105">1105</th><td>                <b>break</b>;</td></tr>
<tr><th id="1106">1106</th><td>            }</td></tr>
<tr><th id="1107">1107</th><td>            <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)(v))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check(v)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1107, __PRETTY_FUNCTION__)), (((PyBytesObject *)(v))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>), <a class="local col8 ref" href="#168ptr" title='ptr' data-ref="168ptr">ptr</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1108">1108</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1109">1109</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1110">1110</th><td>            <b>break</b>;</td></tr>
<tr><th id="1111">1111</th><td>        }</td></tr>
<tr><th id="1112">1112</th><td></td></tr>
<tr><th id="1113">1113</th><td>    <b>case</b> <a class="macro" href="#61" title="&apos;A&apos;" data-ref="_M/TYPE_ASCII_INTERNED">TYPE_ASCII_INTERNED</a>:</td></tr>
<tr><th id="1114">1114</th><td>        <a class="local col6 ref" href="#156is_interned" title='is_interned' data-ref="156is_interned">is_interned</a> = <var>1</var>;</td></tr>
<tr><th id="1115">1115</th><td>        <i>/* fall through */</i></td></tr>
<tr><th id="1116">1116</th><td>    <b>case</b> <a class="macro" href="#60" title="&apos;a&apos;" data-ref="_M/TYPE_ASCII">TYPE_ASCII</a>:</td></tr>
<tr><th id="1117">1117</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1118">1118</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1119">1119</th><td>            <b>break</b>;</td></tr>
<tr><th id="1120">1120</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1121">1121</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (string size out of range)"</q>);</td></tr>
<tr><th id="1122">1122</th><td>            <b>break</b>;</td></tr>
<tr><th id="1123">1123</th><td>        }</td></tr>
<tr><th id="1124">1124</th><td>        <b>goto</b> <a class="lbl" href="#169_read_ascii" data-ref="169_read_ascii">_read_ascii</a>;</td></tr>
<tr><th id="1125">1125</th><td></td></tr>
<tr><th id="1126">1126</th><td>    <b>case</b> <a class="macro" href="#64" title="&apos;Z&apos;" data-ref="_M/TYPE_SHORT_ASCII_INTERNED">TYPE_SHORT_ASCII_INTERNED</a>:</td></tr>
<tr><th id="1127">1127</th><td>        <a class="local col6 ref" href="#156is_interned" title='is_interned' data-ref="156is_interned">is_interned</a> = <var>1</var>;</td></tr>
<tr><th id="1128">1128</th><td>        <i>/* fall through */</i></td></tr>
<tr><th id="1129">1129</th><td>    <b>case</b> <a class="macro" href="#63" title="&apos;z&apos;" data-ref="_M/TYPE_SHORT_ASCII">TYPE_SHORT_ASCII</a>:</td></tr>
<tr><th id="1130">1130</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1131">1131</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == <a class="macro" href="../../include/libio.h.html#62" title="(-1)" data-ref="_M/EOF">EOF</a>) {</td></tr>
<tr><th id="1132">1132</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_EOFError" title='PyExc_EOFError' data-ref="PyExc_EOFError">PyExc_EOFError</a>,</td></tr>
<tr><th id="1133">1133</th><td>                <q>"EOF read where object expected"</q>);</td></tr>
<tr><th id="1134">1134</th><td>            <b>break</b>;</td></tr>
<tr><th id="1135">1135</th><td>        }</td></tr>
<tr><th id="1136">1136</th><td>    <dfn class="lbl" id="169_read_ascii" data-ref="169_read_ascii">_read_ascii</dfn>:</td></tr>
<tr><th id="1137">1137</th><td>        {</td></tr>
<tr><th id="1138">1138</th><td>            <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="170ptr" title='ptr' data-type='const char *' data-ref="170ptr">ptr</dfn>;</td></tr>
<tr><th id="1139">1139</th><td>            <a class="local col0 ref" href="#170ptr" title='ptr' data-ref="170ptr">ptr</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1140">1140</th><td>            <b>if</b> (<a class="local col0 ref" href="#170ptr" title='ptr' data-ref="170ptr">ptr</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1141">1141</th><td>                <b>break</b>;</td></tr>
<tr><th id="1142">1142</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_FromKindAndData" title='PyUnicode_FromKindAndData' data-ref="PyUnicode_FromKindAndData">PyUnicode_FromKindAndData</a>(<a class="enum" href="../Include/unicodeobject.h.html#PyUnicode_Kind::PyUnicode_1BYTE_KIND" title='PyUnicode_Kind::PyUnicode_1BYTE_KIND' data-ref="PyUnicode_Kind::PyUnicode_1BYTE_KIND">PyUnicode_1BYTE_KIND</a>, <a class="local col0 ref" href="#170ptr" title='ptr' data-ref="170ptr">ptr</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1143">1143</th><td>            <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1144">1144</th><td>                <b>break</b>;</td></tr>
<tr><th id="1145">1145</th><td>            <b>if</b> (<a class="local col6 ref" href="#156is_interned" title='is_interned' data-ref="156is_interned">is_interned</a>)</td></tr>
<tr><th id="1146">1146</th><td>                <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_InternInPlace" title='PyUnicode_InternInPlace' data-ref="PyUnicode_InternInPlace">PyUnicode_InternInPlace</a>(&amp;<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1147">1147</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1148">1148</th><td>            <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1149">1149</th><td>            <b>break</b>;</td></tr>
<tr><th id="1150">1150</th><td>        }</td></tr>
<tr><th id="1151">1151</th><td></td></tr>
<tr><th id="1152">1152</th><td>    <b>case</b> <a class="macro" href="#48" title="&apos;t&apos;" data-ref="_M/TYPE_INTERNED">TYPE_INTERNED</a>:</td></tr>
<tr><th id="1153">1153</th><td>        <a class="local col6 ref" href="#156is_interned" title='is_interned' data-ref="156is_interned">is_interned</a> = <var>1</var>;</td></tr>
<tr><th id="1154">1154</th><td>        <i>/* fall through */</i></td></tr>
<tr><th id="1155">1155</th><td>    <b>case</b> <a class="macro" href="#54" title="&apos;u&apos;" data-ref="_M/TYPE_UNICODE">TYPE_UNICODE</a>:</td></tr>
<tr><th id="1156">1156</th><td>        {</td></tr>
<tr><th id="1157">1157</th><td>        <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="171buffer" title='buffer' data-type='const char *' data-ref="171buffer">buffer</dfn>;</td></tr>
<tr><th id="1158">1158</th><td></td></tr>
<tr><th id="1159">1159</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1160">1160</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1161">1161</th><td>            <b>break</b>;</td></tr>
<tr><th id="1162">1162</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1163">1163</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (string size out of range)"</q>);</td></tr>
<tr><th id="1164">1164</th><td>            <b>break</b>;</td></tr>
<tr><th id="1165">1165</th><td>        }</td></tr>
<tr><th id="1166">1166</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> != <var>0</var>) {</td></tr>
<tr><th id="1167">1167</th><td>            <a class="local col1 ref" href="#171buffer" title='buffer' data-ref="171buffer">buffer</a> = <a class="tu ref" href="#r_string" title='r_string' data-use='c' data-ref="r_string">r_string</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1168">1168</th><td>            <b>if</b> (<a class="local col1 ref" href="#171buffer" title='buffer' data-ref="171buffer">buffer</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1169">1169</th><td>                <b>break</b>;</td></tr>
<tr><th id="1170">1170</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_DecodeUTF8" title='PyUnicode_DecodeUTF8' data-ref="PyUnicode_DecodeUTF8">PyUnicode_DecodeUTF8</a>(<a class="local col1 ref" href="#171buffer" title='buffer' data-ref="171buffer">buffer</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>, <q>"surrogatepass"</q>);</td></tr>
<tr><th id="1171">1171</th><td>        }</td></tr>
<tr><th id="1172">1172</th><td>        <b>else</b> {</td></tr>
<tr><th id="1173">1173</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_New" title='PyUnicode_New' data-ref="PyUnicode_New">PyUnicode_New</a>(<var>0</var>, <var>0</var>);</td></tr>
<tr><th id="1174">1174</th><td>        }</td></tr>
<tr><th id="1175">1175</th><td>        <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1176">1176</th><td>            <b>break</b>;</td></tr>
<tr><th id="1177">1177</th><td>        <b>if</b> (<a class="local col6 ref" href="#156is_interned" title='is_interned' data-ref="156is_interned">is_interned</a>)</td></tr>
<tr><th id="1178">1178</th><td>            <a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_InternInPlace" title='PyUnicode_InternInPlace' data-ref="PyUnicode_InternInPlace">PyUnicode_InternInPlace</a>(&amp;<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1179">1179</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1180">1180</th><td>        <a class="macro" href="#945" title="do{ if (flag) retval = r_ref(retval, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>);</td></tr>
<tr><th id="1181">1181</th><td>        <b>break</b>;</td></tr>
<tr><th id="1182">1182</th><td>        }</td></tr>
<tr><th id="1183">1183</th><td></td></tr>
<tr><th id="1184">1184</th><td>    <b>case</b> <a class="macro" href="#62" title="&apos;)&apos;" data-ref="_M/TYPE_SMALL_TUPLE">TYPE_SMALL_TUPLE</a>:</td></tr>
<tr><th id="1185">1185</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = (<em>unsigned</em> <em>char</em>) <a class="tu ref" href="#r_byte" title='r_byte' data-use='c' data-ref="r_byte">r_byte</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1186">1186</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1187">1187</th><td>            <b>break</b>;</td></tr>
<tr><th id="1188">1188</th><td>        <b>goto</b> <a class="lbl" href="#172_read_tuple" data-ref="172_read_tuple">_read_tuple</a>;</td></tr>
<tr><th id="1189">1189</th><td>    <b>case</b> <a class="macro" href="#50" title="&apos;(&apos;" data-ref="_M/TYPE_TUPLE">TYPE_TUPLE</a>:</td></tr>
<tr><th id="1190">1190</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1191">1191</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1192">1192</th><td>            <b>break</b>;</td></tr>
<tr><th id="1193">1193</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1194">1194</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (tuple size out of range)"</q>);</td></tr>
<tr><th id="1195">1195</th><td>            <b>break</b>;</td></tr>
<tr><th id="1196">1196</th><td>        }</td></tr>
<tr><th id="1197">1197</th><td>    <dfn class="lbl" id="172_read_tuple" data-ref="172_read_tuple">_read_tuple</dfn>:</td></tr>
<tr><th id="1198">1198</th><td>        <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/tupleobject.h.html#PyTuple_New" title='PyTuple_New' data-ref="PyTuple_New">PyTuple_New</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1199">1199</th><td>        <a class="macro" href="#945" title="do{ if (flag) v = r_ref(v, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1200">1200</th><td>        <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1201">1201</th><td>            <b>break</b>;</td></tr>
<tr><th id="1202">1202</th><td></td></tr>
<tr><th id="1203">1203</th><td>        <b>for</b> (<a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> = <var>0</var>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> &lt; <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a>++) {</td></tr>
<tr><th id="1204">1204</th><td>            <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1205">1205</th><td>            <b>if</b> ( <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ) {</td></tr>
<tr><th id="1206">1206</th><td>                <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1207">1207</th><td>                    <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1208">1208</th><td>                        <q>"NULL object in marshal data for tuple"</q>);</td></tr>
<tr><th id="1209">1209</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1209, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1210">1210</th><td>                <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1211">1211</th><td>                <b>break</b>;</td></tr>
<tr><th id="1212">1212</th><td>            }</td></tr>
<tr><th id="1213">1213</th><td>            <a class="macro" href="../Include/tupleobject.h.html#62" title="(((PyTupleObject *)(v))-&gt;ob_item[i] = v2)" data-ref="_M/PyTuple_SET_ITEM">PyTuple_SET_ITEM</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a>, <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a>);</td></tr>
<tr><th id="1214">1214</th><td>        }</td></tr>
<tr><th id="1215">1215</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1216">1216</th><td>        <b>break</b>;</td></tr>
<tr><th id="1217">1217</th><td></td></tr>
<tr><th id="1218">1218</th><td>    <b>case</b> <a class="macro" href="#51" title="&apos;[&apos;" data-ref="_M/TYPE_LIST">TYPE_LIST</a>:</td></tr>
<tr><th id="1219">1219</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1220">1220</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1221">1221</th><td>            <b>break</b>;</td></tr>
<tr><th id="1222">1222</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1223">1223</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (list size out of range)"</q>);</td></tr>
<tr><th id="1224">1224</th><td>            <b>break</b>;</td></tr>
<tr><th id="1225">1225</th><td>        }</td></tr>
<tr><th id="1226">1226</th><td>        <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/listobject.h.html#PyList_New" title='PyList_New' data-ref="PyList_New">PyList_New</a>(<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1227">1227</th><td>        <a class="macro" href="#945" title="do{ if (flag) v = r_ref(v, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1228">1228</th><td>        <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1229">1229</th><td>            <b>break</b>;</td></tr>
<tr><th id="1230">1230</th><td>        <b>for</b> (<a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> = <var>0</var>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> &lt; <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a>++) {</td></tr>
<tr><th id="1231">1231</th><td>            <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1232">1232</th><td>            <b>if</b> ( <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ) {</td></tr>
<tr><th id="1233">1233</th><td>                <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1234">1234</th><td>                    <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1235">1235</th><td>                        <q>"NULL object in marshal data for list"</q>);</td></tr>
<tr><th id="1236">1236</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1236, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1237">1237</th><td>                <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1238">1238</th><td>                <b>break</b>;</td></tr>
<tr><th id="1239">1239</th><td>            }</td></tr>
<tr><th id="1240">1240</th><td>            <a class="macro" href="../Include/listobject.h.html#73" title="(((PyListObject *)(v))-&gt;ob_item[i] = (v2))" data-ref="_M/PyList_SET_ITEM">PyList_SET_ITEM</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a>, <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a>);</td></tr>
<tr><th id="1241">1241</th><td>        }</td></tr>
<tr><th id="1242">1242</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1243">1243</th><td>        <b>break</b>;</td></tr>
<tr><th id="1244">1244</th><td></td></tr>
<tr><th id="1245">1245</th><td>    <b>case</b> <a class="macro" href="#52" title="&apos;{&apos;" data-ref="_M/TYPE_DICT">TYPE_DICT</a>:</td></tr>
<tr><th id="1246">1246</th><td>        <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="ref" href="../Include/dictobject.h.html#PyDict_New" title='PyDict_New' data-ref="PyDict_New">PyDict_New</a>();</td></tr>
<tr><th id="1247">1247</th><td>        <a class="macro" href="#945" title="do{ if (flag) v = r_ref(v, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1248">1248</th><td>        <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1249">1249</th><td>            <b>break</b>;</td></tr>
<tr><th id="1250">1250</th><td>        <b>for</b> (;;) {</td></tr>
<tr><th id="1251">1251</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="173key" title='key' data-type='PyObject *' data-ref="173key">key</dfn>, *<dfn class="local col4 decl" id="174val" title='val' data-type='PyObject *' data-ref="174val">val</dfn>;</td></tr>
<tr><th id="1252">1252</th><td>            <a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1253">1253</th><td>            <b>if</b> (<a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1254">1254</th><td>                <b>break</b>;</td></tr>
<tr><th id="1255">1255</th><td>            <a class="local col4 ref" href="#174val" title='val' data-ref="174val">val</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1256">1256</th><td>            <b>if</b> (<a class="local col4 ref" href="#174val" title='val' data-ref="174val">val</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1257">1257</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(key); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1257, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a>);</td></tr>
<tr><th id="1258">1258</th><td>                <b>break</b>;</td></tr>
<tr><th id="1259">1259</th><td>            }</td></tr>
<tr><th id="1260">1260</th><td>            <b>if</b> (<a class="ref" href="../Include/dictobject.h.html#PyDict_SetItem" title='PyDict_SetItem' data-ref="PyDict_SetItem">PyDict_SetItem</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a>, <a class="local col4 ref" href="#174val" title='val' data-ref="174val">val</a>) &lt; <var>0</var>) {</td></tr>
<tr><th id="1261">1261</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(key); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1261, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a>);</td></tr>
<tr><th id="1262">1262</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(val); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1262, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#174val" title='val' data-ref="174val">val</a>);</td></tr>
<tr><th id="1263">1263</th><td>                <b>break</b>;</td></tr>
<tr><th id="1264">1264</th><td>            }</td></tr>
<tr><th id="1265">1265</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(key); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1265, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col3 ref" href="#173key" title='key' data-ref="173key">key</a>);</td></tr>
<tr><th id="1266">1266</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(val); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1266, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col4 ref" href="#174val" title='val' data-ref="174val">val</a>);</td></tr>
<tr><th id="1267">1267</th><td>        }</td></tr>
<tr><th id="1268">1268</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="1269">1269</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1269, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1270">1270</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1271">1271</th><td>        }</td></tr>
<tr><th id="1272">1272</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1273">1273</th><td>        <b>break</b>;</td></tr>
<tr><th id="1274">1274</th><td></td></tr>
<tr><th id="1275">1275</th><td>    <b>case</b> <a class="macro" href="#56" title="&apos;&lt;&apos;" data-ref="_M/TYPE_SET">TYPE_SET</a>:</td></tr>
<tr><th id="1276">1276</th><td>    <b>case</b> <a class="macro" href="#57" title="&apos;&gt;&apos;" data-ref="_M/TYPE_FROZENSET">TYPE_FROZENSET</a>:</td></tr>
<tr><th id="1277">1277</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1278">1278</th><td>        <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1279">1279</th><td>            <b>break</b>;</td></tr>
<tr><th id="1280">1280</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt; <a class="macro" href="#172" title="0x7FFFFFFF" data-ref="_M/SIZE32_MAX">SIZE32_MAX</a>) {</td></tr>
<tr><th id="1281">1281</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (set size out of range)"</q>);</td></tr>
<tr><th id="1282">1282</th><td>            <b>break</b>;</td></tr>
<tr><th id="1283">1283</th><td>        }</td></tr>
<tr><th id="1284">1284</th><td></td></tr>
<tr><th id="1285">1285</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == <var>0</var> &amp;&amp; <a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a> == <a class="macro" href="#57" title="&apos;&gt;&apos;" data-ref="_M/TYPE_FROZENSET">TYPE_FROZENSET</a>) {</td></tr>
<tr><th id="1286">1286</th><td>            <i>/* call frozenset() to get the empty frozenset singleton */</i></td></tr>
<tr><th id="1287">1287</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="macro" href="../Include/abstract.h.html#255" title="_PyObject_FastCallDict(((PyObject*)&amp;PyFrozenSet_Type), ((void*)0), 0, ((void*)0))" data-ref="_M/_PyObject_CallNoArg">_PyObject_CallNoArg</a>((<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>*)&amp;<a class="ref" href="../Include/setobject.h.html#PyFrozenSet_Type" title='PyFrozenSet_Type' data-ref="PyFrozenSet_Type">PyFrozenSet_Type</a>);</td></tr>
<tr><th id="1288">1288</th><td>            <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1289">1289</th><td>                <b>break</b>;</td></tr>
<tr><th id="1290">1290</th><td>            <a class="macro" href="#945" title="do{ if (flag) v = r_ref(v, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1291">1291</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1292">1292</th><td>        }</td></tr>
<tr><th id="1293">1293</th><td>        <b>else</b> {</td></tr>
<tr><th id="1294">1294</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = (<a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a> == <a class="macro" href="#56" title="&apos;&lt;&apos;" data-ref="_M/TYPE_SET">TYPE_SET</a>) ? <a class="ref" href="../Include/setobject.h.html#PySet_New" title='PySet_New' data-ref="PySet_New">PySet_New</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) : <a class="ref" href="../Include/setobject.h.html#PyFrozenSet_New" title='PyFrozenSet_New' data-ref="PyFrozenSet_New">PyFrozenSet_New</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1295">1295</th><td>            <b>if</b> (<a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a> == <a class="macro" href="#56" title="&apos;&lt;&apos;" data-ref="_M/TYPE_SET">TYPE_SET</a>) {</td></tr>
<tr><th id="1296">1296</th><td>                <a class="macro" href="#945" title="do{ if (flag) v = r_ref(v, flag, p);} while (0)" data-ref="_M/R_REF">R_REF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1297">1297</th><td>            } <b>else</b> {</td></tr>
<tr><th id="1298">1298</th><td>                <i>/* must use delayed registration of frozensets because they must</i></td></tr>
<tr><th id="1299">1299</th><td><i>                 * be init with a refcount of 1</i></td></tr>
<tr><th id="1300">1300</th><td><i>                 */</i></td></tr>
<tr><th id="1301">1301</th><td>                <a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a> = <a class="tu ref" href="#r_ref_reserve" title='r_ref_reserve' data-use='c' data-ref="r_ref_reserve">r_ref_reserve</a>(<a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1302">1302</th><td>                <b>if</b> (<a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a> &lt; <var>0</var>)</td></tr>
<tr><th id="1303">1303</th><td>                    <a class="macro" href="../Include/object.h.html#831" title="do { PyObject *_py_tmp = (PyObject *)(v); if (_py_tmp != ((void*)0)) { (v) = ((void*)0); do { PyObject *_py_decref_tmp = (PyObject *)(_py_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1303, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>); <i>/* signal error */</i></td></tr>
<tr><th id="1304">1304</th><td>            }</td></tr>
<tr><th id="1305">1305</th><td>            <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1306">1306</th><td>                <b>break</b>;</td></tr>
<tr><th id="1307">1307</th><td></td></tr>
<tr><th id="1308">1308</th><td>            <b>for</b> (<a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> = <var>0</var>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a> &lt; <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>; <a class="local col1 ref" href="#151i" title='i' data-ref="151i">i</a>++) {</td></tr>
<tr><th id="1309">1309</th><td>                <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1310">1310</th><td>                <b>if</b> ( <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> ) {</td></tr>
<tr><th id="1311">1311</th><td>                    <b>if</b> (!<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1312">1312</th><td>                        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1313">1313</th><td>                            <q>"NULL object in marshal data for set"</q>);</td></tr>
<tr><th id="1314">1314</th><td>                    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1314, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1315">1315</th><td>                    <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1316">1316</th><td>                    <b>break</b>;</td></tr>
<tr><th id="1317">1317</th><td>                }</td></tr>
<tr><th id="1318">1318</th><td>                <b>if</b> (<a class="ref" href="../Include/setobject.h.html#PySet_Add" title='PySet_Add' data-ref="PySet_Add">PySet_Add</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a>) == -<var>1</var>) {</td></tr>
<tr><th id="1319">1319</th><td>                    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1319, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1320">1320</th><td>                    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v2); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1320, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a>);</td></tr>
<tr><th id="1321">1321</th><td>                    <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1322">1322</th><td>                    <b>break</b>;</td></tr>
<tr><th id="1323">1323</th><td>                }</td></tr>
<tr><th id="1324">1324</th><td>                <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(v2); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1324, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col9 ref" href="#149v2" title='v2' data-ref="149v2">v2</a>);</td></tr>
<tr><th id="1325">1325</th><td>            }</td></tr>
<tr><th id="1326">1326</th><td>            <b>if</b> (<a class="local col3 ref" href="#153type" title='type' data-ref="153type">type</a> != <a class="macro" href="#56" title="&apos;&lt;&apos;" data-ref="_M/TYPE_SET">TYPE_SET</a>)</td></tr>
<tr><th id="1327">1327</th><td>                <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="tu ref" href="#r_ref_insert" title='r_ref_insert' data-use='c' data-ref="r_ref_insert">r_ref_insert</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a>, <a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1328">1328</th><td>            <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1329">1329</th><td>        }</td></tr>
<tr><th id="1330">1330</th><td>        <b>break</b>;</td></tr>
<tr><th id="1331">1331</th><td></td></tr>
<tr><th id="1332">1332</th><td>    <b>case</b> <a class="macro" href="#53" title="&apos;c&apos;" data-ref="_M/TYPE_CODE">TYPE_CODE</a>:</td></tr>
<tr><th id="1333">1333</th><td>        {</td></tr>
<tr><th id="1334">1334</th><td>            <em>int</em> <dfn class="local col5 decl" id="175argcount" title='argcount' data-type='int' data-ref="175argcount">argcount</dfn>;</td></tr>
<tr><th id="1335">1335</th><td>            <em>int</em> <dfn class="local col6 decl" id="176kwonlyargcount" title='kwonlyargcount' data-type='int' data-ref="176kwonlyargcount">kwonlyargcount</dfn>;</td></tr>
<tr><th id="1336">1336</th><td>            <em>int</em> <dfn class="local col7 decl" id="177nlocals" title='nlocals' data-type='int' data-ref="177nlocals">nlocals</dfn>;</td></tr>
<tr><th id="1337">1337</th><td>            <em>int</em> <dfn class="local col8 decl" id="178stacksize" title='stacksize' data-type='int' data-ref="178stacksize">stacksize</dfn>;</td></tr>
<tr><th id="1338">1338</th><td>            <em>int</em> <dfn class="local col9 decl" id="179flags" title='flags' data-type='int' data-ref="179flags">flags</dfn>;</td></tr>
<tr><th id="1339">1339</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="180code" title='code' data-type='PyObject *' data-ref="180code">code</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1340">1340</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="181consts" title='consts' data-type='PyObject *' data-ref="181consts">consts</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1341">1341</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="182names" title='names' data-type='PyObject *' data-ref="182names">names</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1342">1342</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="183varnames" title='varnames' data-type='PyObject *' data-ref="183varnames">varnames</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1343">1343</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="184freevars" title='freevars' data-type='PyObject *' data-ref="184freevars">freevars</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1344">1344</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="185cellvars" title='cellvars' data-type='PyObject *' data-ref="185cellvars">cellvars</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1345">1345</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="186filename" title='filename' data-type='PyObject *' data-ref="186filename">filename</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1346">1346</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="187name" title='name' data-type='PyObject *' data-ref="187name">name</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1347">1347</th><td>            <em>int</em> <dfn class="local col8 decl" id="188firstlineno" title='firstlineno' data-type='int' data-ref="188firstlineno">firstlineno</dfn>;</td></tr>
<tr><th id="1348">1348</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="189lnotab" title='lnotab' data-type='PyObject *' data-ref="189lnotab">lnotab</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1349">1349</th><td></td></tr>
<tr><th id="1350">1350</th><td>            <a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a> = <a class="tu ref" href="#r_ref_reserve" title='r_ref_reserve' data-use='c' data-ref="r_ref_reserve">r_ref_reserve</a>(<a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1351">1351</th><td>            <b>if</b> (<a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a> &lt; <var>0</var>)</td></tr>
<tr><th id="1352">1352</th><td>                <b>break</b>;</td></tr>
<tr><th id="1353">1353</th><td></td></tr>
<tr><th id="1354">1354</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1355">1355</th><td></td></tr>
<tr><th id="1356">1356</th><td>            <i>/* XXX ignore long-&gt;int overflows for now */</i></td></tr>
<tr><th id="1357">1357</th><td>            <a class="local col5 ref" href="#175argcount" title='argcount' data-ref="175argcount">argcount</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1358">1358</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1359">1359</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1360">1360</th><td>            <a class="local col6 ref" href="#176kwonlyargcount" title='kwonlyargcount' data-ref="176kwonlyargcount">kwonlyargcount</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1361">1361</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1362">1362</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1363">1363</th><td>            <a class="local col7 ref" href="#177nlocals" title='nlocals' data-ref="177nlocals">nlocals</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1364">1364</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1365">1365</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1366">1366</th><td>            <a class="local col8 ref" href="#178stacksize" title='stacksize' data-ref="178stacksize">stacksize</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1367">1367</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1368">1368</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1369">1369</th><td>            <a class="local col9 ref" href="#179flags" title='flags' data-ref="179flags">flags</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1370">1370</th><td>            <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1371">1371</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1372">1372</th><td>            <a class="local col0 ref" href="#180code" title='code' data-ref="180code">code</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1373">1373</th><td>            <b>if</b> (<a class="local col0 ref" href="#180code" title='code' data-ref="180code">code</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1374">1374</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1375">1375</th><td>            <a class="local col1 ref" href="#181consts" title='consts' data-ref="181consts">consts</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1376">1376</th><td>            <b>if</b> (<a class="local col1 ref" href="#181consts" title='consts' data-ref="181consts">consts</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1377">1377</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1378">1378</th><td>            <a class="local col2 ref" href="#182names" title='names' data-ref="182names">names</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1379">1379</th><td>            <b>if</b> (<a class="local col2 ref" href="#182names" title='names' data-ref="182names">names</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1380">1380</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1381">1381</th><td>            <a class="local col3 ref" href="#183varnames" title='varnames' data-ref="183varnames">varnames</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1382">1382</th><td>            <b>if</b> (<a class="local col3 ref" href="#183varnames" title='varnames' data-ref="183varnames">varnames</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1383">1383</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1384">1384</th><td>            <a class="local col4 ref" href="#184freevars" title='freevars' data-ref="184freevars">freevars</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1385">1385</th><td>            <b>if</b> (<a class="local col4 ref" href="#184freevars" title='freevars' data-ref="184freevars">freevars</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1386">1386</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1387">1387</th><td>            <a class="local col5 ref" href="#185cellvars" title='cellvars' data-ref="185cellvars">cellvars</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1388">1388</th><td>            <b>if</b> (<a class="local col5 ref" href="#185cellvars" title='cellvars' data-ref="185cellvars">cellvars</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1389">1389</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1390">1390</th><td>            <a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1391">1391</th><td>            <b>if</b> (<a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1392">1392</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1393">1393</th><td>            <b>if</b> (<a class="macro" href="../Include/unicodeobject.h.html#368" title="((((PyObject*)(filename))-&gt;ob_type) == &amp;PyUnicode_Type)" data-ref="_M/PyUnicode_CheckExact">PyUnicode_CheckExact</a>(<a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>)) {</td></tr>
<tr><th id="1394">1394</th><td>                <b>if</b> (<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='r' data-ref="(anonymous)::current_filename">current_filename</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1395">1395</th><td>                    <b>if</b> (!<a class="ref" href="../Include/unicodeobject.h.html#PyUnicode_Compare" title='PyUnicode_Compare' data-ref="PyUnicode_Compare">PyUnicode_Compare</a>(<a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='r' data-ref="(anonymous)::current_filename">current_filename</a>)) {</td></tr>
<tr><th id="1396">1396</th><td>                        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(filename); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1396, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>);</td></tr>
<tr><th id="1397">1397</th><td>                        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(p-&gt;current_filename))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='r' data-ref="(anonymous)::current_filename">current_filename</a>);</td></tr>
<tr><th id="1398">1398</th><td>                        <a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a> = <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='r' data-ref="(anonymous)::current_filename">current_filename</a>;</td></tr>
<tr><th id="1399">1399</th><td>                    }</td></tr>
<tr><th id="1400">1400</th><td>                }</td></tr>
<tr><th id="1401">1401</th><td>                <b>else</b> {</td></tr>
<tr><th id="1402">1402</th><td>                    <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>;</td></tr>
<tr><th id="1403">1403</th><td>                }</td></tr>
<tr><th id="1404">1404</th><td>            }</td></tr>
<tr><th id="1405">1405</th><td>            <a class="local col7 ref" href="#187name" title='name' data-ref="187name">name</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1406">1406</th><td>            <b>if</b> (<a class="local col7 ref" href="#187name" title='name' data-ref="187name">name</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1407">1407</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1408">1408</th><td>            <a class="local col8 ref" href="#188firstlineno" title='firstlineno' data-ref="188firstlineno">firstlineno</a> = (<em>int</em>)<a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1409">1409</th><td>            <b>if</b> (<a class="local col8 ref" href="#188firstlineno" title='firstlineno' data-ref="188firstlineno">firstlineno</a> == -<var>1</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1410">1410</th><td>                <b>break</b>;</td></tr>
<tr><th id="1411">1411</th><td>            <a class="local col9 ref" href="#189lnotab" title='lnotab' data-ref="189lnotab">lnotab</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1412">1412</th><td>            <b>if</b> (<a class="local col9 ref" href="#189lnotab" title='lnotab' data-ref="189lnotab">lnotab</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1413">1413</th><td>                <b>goto</b> <a class="lbl" href="#190code_error" data-ref="190code_error">code_error</a>;</td></tr>
<tr><th id="1414">1414</th><td></td></tr>
<tr><th id="1415">1415</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = (<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *) <a class="ref" href="../Include/code.h.html#PyCode_New" title='PyCode_New' data-ref="PyCode_New">PyCode_New</a>(</td></tr>
<tr><th id="1416">1416</th><td>                            <a class="local col5 ref" href="#175argcount" title='argcount' data-ref="175argcount">argcount</a>, <a class="local col6 ref" href="#176kwonlyargcount" title='kwonlyargcount' data-ref="176kwonlyargcount">kwonlyargcount</a>,</td></tr>
<tr><th id="1417">1417</th><td>                            <a class="local col7 ref" href="#177nlocals" title='nlocals' data-ref="177nlocals">nlocals</a>, <a class="local col8 ref" href="#178stacksize" title='stacksize' data-ref="178stacksize">stacksize</a>, <a class="local col9 ref" href="#179flags" title='flags' data-ref="179flags">flags</a>,</td></tr>
<tr><th id="1418">1418</th><td>                            <a class="local col0 ref" href="#180code" title='code' data-ref="180code">code</a>, <a class="local col1 ref" href="#181consts" title='consts' data-ref="181consts">consts</a>, <a class="local col2 ref" href="#182names" title='names' data-ref="182names">names</a>, <a class="local col3 ref" href="#183varnames" title='varnames' data-ref="183varnames">varnames</a>,</td></tr>
<tr><th id="1419">1419</th><td>                            <a class="local col4 ref" href="#184freevars" title='freevars' data-ref="184freevars">freevars</a>, <a class="local col5 ref" href="#185cellvars" title='cellvars' data-ref="185cellvars">cellvars</a>, <a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>, <a class="local col7 ref" href="#187name" title='name' data-ref="187name">name</a>,</td></tr>
<tr><th id="1420">1420</th><td>                            <a class="local col8 ref" href="#188firstlineno" title='firstlineno' data-ref="188firstlineno">firstlineno</a>, <a class="local col9 ref" href="#189lnotab" title='lnotab' data-ref="189lnotab">lnotab</a>);</td></tr>
<tr><th id="1421">1421</th><td>            <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="tu ref" href="#r_ref_insert" title='r_ref_insert' data-use='c' data-ref="r_ref_insert">r_ref_insert</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>, <a class="local col0 ref" href="#150idx" title='idx' data-ref="150idx">idx</a>, <a class="local col5 ref" href="#155flag" title='flag' data-ref="155flag">flag</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1422">1422</th><td></td></tr>
<tr><th id="1423">1423</th><td>          <dfn class="lbl" id="190code_error" data-ref="190code_error">code_error</dfn>:</td></tr>
<tr><th id="1424">1424</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(code); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1424, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col0 ref" href="#180code" title='code' data-ref="180code">code</a>);</td></tr>
<tr><th id="1425">1425</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(consts); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1425, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col1 ref" href="#181consts" title='consts' data-ref="181consts">consts</a>);</td></tr>
<tr><th id="1426">1426</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(names); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1426, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col2 ref" href="#182names" title='names' data-ref="182names">names</a>);</td></tr>
<tr><th id="1427">1427</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(varnames); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1427, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col3 ref" href="#183varnames" title='varnames' data-ref="183varnames">varnames</a>);</td></tr>
<tr><th id="1428">1428</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(freevars); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1428, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col4 ref" href="#184freevars" title='freevars' data-ref="184freevars">freevars</a>);</td></tr>
<tr><th id="1429">1429</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(cellvars); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1429, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col5 ref" href="#185cellvars" title='cellvars' data-ref="185cellvars">cellvars</a>);</td></tr>
<tr><th id="1430">1430</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(filename); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1430, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col6 ref" href="#186filename" title='filename' data-ref="186filename">filename</a>);</td></tr>
<tr><th id="1431">1431</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(name); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1431, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col7 ref" href="#187name" title='name' data-ref="187name">name</a>);</td></tr>
<tr><th id="1432">1432</th><td>            <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(lnotab); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1432, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col9 ref" href="#189lnotab" title='lnotab' data-ref="189lnotab">lnotab</a>);</td></tr>
<tr><th id="1433">1433</th><td>        }</td></tr>
<tr><th id="1434">1434</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1435">1435</th><td>        <b>break</b>;</td></tr>
<tr><th id="1436">1436</th><td></td></tr>
<tr><th id="1437">1437</th><td>    <b>case</b> <a class="macro" href="#49" title="&apos;r&apos;" data-ref="_M/TYPE_REF">TYPE_REF</a>:</td></tr>
<tr><th id="1438">1438</th><td>        <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>);</td></tr>
<tr><th id="1439">1439</th><td>        <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &lt; <var>0</var> || <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> &gt;= <a class="macro" href="../Include/listobject.h.html#74" title="(((((((((PyObject*)(p-&gt;refs))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 25))) != 0)) ? (void) (0) : __assert_fail (&quot;PyList_Check(p-&gt;refs)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1439, __PRETTY_FUNCTION__)),(((PyVarObject*)(p-&gt;refs))-&gt;ob_size))" data-ref="_M/PyList_GET_SIZE">PyList_GET_SIZE</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>)) {</td></tr>
<tr><th id="1440">1440</th><td>            <b>if</b> (<a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a> == -<var>1</var> &amp;&amp; <a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1441">1441</th><td>                <b>break</b>;</td></tr>
<tr><th id="1442">1442</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (invalid reference)"</q>);</td></tr>
<tr><th id="1443">1443</th><td>            <b>break</b>;</td></tr>
<tr><th id="1444">1444</th><td>        }</td></tr>
<tr><th id="1445">1445</th><td>        <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> = <a class="macro" href="../Include/listobject.h.html#72" title="(((PyListObject *)(p-&gt;refs))-&gt;ob_item[n])" data-ref="_M/PyList_GET_ITEM">PyList_GET_ITEM</a>(<a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>, <a class="local col2 ref" href="#152n" title='n' data-ref="152n">n</a>);</td></tr>
<tr><th id="1446">1446</th><td>        <b>if</b> (<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a> == <a class="macro" href="../Include/object.h.html#910" title="(&amp;_Py_NoneStruct)" data-ref="_M/Py_None">Py_None</a>) {</td></tr>
<tr><th id="1447">1447</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (invalid reference)"</q>);</td></tr>
<tr><th id="1448">1448</th><td>            <b>break</b>;</td></tr>
<tr><th id="1449">1449</th><td>        }</td></tr>
<tr><th id="1450">1450</th><td>        <a class="macro" href="../Include/object.h.html#783" title="( _Py_RefTotal++ , ((PyObject *)(v))-&gt;ob_refcnt++)" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>);</td></tr>
<tr><th id="1451">1451</th><td>        <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a> = <a class="local col8 ref" href="#148v" title='v' data-ref="148v">v</a>;</td></tr>
<tr><th id="1452">1452</th><td>        <b>break</b>;</td></tr>
<tr><th id="1453">1453</th><td></td></tr>
<tr><th id="1454">1454</th><td>    <b>default</b>:</td></tr>
<tr><th id="1455">1455</th><td>        <i>/* Bogus data got written, which isn't ideal.</i></td></tr>
<tr><th id="1456">1456</th><td><i>           This will let you keep working and recover. */</i></td></tr>
<tr><th id="1457">1457</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>, <q>"bad marshal data (unknown type code)"</q>);</td></tr>
<tr><th id="1458">1458</th><td>        <b>break</b>;</td></tr>
<tr><th id="1459">1459</th><td></td></tr>
<tr><th id="1460">1460</th><td>    }</td></tr>
<tr><th id="1461">1461</th><td>    <a class="local col7 ref" href="#147p" title='p' data-ref="147p">p</a>-&gt;<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a>--;</td></tr>
<tr><th id="1462">1462</th><td>    <b>return</b> <a class="local col7 ref" href="#157retval" title='retval' data-ref="157retval">retval</a>;</td></tr>
<tr><th id="1463">1463</th><td>}</td></tr>
<tr><th id="1464">1464</th><td></td></tr>
<tr><th id="1465">1465</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1466">1466</th><td><dfn class="tu decl def" id="read_object" title='read_object' data-type='PyObject * read_object(RFILE * p)' data-ref="read_object">read_object</dfn>(<a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> *<dfn class="local col1 decl" id="191p" title='p' data-type='RFILE *' data-ref="191p">p</dfn>)</td></tr>
<tr><th id="1467">1467</th><td>{</td></tr>
<tr><th id="1468">1468</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="192v" title='v' data-type='PyObject *' data-ref="192v">v</dfn>;</td></tr>
<tr><th id="1469">1469</th><td>    <b>if</b> (<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>()) {</td></tr>
<tr><th id="1470">1470</th><td>        <a class="ref" href="../../include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf">fprintf</a>(<a class="macro" href="../../include/stdio.h.html#174" title="stderr" data-ref="_M/stderr">stderr</a>, <q>"XXX readobject called with exception set\n"</q>);</td></tr>
<tr><th id="1471">1471</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1472">1472</th><td>    }</td></tr>
<tr><th id="1473">1473</th><td>    <a class="local col2 ref" href="#192v" title='v' data-ref="192v">v</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(<a class="local col1 ref" href="#191p" title='p' data-ref="191p">p</a>);</td></tr>
<tr><th id="1474">1474</th><td>    <b>if</b> (<a class="local col2 ref" href="#192v" title='v' data-ref="192v">v</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; !<a class="ref" href="../Include/pyerrors.h.html#PyErr_Occurred" title='PyErr_Occurred' data-ref="PyErr_Occurred">PyErr_Occurred</a>())</td></tr>
<tr><th id="1475">1475</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>, <q>"NULL object in marshal data for object"</q>);</td></tr>
<tr><th id="1476">1476</th><td>    <b>return</b> <a class="local col2 ref" href="#192v" title='v' data-ref="192v">v</a>;</td></tr>
<tr><th id="1477">1477</th><td>}</td></tr>
<tr><th id="1478">1478</th><td></td></tr>
<tr><th id="1479">1479</th><td><em>int</em></td></tr>
<tr><th id="1480">1480</th><td><dfn class="decl def" id="PyMarshal_ReadShortFromFile" title='PyMarshal_ReadShortFromFile' data-ref="PyMarshal_ReadShortFromFile">PyMarshal_ReadShortFromFile</dfn>(<a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col3 decl" id="193fp" title='fp' data-type='FILE *' data-ref="193fp">fp</dfn>)</td></tr>
<tr><th id="1481">1481</th><td>{</td></tr>
<tr><th id="1482">1482</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col4 decl" id="194rf" title='rf' data-type='RFILE' data-ref="194rf">rf</dfn>;</td></tr>
<tr><th id="1483">1483</th><td>    <em>int</em> <dfn class="local col5 decl" id="195res" title='res' data-type='int' data-ref="195res">res</dfn>;</td></tr>
<tr><th id="1484">1484</th><td>    <a class="macro" href="../../include/assert.h.html#88" title="((fp) ? (void) (0) : __assert_fail (&quot;fp&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1484, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col3 ref" href="#193fp" title='fp' data-ref="193fp">fp</a>);</td></tr>
<tr><th id="1485">1485</th><td>    <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1486">1486</th><td>    <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <a class="local col3 ref" href="#193fp" title='fp' data-ref="193fp">fp</a>;</td></tr>
<tr><th id="1487">1487</th><td>    <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1488">1488</th><td>    <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1489">1489</th><td>    <a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1490">1490</th><td>    <a class="local col5 ref" href="#195res" title='res' data-ref="195res">res</a> = <a class="tu ref" href="#r_short" title='r_short' data-use='c' data-ref="r_short">r_short</a>(&amp;<a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>);</td></tr>
<tr><th id="1491">1491</th><td>    <b>if</b> (<a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1492">1492</th><td>        <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(rf.buf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col4 ref" href="#194rf" title='rf' data-ref="194rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>);</td></tr>
<tr><th id="1493">1493</th><td>    <b>return</b> <a class="local col5 ref" href="#195res" title='res' data-ref="195res">res</a>;</td></tr>
<tr><th id="1494">1494</th><td>}</td></tr>
<tr><th id="1495">1495</th><td></td></tr>
<tr><th id="1496">1496</th><td><em>long</em></td></tr>
<tr><th id="1497">1497</th><td><dfn class="decl def" id="PyMarshal_ReadLongFromFile" title='PyMarshal_ReadLongFromFile' data-ref="PyMarshal_ReadLongFromFile">PyMarshal_ReadLongFromFile</dfn>(<a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col6 decl" id="196fp" title='fp' data-type='FILE *' data-ref="196fp">fp</dfn>)</td></tr>
<tr><th id="1498">1498</th><td>{</td></tr>
<tr><th id="1499">1499</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col7 decl" id="197rf" title='rf' data-type='RFILE' data-ref="197rf">rf</dfn>;</td></tr>
<tr><th id="1500">1500</th><td>    <em>long</em> <dfn class="local col8 decl" id="198res" title='res' data-type='long' data-ref="198res">res</dfn>;</td></tr>
<tr><th id="1501">1501</th><td>    <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <a class="local col6 ref" href="#196fp" title='fp' data-ref="196fp">fp</a>;</td></tr>
<tr><th id="1502">1502</th><td>    <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1503">1503</th><td>    <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1504">1504</th><td>    <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1505">1505</th><td>    <a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1506">1506</th><td>    <a class="local col8 ref" href="#198res" title='res' data-ref="198res">res</a> = <a class="tu ref" href="#r_long" title='r_long' data-use='c' data-ref="r_long">r_long</a>(&amp;<a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>);</td></tr>
<tr><th id="1507">1507</th><td>    <b>if</b> (<a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1508">1508</th><td>        <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(rf.buf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col7 ref" href="#197rf" title='rf' data-ref="197rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>);</td></tr>
<tr><th id="1509">1509</th><td>    <b>return</b> <a class="local col8 ref" href="#198res" title='res' data-ref="198res">res</a>;</td></tr>
<tr><th id="1510">1510</th><td>}</td></tr>
<tr><th id="1511">1511</th><td></td></tr>
<tr><th id="1512">1512</th><td><i  data-doc="getfilesize">/* Return size of file in bytes; &lt; 0 if unknown or INT_MAX if too big */</i></td></tr>
<tr><th id="1513">1513</th><td><em>static</em> <a class="typedef" href="../../include/stdio.h.html#off_t" title='off_t' data-type='__off64_t' data-ref="off_t">off_t</a></td></tr>
<tr><th id="1514">1514</th><td><dfn class="tu decl def" id="getfilesize" title='getfilesize' data-type='off_t getfilesize(FILE * fp)' data-ref="getfilesize">getfilesize</dfn>(<a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col9 decl" id="199fp" title='fp' data-type='FILE *' data-ref="199fp">fp</dfn>)</td></tr>
<tr><th id="1515">1515</th><td>{</td></tr>
<tr><th id="1516">1516</th><td>    <b>struct</b> <a class="macro" href="../Include/fileutils.h.html#41" title="stat" data-ref="_M/_Py_stat_struct">_Py_stat_struct</a> <dfn class="local col0 decl" id="200st" title='st' data-type='struct stat' data-ref="200st">st</dfn>;</td></tr>
<tr><th id="1517">1517</th><td>    <b>if</b> (<a class="ref" href="../Include/fileutils.h.html#_Py_fstat_noraise" title='_Py_fstat_noraise' data-ref="_Py_fstat_noraise">_Py_fstat_noraise</a>(<a class="ref" href="../../include/stdio.h.html#fileno" title='fileno' data-ref="fileno">fileno</a>(<a class="local col9 ref" href="#199fp" title='fp' data-ref="199fp">fp</a>), &amp;<a class="local col0 ref" href="#200st" title='st' data-ref="200st">st</a>) != <var>0</var>)</td></tr>
<tr><th id="1518">1518</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1519">1519</th><td><u>#<span data-ppcond="1519">if</span> <a class="macro" href="../pyconfig.h.html#1295" title="8" data-ref="_M/SIZEOF_OFF_T">SIZEOF_OFF_T</a> == 4</u></td></tr>
<tr><th id="1520">1520</th><td>    <b>else</b> <b>if</b> (st.st_size &gt;= INT_MAX)</td></tr>
<tr><th id="1521">1521</th><td>        <b>return</b> (off_t)INT_MAX;</td></tr>
<tr><th id="1522">1522</th><td><u>#<span data-ppcond="1519">endif</span></u></td></tr>
<tr><th id="1523">1523</th><td>    <b>else</b></td></tr>
<tr><th id="1524">1524</th><td>        <b>return</b> (<a class="typedef" href="../../include/stdio.h.html#off_t" title='off_t' data-type='__off64_t' data-ref="off_t">off_t</a>)<a class="local col0 ref" href="#200st" title='st' data-ref="200st">st</a>.<a class="ref" href="../../include/x86_64-linux-gnu/bits/stat.h.html#stat::st_size" title='stat::st_size' data-ref="stat::st_size">st_size</a>;</td></tr>
<tr><th id="1525">1525</th><td>}</td></tr>
<tr><th id="1526">1526</th><td></td></tr>
<tr><th id="1527">1527</th><td><i>/* If we can get the size of the file up-front, and it's reasonably small,</i></td></tr>
<tr><th id="1528">1528</th><td><i> * read it in one gulp and delegate to ...FromString() instead.  Much quicker</i></td></tr>
<tr><th id="1529">1529</th><td><i> * than reading a byte at a time from file; speeds .pyc imports.</i></td></tr>
<tr><th id="1530">1530</th><td><i> * CAUTION:  since this may read the entire remainder of the file, don't</i></td></tr>
<tr><th id="1531">1531</th><td><i> * call it unless you know you're done with the file.</i></td></tr>
<tr><th id="1532">1532</th><td><i> */</i></td></tr>
<tr><th id="1533">1533</th><td><a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1534">1534</th><td><dfn class="decl def" id="PyMarshal_ReadLastObjectFromFile" title='PyMarshal_ReadLastObjectFromFile' data-ref="PyMarshal_ReadLastObjectFromFile">PyMarshal_ReadLastObjectFromFile</dfn>(<a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col1 decl" id="201fp" title='fp' data-type='FILE *' data-ref="201fp">fp</dfn>)</td></tr>
<tr><th id="1535">1535</th><td>{</td></tr>
<tr><th id="1536">1536</th><td><i>/* REASONABLE_FILE_LIMIT is by defn something big enough for Tkinter.pyc. */</i></td></tr>
<tr><th id="1537">1537</th><td><u>#define <dfn class="macro" id="_M/REASONABLE_FILE_LIMIT" data-ref="_M/REASONABLE_FILE_LIMIT">REASONABLE_FILE_LIMIT</dfn> (1L &lt;&lt; 18)</u></td></tr>
<tr><th id="1538">1538</th><td>    <a class="typedef" href="../../include/stdio.h.html#off_t" title='off_t' data-type='__off64_t' data-ref="off_t">off_t</a> <dfn class="local col2 decl" id="202filesize" title='filesize' data-type='off_t' data-ref="202filesize">filesize</dfn>;</td></tr>
<tr><th id="1539">1539</th><td>    <a class="local col2 ref" href="#202filesize" title='filesize' data-ref="202filesize">filesize</a> = <a class="tu ref" href="#getfilesize" title='getfilesize' data-use='c' data-ref="getfilesize">getfilesize</a>(<a class="local col1 ref" href="#201fp" title='fp' data-ref="201fp">fp</a>);</td></tr>
<tr><th id="1540">1540</th><td>    <b>if</b> (<a class="local col2 ref" href="#202filesize" title='filesize' data-ref="202filesize">filesize</a> &gt; <var>0</var> &amp;&amp; <a class="local col2 ref" href="#202filesize" title='filesize' data-ref="202filesize">filesize</a> &lt;= <a class="macro" href="#1537" title="(1L &lt;&lt; 18)" data-ref="_M/REASONABLE_FILE_LIMIT">REASONABLE_FILE_LIMIT</a>) {</td></tr>
<tr><th id="1541">1541</th><td>        <em>char</em>* <dfn class="local col3 decl" id="203pBuf" title='pBuf' data-type='char *' data-ref="203pBuf">pBuf</dfn> = (<em>char</em> *)<a class="macro" href="../Include/pymem.h.html#120" title="PyMem_Malloc(filesize)" data-ref="_M/PyMem_MALLOC">PyMem_MALLOC</a>(<a class="local col2 ref" href="#202filesize" title='filesize' data-ref="202filesize">filesize</a>);</td></tr>
<tr><th id="1542">1542</th><td>        <b>if</b> (<a class="local col3 ref" href="#203pBuf" title='pBuf' data-ref="203pBuf">pBuf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1543">1543</th><td>            <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="204n" title='n' data-type='size_t' data-ref="204n">n</dfn> = <a class="ref" href="../../include/stdio.h.html#fread" title='fread' data-ref="fread">fread</a>(<a class="local col3 ref" href="#203pBuf" title='pBuf' data-ref="203pBuf">pBuf</a>, <var>1</var>, (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>)<a class="local col2 ref" href="#202filesize" title='filesize' data-ref="202filesize">filesize</a>, <a class="local col1 ref" href="#201fp" title='fp' data-ref="201fp">fp</a>);</td></tr>
<tr><th id="1544">1544</th><td>            <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>* <dfn class="local col5 decl" id="205v" title='v' data-type='PyObject *' data-ref="205v">v</dfn> = <a class="ref" href="#PyMarshal_ReadObjectFromString" title='PyMarshal_ReadObjectFromString' data-ref="PyMarshal_ReadObjectFromString">PyMarshal_ReadObjectFromString</a>(<a class="local col3 ref" href="#203pBuf" title='pBuf' data-ref="203pBuf">pBuf</a>, <a class="local col4 ref" href="#204n" title='n' data-ref="204n">n</a>);</td></tr>
<tr><th id="1545">1545</th><td>            <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(pBuf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col3 ref" href="#203pBuf" title='pBuf' data-ref="203pBuf">pBuf</a>);</td></tr>
<tr><th id="1546">1546</th><td>            <b>return</b> <a class="local col5 ref" href="#205v" title='v' data-ref="205v">v</a>;</td></tr>
<tr><th id="1547">1547</th><td>        }</td></tr>
<tr><th id="1548">1548</th><td></td></tr>
<tr><th id="1549">1549</th><td>    }</td></tr>
<tr><th id="1550">1550</th><td>    <i>/* We don't have fstat, or we do but the file is larger than</i></td></tr>
<tr><th id="1551">1551</th><td><i>     * REASONABLE_FILE_LIMIT or malloc failed -- read a byte at a time.</i></td></tr>
<tr><th id="1552">1552</th><td><i>     */</i></td></tr>
<tr><th id="1553">1553</th><td>    <b>return</b> <a class="ref" href="#PyMarshal_ReadObjectFromFile" title='PyMarshal_ReadObjectFromFile' data-ref="PyMarshal_ReadObjectFromFile">PyMarshal_ReadObjectFromFile</a>(<a class="local col1 ref" href="#201fp" title='fp' data-ref="201fp">fp</a>);</td></tr>
<tr><th id="1554">1554</th><td></td></tr>
<tr><th id="1555">1555</th><td><u>#undef <a class="macro" href="#1537" data-ref="_M/REASONABLE_FILE_LIMIT">REASONABLE_FILE_LIMIT</a></u></td></tr>
<tr><th id="1556">1556</th><td>}</td></tr>
<tr><th id="1557">1557</th><td></td></tr>
<tr><th id="1558">1558</th><td><a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1559">1559</th><td><dfn class="decl def" id="PyMarshal_ReadObjectFromFile" title='PyMarshal_ReadObjectFromFile' data-ref="PyMarshal_ReadObjectFromFile">PyMarshal_ReadObjectFromFile</dfn>(<a class="typedef" href="../../include/stdio.h.html#FILE" title='FILE' data-type='struct _IO_FILE' data-ref="FILE">FILE</a> *<dfn class="local col6 decl" id="206fp" title='fp' data-type='FILE *' data-ref="206fp">fp</dfn>)</td></tr>
<tr><th id="1560">1560</th><td>{</td></tr>
<tr><th id="1561">1561</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col7 decl" id="207rf" title='rf' data-type='RFILE' data-ref="207rf">rf</dfn>;</td></tr>
<tr><th id="1562">1562</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="208result" title='result' data-type='PyObject *' data-ref="208result">result</dfn>;</td></tr>
<tr><th id="1563">1563</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <a class="local col6 ref" href="#206fp" title='fp' data-ref="206fp">fp</a>;</td></tr>
<tr><th id="1564">1564</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1565">1565</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1566">1566</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a> = <var>0</var>;</td></tr>
<tr><th id="1567">1567</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1568">1568</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1569">1569</th><td>    <a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='w' data-ref="(anonymous)::refs">refs</a> = <a class="ref" href="../Include/listobject.h.html#PyList_New" title='PyList_New' data-ref="PyList_New">PyList_New</a>(<var>0</var>);</td></tr>
<tr><th id="1570">1570</th><td>    <b>if</b> (<a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1571">1571</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1572">1572</th><td>    <a class="local col8 ref" href="#208result" title='result' data-ref="208result">result</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(&amp;<a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>);</td></tr>
<tr><th id="1573">1573</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(rf.refs); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1573, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>);</td></tr>
<tr><th id="1574">1574</th><td>    <b>if</b> (<a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1575">1575</th><td>        <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(rf.buf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col7 ref" href="#207rf" title='rf' data-ref="207rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>);</td></tr>
<tr><th id="1576">1576</th><td>    <b>return</b> <a class="local col8 ref" href="#208result" title='result' data-ref="208result">result</a>;</td></tr>
<tr><th id="1577">1577</th><td>}</td></tr>
<tr><th id="1578">1578</th><td></td></tr>
<tr><th id="1579">1579</th><td><a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1580">1580</th><td><dfn class="decl def" id="PyMarshal_ReadObjectFromString" title='PyMarshal_ReadObjectFromString' data-ref="PyMarshal_ReadObjectFromString">PyMarshal_ReadObjectFromString</dfn>(<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="209str" title='str' data-type='const char *' data-ref="209str">str</dfn>, <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col0 decl" id="210len" title='len' data-type='Py_ssize_t' data-ref="210len">len</dfn>)</td></tr>
<tr><th id="1581">1581</th><td>{</td></tr>
<tr><th id="1582">1582</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col1 decl" id="211rf" title='rf' data-type='RFILE' data-ref="211rf">rf</dfn>;</td></tr>
<tr><th id="1583">1583</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="212result" title='result' data-type='PyObject *' data-ref="212result">result</dfn>;</td></tr>
<tr><th id="1584">1584</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1585">1585</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1586">1586</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1587">1587</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = (<em>char</em> *)<a class="local col9 ref" href="#209str" title='str' data-ref="209str">str</a>;</td></tr>
<tr><th id="1588">1588</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = (<em>char</em> *)<a class="local col9 ref" href="#209str" title='str' data-ref="209str">str</a> + <a class="local col0 ref" href="#210len" title='len' data-ref="210len">len</a>;</td></tr>
<tr><th id="1589">1589</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1590">1590</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a> = <var>0</var>;</td></tr>
<tr><th id="1591">1591</th><td>    <a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='w' data-ref="(anonymous)::refs">refs</a> = <a class="ref" href="../Include/listobject.h.html#PyList_New" title='PyList_New' data-ref="PyList_New">PyList_New</a>(<var>0</var>);</td></tr>
<tr><th id="1592">1592</th><td>    <b>if</b> (<a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1593">1593</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1594">1594</th><td>    <a class="local col2 ref" href="#212result" title='result' data-ref="212result">result</a> = <a class="tu ref" href="#r_object" title='r_object' data-use='c' data-ref="r_object">r_object</a>(&amp;<a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>);</td></tr>
<tr><th id="1595">1595</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(rf.refs); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1595, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>);</td></tr>
<tr><th id="1596">1596</th><td>    <b>if</b> (<a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1597">1597</th><td>        <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(rf.buf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col1 ref" href="#211rf" title='rf' data-ref="211rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>);</td></tr>
<tr><th id="1598">1598</th><td>    <b>return</b> <a class="local col2 ref" href="#212result" title='result' data-ref="212result">result</a>;</td></tr>
<tr><th id="1599">1599</th><td>}</td></tr>
<tr><th id="1600">1600</th><td></td></tr>
<tr><th id="1601">1601</th><td><a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1602">1602</th><td><dfn class="decl def" id="PyMarshal_WriteObjectToString" title='PyMarshal_WriteObjectToString' data-ref="PyMarshal_WriteObjectToString">PyMarshal_WriteObjectToString</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="213x" title='x' data-type='PyObject *' data-ref="213x">x</dfn>, <em>int</em> <dfn class="local col4 decl" id="214version" title='version' data-type='int' data-ref="214version">version</dfn>)</td></tr>
<tr><th id="1603">1603</th><td>{</td></tr>
<tr><th id="1604">1604</th><td>    <a class="typedef" href="#WFILE" title='WFILE' data-type='struct WFILE' data-ref="WFILE">WFILE</a> <dfn class="local col5 decl" id="215wf" title='wf' data-type='WFILE' data-ref="215wf">wf</dfn>;</td></tr>
<tr><th id="1605">1605</th><td></td></tr>
<tr><th id="1606">1606</th><td>    <a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>, <var>0</var>, <b>sizeof</b>(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>));</td></tr>
<tr><th id="1607">1607</th><td>    <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='w' data-ref="(anonymous)::str">str</a> = <a class="ref" href="../Include/bytesobject.h.html#PyBytes_FromStringAndSize" title='PyBytes_FromStringAndSize' data-ref="PyBytes_FromStringAndSize">PyBytes_FromStringAndSize</a>((<em>char</em> *)<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, <var>50</var>);</td></tr>
<tr><th id="1608">1608</th><td>    <b>if</b> (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1609">1609</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1610">1610</th><td>    <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)((PyBytesObject *)wf.str))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check((PyBytesObject *)wf.str)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1610, __PRETTY_FUNCTION__)), (((PyBytesObject *)((PyBytesObject *)wf.str))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>((<a class="typedef" href="../Include/bytesobject.h.html#PyBytesObject" title='PyBytesObject' data-type='struct PyBytesObject' data-ref="PyBytesObject">PyBytesObject</a> *)<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1611">1611</th><td>    <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> + <a class="ref" href="../Include/bytesobject.h.html#PyBytes_Size" title='PyBytes_Size' data-ref="PyBytes_Size">PyBytes_Size</a>(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1612">1612</th><td>    <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='w' data-ref="(anonymous)::error">error</a> = <a class="macro" href="#66" title="0" data-ref="_M/WFERR_OK">WFERR_OK</a>;</td></tr>
<tr><th id="1613">1613</th><td>    <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::version" title='(anonymous struct)::version' data-use='w' data-ref="(anonymous)::version">version</a> = <a class="local col4 ref" href="#214version" title='version' data-ref="214version">version</a>;</td></tr>
<tr><th id="1614">1614</th><td>    <b>if</b> (<a class="tu ref" href="#w_init_refs" title='w_init_refs' data-use='c' data-ref="w_init_refs">w_init_refs</a>(&amp;<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>, <a class="local col4 ref" href="#214version" title='version' data-ref="214version">version</a>)) {</td></tr>
<tr><th id="1615">1615</th><td>        <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(wf.str); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1615, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1616">1616</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1617">1617</th><td>    }</td></tr>
<tr><th id="1618">1618</th><td>    <a class="tu ref" href="#w_object" title='w_object' data-use='c' data-ref="w_object">w_object</a>(<a class="local col3 ref" href="#213x" title='x' data-ref="213x">x</a>, &amp;<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>);</td></tr>
<tr><th id="1619">1619</th><td>    <a class="tu ref" href="#w_clear_refs" title='w_clear_refs' data-use='c' data-ref="w_clear_refs">w_clear_refs</a>(&amp;<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>);</td></tr>
<tr><th id="1620">1620</th><td>    <b>if</b> (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1621">1621</th><td>        <em>char</em> *<dfn class="local col6 decl" id="216base" title='base' data-type='char *' data-ref="216base">base</dfn> = <a class="macro" href="../Include/bytesobject.h.html#87" title="(((((((((PyObject*)((PyBytesObject *)wf.str))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)) ? (void) (0) : __assert_fail (&quot;PyBytes_Check((PyBytesObject *)wf.str)&quot;, &quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1621, __PRETTY_FUNCTION__)), (((PyBytesObject *)((PyBytesObject *)wf.str))-&gt;ob_sval))" data-ref="_M/PyBytes_AS_STRING">PyBytes_AS_STRING</a>((<a class="typedef" href="../Include/bytesobject.h.html#PyBytesObject" title='PyBytesObject' data-type='struct PyBytesObject' data-ref="PyBytesObject">PyBytesObject</a> *)<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1622">1622</th><td>        <b>if</b> (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> - <a class="local col6 ref" href="#216base" title='base' data-ref="216base">base</a> &gt; <a class="macro" href="../Include/pyport.h.html#109" title="((Py_ssize_t)(((size_t)-1)&gt;&gt;1))" data-ref="_M/PY_SSIZE_T_MAX">PY_SSIZE_T_MAX</a>) {</td></tr>
<tr><th id="1623">1623</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(wf.str); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1623, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1624">1624</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_OverflowError" title='PyExc_OverflowError' data-ref="PyExc_OverflowError">PyExc_OverflowError</a>,</td></tr>
<tr><th id="1625">1625</th><td>                            <q>"too much marshal data for a bytes object"</q>);</td></tr>
<tr><th id="1626">1626</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1627">1627</th><td>        }</td></tr>
<tr><th id="1628">1628</th><td>        <b>if</b> (<a class="ref" href="../Include/bytesobject.h.html#_PyBytes_Resize" title='_PyBytes_Resize' data-ref="_PyBytes_Resize">_PyBytes_Resize</a>(&amp;<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='a' data-ref="(anonymous)::str">str</a>, (<a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a>)(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='r' data-ref="(anonymous)::ptr">ptr</a> - <a class="local col6 ref" href="#216base" title='base' data-ref="216base">base</a>)) &lt; <var>0</var>)</td></tr>
<tr><th id="1629">1629</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1630">1630</th><td>    }</td></tr>
<tr><th id="1631">1631</th><td>    <b>if</b> (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='r' data-ref="(anonymous)::error">error</a> != <a class="macro" href="#66" title="0" data-ref="_M/WFERR_OK">WFERR_OK</a>) {</td></tr>
<tr><th id="1632">1632</th><td>        <a class="macro" href="../Include/object.h.html#848" title="do { PyObject *_py_xdecref_tmp = (PyObject *)(wf.str); if (_py_xdecref_tmp != ((void*)0)) do { PyObject *_py_decref_tmp = (PyObject *)(_py_xdecref_tmp); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1632, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0); } while (0)" data-ref="_M/Py_XDECREF">Py_XDECREF</a>(<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>);</td></tr>
<tr><th id="1633">1633</th><td>        <b>if</b> (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='r' data-ref="(anonymous)::error">error</a> == <a class="macro" href="#69" title="3" data-ref="_M/WFERR_NOMEMORY">WFERR_NOMEMORY</a>)</td></tr>
<tr><th id="1634">1634</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_NoMemory" title='PyErr_NoMemory' data-ref="PyErr_NoMemory">PyErr_NoMemory</a>();</td></tr>
<tr><th id="1635">1635</th><td>        <b>else</b></td></tr>
<tr><th id="1636">1636</th><td>            <a class="ref" href="../Include/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_ValueError" title='PyExc_ValueError' data-ref="PyExc_ValueError">PyExc_ValueError</a>,</td></tr>
<tr><th id="1637">1637</th><td>              (<a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::error" title='(anonymous struct)::error' data-use='r' data-ref="(anonymous)::error">error</a>==<a class="macro" href="#67" title="1" data-ref="_M/WFERR_UNMARSHALLABLE">WFERR_UNMARSHALLABLE</a>)?<q>"unmarshallable object"</q></td></tr>
<tr><th id="1638">1638</th><td>               :<q>"object too deeply nested to marshal"</q>);</td></tr>
<tr><th id="1639">1639</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1640">1640</th><td>    }</td></tr>
<tr><th id="1641">1641</th><td>    <b>return</b> <a class="local col5 ref" href="#215wf" title='wf' data-ref="215wf">wf</a>.<a class="tu ref" href="#(anonymous)::str" title='(anonymous struct)::str' data-use='r' data-ref="(anonymous)::str">str</a>;</td></tr>
<tr><th id="1642">1642</th><td>}</td></tr>
<tr><th id="1643">1643</th><td></td></tr>
<tr><th id="1644">1644</th><td><i>/* And an interface for Python programs... */</i></td></tr>
<tr><th id="1645">1645</th><td><i  data-doc="marshal_dump_impl">/*[clinic input]</i></td></tr>
<tr><th id="1646">1646</th><td><i  data-doc="marshal_dump_impl">marshal.dump</i></td></tr>
<tr><th id="1647">1647</th><td><i  data-doc="marshal_dump_impl"></i></td></tr>
<tr><th id="1648">1648</th><td><i  data-doc="marshal_dump_impl">    value: object</i></td></tr>
<tr><th id="1649">1649</th><td><i  data-doc="marshal_dump_impl">        Must be a supported type.</i></td></tr>
<tr><th id="1650">1650</th><td><i  data-doc="marshal_dump_impl">    file: object</i></td></tr>
<tr><th id="1651">1651</th><td><i  data-doc="marshal_dump_impl">        Must be a writeable binary file.</i></td></tr>
<tr><th id="1652">1652</th><td><i  data-doc="marshal_dump_impl">    version: int(c_default="Py_MARSHAL_VERSION") = version</i></td></tr>
<tr><th id="1653">1653</th><td><i  data-doc="marshal_dump_impl">        Indicates the data format that dump should use.</i></td></tr>
<tr><th id="1654">1654</th><td><i  data-doc="marshal_dump_impl">    /</i></td></tr>
<tr><th id="1655">1655</th><td><i  data-doc="marshal_dump_impl"></i></td></tr>
<tr><th id="1656">1656</th><td><i  data-doc="marshal_dump_impl">Write the value on the open file.</i></td></tr>
<tr><th id="1657">1657</th><td><i  data-doc="marshal_dump_impl"></i></td></tr>
<tr><th id="1658">1658</th><td><i  data-doc="marshal_dump_impl">If the value has (or contains an object that has) an unsupported type, a</i></td></tr>
<tr><th id="1659">1659</th><td><i  data-doc="marshal_dump_impl">ValueError exception is raised - but garbage data will also be written</i></td></tr>
<tr><th id="1660">1660</th><td><i  data-doc="marshal_dump_impl">to the file. The object will not be properly read back by load().</i></td></tr>
<tr><th id="1661">1661</th><td><i  data-doc="marshal_dump_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1662">1662</th><td></td></tr>
<tr><th id="1663">1663</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1664">1664</th><td><dfn class="tu decl def" id="marshal_dump_impl" title='marshal_dump_impl' data-type='PyObject * marshal_dump_impl(PyObject * module, PyObject * value, PyObject * file, int version)' data-ref="marshal_dump_impl">marshal_dump_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col7 decl" id="217module" title='module' data-type='PyObject *' data-ref="217module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col8 decl" id="218value" title='value' data-type='PyObject *' data-ref="218value">value</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="219file" title='file' data-type='PyObject *' data-ref="219file">file</dfn>,</td></tr>
<tr><th id="1665">1665</th><td>                  <em>int</em> <dfn class="local col0 decl" id="220version" title='version' data-type='int' data-ref="220version">version</dfn>)</td></tr>
<tr><th id="1666">1666</th><td><i>/*[clinic end generated code: output=aaee62c7028a7cb2 input=6c7a3c23c6fef556]*/</i></td></tr>
<tr><th id="1667">1667</th><td>{</td></tr>
<tr><th id="1668">1668</th><td>    <i>/* XXX Quick hack -- need to do this differently */</i></td></tr>
<tr><th id="1669">1669</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="221s" title='s' data-type='PyObject *' data-ref="221s">s</dfn>;</td></tr>
<tr><th id="1670">1670</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col2 decl" id="222res" title='res' data-type='PyObject *' data-ref="222res">res</dfn>;</td></tr>
<tr><th id="1671">1671</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId_write = { .next = ((void*)0), .string = &quot;write&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(write);</td></tr>
<tr><th id="1672">1672</th><td></td></tr>
<tr><th id="1673">1673</th><td>    <a class="local col1 ref" href="#221s" title='s' data-ref="221s">s</a> = <a class="ref" href="#PyMarshal_WriteObjectToString" title='PyMarshal_WriteObjectToString' data-ref="PyMarshal_WriteObjectToString">PyMarshal_WriteObjectToString</a>(<a class="local col8 ref" href="#218value" title='value' data-ref="218value">value</a>, <a class="local col0 ref" href="#220version" title='version' data-ref="220version">version</a>);</td></tr>
<tr><th id="1674">1674</th><td>    <b>if</b> (<a class="local col1 ref" href="#221s" title='s' data-ref="221s">s</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1675">1675</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1676">1676</th><td>    <a class="local col2 ref" href="#222res" title='res' data-ref="222res">res</a> = <a class="ref" href="../Include/abstract.h.html#_PyObject_CallMethodIdObjArgs" title='_PyObject_CallMethodIdObjArgs' data-ref="_PyObject_CallMethodIdObjArgs">_PyObject_CallMethodIdObjArgs</a>(<a class="local col9 ref" href="#219file" title='file' data-ref="219file">file</a>, &amp;<a class="local col3 ref" href="#1671" title='PyId_write' data-ref="223PyId_write">PyId_write</a>, <a class="local col1 ref" href="#221s" title='s' data-ref="221s">s</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1677">1677</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(s); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1677, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col1 ref" href="#221s" title='s' data-ref="221s">s</a>);</td></tr>
<tr><th id="1678">1678</th><td>    <b>return</b> <a class="local col2 ref" href="#222res" title='res' data-ref="222res">res</a>;</td></tr>
<tr><th id="1679">1679</th><td>}</td></tr>
<tr><th id="1680">1680</th><td></td></tr>
<tr><th id="1681">1681</th><td><i  data-doc="marshal_load">/*[clinic input]</i></td></tr>
<tr><th id="1682">1682</th><td><i  data-doc="marshal_load">marshal.load</i></td></tr>
<tr><th id="1683">1683</th><td><i  data-doc="marshal_load"></i></td></tr>
<tr><th id="1684">1684</th><td><i  data-doc="marshal_load">    file: object</i></td></tr>
<tr><th id="1685">1685</th><td><i  data-doc="marshal_load">        Must be readable binary file.</i></td></tr>
<tr><th id="1686">1686</th><td><i  data-doc="marshal_load">    /</i></td></tr>
<tr><th id="1687">1687</th><td><i  data-doc="marshal_load"></i></td></tr>
<tr><th id="1688">1688</th><td><i  data-doc="marshal_load">Read one value from the open file and return it.</i></td></tr>
<tr><th id="1689">1689</th><td><i  data-doc="marshal_load"></i></td></tr>
<tr><th id="1690">1690</th><td><i  data-doc="marshal_load">If no valid value is read (e.g. because the data has a different Python</i></td></tr>
<tr><th id="1691">1691</th><td><i  data-doc="marshal_load">version's incompatible marshal format), raise EOFError, ValueError or</i></td></tr>
<tr><th id="1692">1692</th><td><i  data-doc="marshal_load">TypeError.</i></td></tr>
<tr><th id="1693">1693</th><td><i  data-doc="marshal_load"></i></td></tr>
<tr><th id="1694">1694</th><td><i  data-doc="marshal_load">Note: If an object containing an unsupported type was marshalled with</i></td></tr>
<tr><th id="1695">1695</th><td><i  data-doc="marshal_load">dump(), load() will substitute None for the unmarshallable type.</i></td></tr>
<tr><th id="1696">1696</th><td><i  data-doc="marshal_load">[clinic start generated code]*/</i></td></tr>
<tr><th id="1697">1697</th><td></td></tr>
<tr><th id="1698">1698</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1699">1699</th><td><dfn class="tu decl def" id="marshal_load" title='marshal_load' data-type='PyObject * marshal_load(PyObject * module, PyObject * file)' data-ref="marshal_load">marshal_load</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col4 decl" id="224module" title='module' data-type='PyObject *' data-ref="224module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="225file" title='file' data-type='PyObject *' data-ref="225file">file</dfn>)</td></tr>
<tr><th id="1700">1700</th><td><i>/*[clinic end generated code: output=f8e5c33233566344 input=c85c2b594cd8124a]*/</i></td></tr>
<tr><th id="1701">1701</th><td>{</td></tr>
<tr><th id="1702">1702</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="226data" title='data' data-type='PyObject *' data-ref="226data">data</dfn>, *<dfn class="local col7 decl" id="227result" title='result' data-type='PyObject *' data-ref="227result">result</dfn>;</td></tr>
<tr><th id="1703">1703</th><td>    <a class="macro" href="../Include/object.h.html#150" title="static _Py_Identifier PyId_read = { .next = ((void*)0), .string = &quot;read&quot;, .object = ((void*)0) }" data-ref="_M/_Py_IDENTIFIER">_Py_IDENTIFIER</a>(read);</td></tr>
<tr><th id="1704">1704</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col8 decl" id="228rf" title='rf' data-type='RFILE' data-ref="228rf">rf</dfn>;</td></tr>
<tr><th id="1705">1705</th><td></td></tr>
<tr><th id="1706">1706</th><td>    <i>/*</i></td></tr>
<tr><th id="1707">1707</th><td><i>     * Make a call to the read method, but read zero bytes.</i></td></tr>
<tr><th id="1708">1708</th><td><i>     * This is to ensure that the object passed in at least</i></td></tr>
<tr><th id="1709">1709</th><td><i>     * has a read method which returns bytes.</i></td></tr>
<tr><th id="1710">1710</th><td><i>     * This can be removed if we guarantee good error handling</i></td></tr>
<tr><th id="1711">1711</th><td><i>     * for r_string()</i></td></tr>
<tr><th id="1712">1712</th><td><i>     */</i></td></tr>
<tr><th id="1713">1713</th><td>    <a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a> = <a class="macro" href="../Include/abstract.h.html#142" title="_PyObject_CallMethodId_SizeT" data-ref="_M/_PyObject_CallMethodId">_PyObject_CallMethodId</a>(<a class="local col5 ref" href="#225file" title='file' data-ref="225file">file</a>, &amp;<a class="local col9 ref" href="#1703" title='PyId_read' data-ref="229PyId_read">PyId_read</a>, <q>"i"</q>, <var>0</var>);</td></tr>
<tr><th id="1714">1714</th><td>    <b>if</b> (<a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1715">1715</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1716">1716</th><td>    <b>if</b> (!<a class="macro" href="../Include/bytesobject.h.html#47" title="((((((PyObject*)(data))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 27))) != 0)" data-ref="_M/PyBytes_Check">PyBytes_Check</a>(<a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a>)) {</td></tr>
<tr><th id="1717">1717</th><td>        <a class="ref" href="../Include/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../Include/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError">PyExc_TypeError</a>,</td></tr>
<tr><th id="1718">1718</th><td>                     <q>"file.read() returned not bytes but %.100s"</q>,</td></tr>
<tr><th id="1719">1719</th><td>                     <a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a>-&gt;<a class="ref" href="../Include/object.h.html#_object::ob_type" title='_object::ob_type' data-ref="_object::ob_type">ob_type</a>-&gt;<a class="ref" href="../Include/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name">tp_name</a>);</td></tr>
<tr><th id="1720">1720</th><td>        <a class="local col7 ref" href="#227result" title='result' data-ref="227result">result</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1721">1721</th><td>    }</td></tr>
<tr><th id="1722">1722</th><td>    <b>else</b> {</td></tr>
<tr><th id="1723">1723</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a> = <var>0</var>;</td></tr>
<tr><th id="1724">1724</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1725">1725</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <a class="local col5 ref" href="#225file" title='file' data-ref="225file">file</a>;</td></tr>
<tr><th id="1726">1726</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1727">1727</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1728">1728</th><td>        <a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='w' data-ref="(anonymous)::buf">buf</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1729">1729</th><td>        <b>if</b> ((<a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='w' data-ref="(anonymous)::refs">refs</a> = <a class="ref" href="../Include/listobject.h.html#PyList_New" title='PyList_New' data-ref="PyList_New">PyList_New</a>(<var>0</var>)) != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="1730">1730</th><td>            <a class="local col7 ref" href="#227result" title='result' data-ref="227result">result</a> = <a class="tu ref" href="#read_object" title='read_object' data-use='c' data-ref="read_object">read_object</a>(&amp;<a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>);</td></tr>
<tr><th id="1731">1731</th><td>            <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(rf.refs); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1731, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>);</td></tr>
<tr><th id="1732">1732</th><td>            <b>if</b> (<a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1733">1733</th><td>                <a class="macro" href="../Include/pymem.h.html#122" title="PyMem_Free(rf.buf)" data-ref="_M/PyMem_FREE">PyMem_FREE</a>(<a class="local col8 ref" href="#228rf" title='rf' data-ref="228rf">rf</a>.<a class="tu ref" href="#(anonymous)::buf" title='(anonymous struct)::buf' data-use='r' data-ref="(anonymous)::buf">buf</a>);</td></tr>
<tr><th id="1734">1734</th><td>        } <b>else</b></td></tr>
<tr><th id="1735">1735</th><td>            <a class="local col7 ref" href="#227result" title='result' data-ref="227result">result</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1736">1736</th><td>    }</td></tr>
<tr><th id="1737">1737</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(data); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1737, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col6 ref" href="#226data" title='data' data-ref="226data">data</a>);</td></tr>
<tr><th id="1738">1738</th><td>    <b>return</b> <a class="local col7 ref" href="#227result" title='result' data-ref="227result">result</a>;</td></tr>
<tr><th id="1739">1739</th><td>}</td></tr>
<tr><th id="1740">1740</th><td></td></tr>
<tr><th id="1741">1741</th><td><i  data-doc="marshal_dumps_impl">/*[clinic input]</i></td></tr>
<tr><th id="1742">1742</th><td><i  data-doc="marshal_dumps_impl">marshal.dumps</i></td></tr>
<tr><th id="1743">1743</th><td><i  data-doc="marshal_dumps_impl"></i></td></tr>
<tr><th id="1744">1744</th><td><i  data-doc="marshal_dumps_impl">    value: object</i></td></tr>
<tr><th id="1745">1745</th><td><i  data-doc="marshal_dumps_impl">        Must be a supported type.</i></td></tr>
<tr><th id="1746">1746</th><td><i  data-doc="marshal_dumps_impl">    version: int(c_default="Py_MARSHAL_VERSION") = version</i></td></tr>
<tr><th id="1747">1747</th><td><i  data-doc="marshal_dumps_impl">        Indicates the data format that dumps should use.</i></td></tr>
<tr><th id="1748">1748</th><td><i  data-doc="marshal_dumps_impl">    /</i></td></tr>
<tr><th id="1749">1749</th><td><i  data-doc="marshal_dumps_impl"></i></td></tr>
<tr><th id="1750">1750</th><td><i  data-doc="marshal_dumps_impl">Return the bytes object that would be written to a file by dump(value, file).</i></td></tr>
<tr><th id="1751">1751</th><td><i  data-doc="marshal_dumps_impl"></i></td></tr>
<tr><th id="1752">1752</th><td><i  data-doc="marshal_dumps_impl">Raise a ValueError exception if value has (or contains an object that has) an</i></td></tr>
<tr><th id="1753">1753</th><td><i  data-doc="marshal_dumps_impl">unsupported type.</i></td></tr>
<tr><th id="1754">1754</th><td><i  data-doc="marshal_dumps_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1755">1755</th><td></td></tr>
<tr><th id="1756">1756</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1757">1757</th><td><dfn class="tu decl def" id="marshal_dumps_impl" title='marshal_dumps_impl' data-type='PyObject * marshal_dumps_impl(PyObject * module, PyObject * value, int version)' data-ref="marshal_dumps_impl">marshal_dumps_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col0 decl" id="230module" title='module' data-type='PyObject *' data-ref="230module">module</dfn>, <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col1 decl" id="231value" title='value' data-type='PyObject *' data-ref="231value">value</dfn>, <em>int</em> <dfn class="local col2 decl" id="232version" title='version' data-type='int' data-ref="232version">version</dfn>)</td></tr>
<tr><th id="1758">1758</th><td><i>/*[clinic end generated code: output=9c200f98d7256cad input=a2139ea8608e9b27]*/</i></td></tr>
<tr><th id="1759">1759</th><td>{</td></tr>
<tr><th id="1760">1760</th><td>    <b>return</b> <a class="ref" href="#PyMarshal_WriteObjectToString" title='PyMarshal_WriteObjectToString' data-ref="PyMarshal_WriteObjectToString">PyMarshal_WriteObjectToString</a>(<a class="local col1 ref" href="#231value" title='value' data-ref="231value">value</a>, <a class="local col2 ref" href="#232version" title='version' data-ref="232version">version</a>);</td></tr>
<tr><th id="1761">1761</th><td>}</td></tr>
<tr><th id="1762">1762</th><td></td></tr>
<tr><th id="1763">1763</th><td><i  data-doc="marshal_loads_impl">/*[clinic input]</i></td></tr>
<tr><th id="1764">1764</th><td><i  data-doc="marshal_loads_impl">marshal.loads</i></td></tr>
<tr><th id="1765">1765</th><td><i  data-doc="marshal_loads_impl"></i></td></tr>
<tr><th id="1766">1766</th><td><i  data-doc="marshal_loads_impl">    bytes: Py_buffer</i></td></tr>
<tr><th id="1767">1767</th><td><i  data-doc="marshal_loads_impl">    /</i></td></tr>
<tr><th id="1768">1768</th><td><i  data-doc="marshal_loads_impl"></i></td></tr>
<tr><th id="1769">1769</th><td><i  data-doc="marshal_loads_impl">Convert the bytes-like object to a value.</i></td></tr>
<tr><th id="1770">1770</th><td><i  data-doc="marshal_loads_impl"></i></td></tr>
<tr><th id="1771">1771</th><td><i  data-doc="marshal_loads_impl">If no valid value is found, raise EOFError, ValueError or TypeError.  Extra</i></td></tr>
<tr><th id="1772">1772</th><td><i  data-doc="marshal_loads_impl">bytes in the input are ignored.</i></td></tr>
<tr><th id="1773">1773</th><td><i  data-doc="marshal_loads_impl">[clinic start generated code]*/</i></td></tr>
<tr><th id="1774">1774</th><td></td></tr>
<tr><th id="1775">1775</th><td><em>static</em> <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *</td></tr>
<tr><th id="1776">1776</th><td><dfn class="tu decl def" id="marshal_loads_impl" title='marshal_loads_impl' data-type='PyObject * marshal_loads_impl(PyObject * module, Py_buffer * bytes)' data-ref="marshal_loads_impl">marshal_loads_impl</dfn>(<a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col3 decl" id="233module" title='module' data-type='PyObject *' data-ref="233module">module</dfn>, <a class="typedef" href="../Include/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer">Py_buffer</a> *<dfn class="local col4 decl" id="234bytes" title='bytes' data-type='Py_buffer *' data-ref="234bytes">bytes</dfn>)</td></tr>
<tr><th id="1777">1777</th><td><i>/*[clinic end generated code: output=9fc65985c93d1bb1 input=6f426518459c8495]*/</i></td></tr>
<tr><th id="1778">1778</th><td>{</td></tr>
<tr><th id="1779">1779</th><td>    <a class="typedef" href="#RFILE" title='RFILE' data-type='struct RFILE' data-ref="RFILE">RFILE</a> <dfn class="local col5 decl" id="235rf" title='rf' data-type='RFILE' data-ref="235rf">rf</dfn>;</td></tr>
<tr><th id="1780">1780</th><td>    <em>char</em> *<dfn class="local col6 decl" id="236s" title='s' data-type='char *' data-ref="236s">s</dfn> = <a class="local col4 ref" href="#234bytes" title='bytes' data-ref="234bytes">bytes</a>-&gt;<a class="ref" href="../Include/object.h.html#bufferinfo::buf" title='bufferinfo::buf' data-ref="bufferinfo::buf">buf</a>;</td></tr>
<tr><th id="1781">1781</th><td>    <a class="typedef" href="../Include/pyport.h.html#Py_ssize_t" title='Py_ssize_t' data-type='ssize_t' data-ref="Py_ssize_t">Py_ssize_t</a> <dfn class="local col7 decl" id="237n" title='n' data-type='Py_ssize_t' data-ref="237n">n</dfn> = <a class="local col4 ref" href="#234bytes" title='bytes' data-ref="234bytes">bytes</a>-&gt;<a class="ref" href="../Include/object.h.html#bufferinfo::len" title='bufferinfo::len' data-ref="bufferinfo::len">len</a>;</td></tr>
<tr><th id="1782">1782</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a>* <dfn class="local col8 decl" id="238result" title='result' data-type='PyObject *' data-ref="238result">result</dfn>;</td></tr>
<tr><th id="1783">1783</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::fp" title='(anonymous struct)::fp' data-use='w' data-ref="(anonymous)::fp">fp</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1784">1784</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::readable" title='(anonymous struct)::readable' data-use='w' data-ref="(anonymous)::readable">readable</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1785">1785</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::current_filename" title='(anonymous struct)::current_filename' data-use='w' data-ref="(anonymous)::current_filename">current_filename</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1786">1786</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::ptr" title='(anonymous struct)::ptr' data-use='w' data-ref="(anonymous)::ptr">ptr</a> = <a class="local col6 ref" href="#236s" title='s' data-ref="236s">s</a>;</td></tr>
<tr><th id="1787">1787</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::end" title='(anonymous struct)::end' data-use='w' data-ref="(anonymous)::end">end</a> = <a class="local col6 ref" href="#236s" title='s' data-ref="236s">s</a> + <a class="local col7 ref" href="#237n" title='n' data-ref="237n">n</a>;</td></tr>
<tr><th id="1788">1788</th><td>    <a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::depth" title='(anonymous struct)::depth' data-use='w' data-ref="(anonymous)::depth">depth</a> = <var>0</var>;</td></tr>
<tr><th id="1789">1789</th><td>    <b>if</b> ((<a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='w' data-ref="(anonymous)::refs">refs</a> = <a class="ref" href="../Include/listobject.h.html#PyList_New" title='PyList_New' data-ref="PyList_New">PyList_New</a>(<var>0</var>)) == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1790">1790</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1791">1791</th><td>    <a class="local col8 ref" href="#238result" title='result' data-ref="238result">result</a> = <a class="tu ref" href="#read_object" title='read_object' data-use='c' data-ref="read_object">read_object</a>(&amp;<a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>);</td></tr>
<tr><th id="1792">1792</th><td>    <a class="macro" href="../Include/object.h.html#787" title="do { PyObject *_py_decref_tmp = (PyObject *)(rf.refs); if (_Py_RefTotal-- , --(_py_decref_tmp)-&gt;ob_refcnt != 0) { if (((PyObject*)_py_decref_tmp)-&gt;ob_refcnt &lt; 0) _Py_NegativeRefcount(&quot;/home/jon/workspace/cpython/Python/marshal.c&quot;, 1792, (PyObject *)(_py_decref_tmp)); } else _Py_Dealloc(_py_decref_tmp); } while (0)" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col5 ref" href="#235rf" title='rf' data-ref="235rf">rf</a>.<a class="tu ref" href="#(anonymous)::refs" title='(anonymous struct)::refs' data-use='r' data-ref="(anonymous)::refs">refs</a>);</td></tr>
<tr><th id="1793">1793</th><td>    <b>return</b> <a class="local col8 ref" href="#238result" title='result' data-ref="238result">result</a>;</td></tr>
<tr><th id="1794">1794</th><td>}</td></tr>
<tr><th id="1795">1795</th><td></td></tr>
<tr><th id="1796">1796</th><td><em>static</em> <a class="typedef" href="../Include/methodobject.h.html#PyMethodDef" title='PyMethodDef' data-type='struct PyMethodDef' data-ref="PyMethodDef">PyMethodDef</a> <dfn class="tu decl def" id="marshal_methods" title='marshal_methods' data-type='PyMethodDef [5]' data-ref="marshal_methods">marshal_methods</dfn>[] = {</td></tr>
<tr><th id="1797">1797</th><td>    <a class="macro" href="clinic/marshal.c.h.html#22" title="{&quot;dump&quot;, (PyCFunction)marshal_dump, 0x0080, marshal_dump__doc__}," data-ref="_M/MARSHAL_DUMP_METHODDEF">MARSHAL_DUMP_METHODDEF</a></td></tr>
<tr><th id="1798">1798</th><td>    <a class="macro" href="clinic/marshal.c.h.html#63" title="{&quot;load&quot;, (PyCFunction)marshal_load, 0x0008, marshal_load__doc__}," data-ref="_M/MARSHAL_LOAD_METHODDEF">MARSHAL_LOAD_METHODDEF</a></td></tr>
<tr><th id="1799">1799</th><td>    <a class="macro" href="clinic/marshal.c.h.html#80" title="{&quot;dumps&quot;, (PyCFunction)marshal_dumps, 0x0080, marshal_dumps__doc__}," data-ref="_M/MARSHAL_DUMPS_METHODDEF">MARSHAL_DUMPS_METHODDEF</a></td></tr>
<tr><th id="1800">1800</th><td>    <a class="macro" href="clinic/marshal.c.h.html#112" title="{&quot;loads&quot;, (PyCFunction)marshal_loads, 0x0008, marshal_loads__doc__}," data-ref="_M/MARSHAL_LOADS_METHODDEF">MARSHAL_LOADS_METHODDEF</a></td></tr>
<tr><th id="1801">1801</th><td>    {<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,              <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>}           <i>/* sentinel */</i></td></tr>
<tr><th id="1802">1802</th><td>};</td></tr>
<tr><th id="1803">1803</th><td></td></tr>
<tr><th id="1804">1804</th><td></td></tr>
<tr><th id="1805">1805</th><td><a class="macro" href="../Include/pymacro.h.html#71" title="static char module_doc[] = &quot;This module contains functions that can read and write Python values in\na binary format. The format is specific to Python, but independent of\nmachine architecture issues.\n\nNot all Python object types are supported; in general, only objects\nwhose value is independent from a particular invocation of Python can be\nwritten and read by this module. The following types are supported:\nNone, integers, floating point numbers, strings, bytes, bytearrays,\ntuples, lists, sets, dictionaries, and code objects, where it\nshould be understood that tuples, lists and dictionaries are only\nsupported as long as the values contained therein are themselves\nsupported; and recursive lists and dictionaries should not be written\n(they will cause infinite loops).\n\nVariables:\n\nversion -- indicates the format that the module uses. Version 0 is the\n    historical format, version 1 shares interned strings and version 2\n    uses a binary format for floating point numbers.\n    Version 3 shares common object references (New in version 3.4).\n\nFunctions:\n\ndump() -- write value to a file\nload() -- read value from a file\ndumps() -- marshal value as a bytes object\nloads() -- read value from a bytes-like object&quot;" data-ref="_M/PyDoc_STRVAR">PyDoc_STRVAR</a>(<dfn class="decl def" id="module_doc" title='module_doc' data-ref="module_doc">module_doc</dfn>,</td></tr>
<tr><th id="1806">1806</th><td><q>"This module contains functions that can read and write Python values in\n\</q></td></tr>
<tr><th id="1807">1807</th><td><q>a binary format. The format is specific to Python, but independent of\n\</q></td></tr>
<tr><th id="1808">1808</th><td><q>machine architecture issues.\n\</q></td></tr>
<tr><th id="1809">1809</th><td><q>\n\</q></td></tr>
<tr><th id="1810">1810</th><td><q>Not all Python object types are supported; in general, only objects\n\</q></td></tr>
<tr><th id="1811">1811</th><td><q>whose value is independent from a particular invocation of Python can be\n\</q></td></tr>
<tr><th id="1812">1812</th><td><q>written and read by this module. The following types are supported:\n\</q></td></tr>
<tr><th id="1813">1813</th><td><q>None, integers, floating point numbers, strings, bytes, bytearrays,\n\</q></td></tr>
<tr><th id="1814">1814</th><td><q>tuples, lists, sets, dictionaries, and code objects, where it\n\</q></td></tr>
<tr><th id="1815">1815</th><td><q>should be understood that tuples, lists and dictionaries are only\n\</q></td></tr>
<tr><th id="1816">1816</th><td><q>supported as long as the values contained therein are themselves\n\</q></td></tr>
<tr><th id="1817">1817</th><td><q>supported; and recursive lists and dictionaries should not be written\n\</q></td></tr>
<tr><th id="1818">1818</th><td><q>(they will cause infinite loops).\n\</q></td></tr>
<tr><th id="1819">1819</th><td><q>\n\</q></td></tr>
<tr><th id="1820">1820</th><td><q>Variables:\n\</q></td></tr>
<tr><th id="1821">1821</th><td><q>\n\</q></td></tr>
<tr><th id="1822">1822</th><td><q>version -- indicates the format that the module uses. Version 0 is the\n\</q></td></tr>
<tr><th id="1823">1823</th><td><q>    historical format, version 1 shares interned strings and version 2\n\</q></td></tr>
<tr><th id="1824">1824</th><td><q>    uses a binary format for floating point numbers.\n\</q></td></tr>
<tr><th id="1825">1825</th><td><q>    Version 3 shares common object references (New in version 3.4).\n\</q></td></tr>
<tr><th id="1826">1826</th><td><q>\n\</q></td></tr>
<tr><th id="1827">1827</th><td><q>Functions:\n\</q></td></tr>
<tr><th id="1828">1828</th><td><q>\n\</q></td></tr>
<tr><th id="1829">1829</th><td><q>dump() -- write value to a file\n\</q></td></tr>
<tr><th id="1830">1830</th><td><q>load() -- read value from a file\n\</q></td></tr>
<tr><th id="1831">1831</th><td><q>dumps() -- marshal value as a bytes object\n\</q></td></tr>
<tr><th id="1832">1832</th><td><q>loads() -- read value from a bytes-like object"</q>);</td></tr>
<tr><th id="1833">1833</th><td></td></tr>
<tr><th id="1834">1834</th><td></td></tr>
<tr><th id="1835">1835</th><td></td></tr>
<tr><th id="1836">1836</th><td><em>static</em> <b>struct</b> <a class="type" href="../Include/moduleobject.h.html#PyModuleDef" title='PyModuleDef' data-ref="PyModuleDef">PyModuleDef</a> <dfn class="tu decl def" id="marshalmodule" title='marshalmodule' data-type='struct PyModuleDef' data-ref="marshalmodule">marshalmodule</dfn> = {</td></tr>
<tr><th id="1837">1837</th><td>    <a class="macro" href="../Include/moduleobject.h.html#50" title="{ { 0, 0, 1, ((void*)0) }, ((void*)0), 0, ((void*)0), }" data-ref="_M/PyModuleDef_HEAD_INIT">PyModuleDef_HEAD_INIT</a>,</td></tr>
<tr><th id="1838">1838</th><td>    <q>"marshal"</q>,</td></tr>
<tr><th id="1839">1839</th><td>    <a class="ref" href="#1805" title='module_doc' data-ref="module_doc">module_doc</a>,</td></tr>
<tr><th id="1840">1840</th><td>    <var>0</var>,</td></tr>
<tr><th id="1841">1841</th><td>    <a class="tu ref" href="#marshal_methods" title='marshal_methods' data-ref="marshal_methods">marshal_methods</a>,</td></tr>
<tr><th id="1842">1842</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1843">1843</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1844">1844</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="1845">1845</th><td>    <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="1846">1846</th><td>};</td></tr>
<tr><th id="1847">1847</th><td></td></tr>
<tr><th id="1848">1848</th><td><a class="macro" href="../Include/pyport.h.html#685" title="PyObject*" data-ref="_M/PyMODINIT_FUNC">PyMODINIT_FUNC</a></td></tr>
<tr><th id="1849">1849</th><td><dfn class="decl def" id="PyMarshal_Init" title='PyMarshal_Init' data-ref="PyMarshal_Init">PyMarshal_Init</dfn>(<em>void</em>)</td></tr>
<tr><th id="1850">1850</th><td>{</td></tr>
<tr><th id="1851">1851</th><td>    <a class="typedef" href="../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col9 decl" id="239mod" title='mod' data-type='PyObject *' data-ref="239mod">mod</dfn> = <a class="macro" href="../Include/modsupport.h.html#199" title="PyModule_Create2TraceRefs(&amp;marshalmodule, 1013)" data-ref="_M/PyModule_Create">PyModule_Create</a>(&amp;<a class="tu ref" href="#marshalmodule" title='marshalmodule' data-use='a' data-ref="marshalmodule">marshalmodule</a>);</td></tr>
<tr><th id="1852">1852</th><td>    <b>if</b> (<a class="local col9 ref" href="#239mod" title='mod' data-ref="239mod">mod</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="1853">1853</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1854">1854</th><td>    <a class="ref" href="../Include/modsupport.h.html#PyModule_AddIntConstant" title='PyModule_AddIntConstant' data-ref="PyModule_AddIntConstant">PyModule_AddIntConstant</a>(<a class="local col9 ref" href="#239mod" title='mod' data-ref="239mod">mod</a>, <q>"version"</q>, <a class="macro" href="../Include/marshal.h.html#10" title="4" data-ref="_M/Py_MARSHAL_VERSION">Py_MARSHAL_VERSION</a>);</td></tr>
<tr><th id="1855">1855</th><td>    <b>return</b> <a class="local col9 ref" href="#239mod" title='mod' data-ref="239mod">mod</a>;</td></tr>
<tr><th id="1856">1856</th><td>}</td></tr>
<tr><th id="1857">1857</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v3.6.0b2-99580-g07f1658</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

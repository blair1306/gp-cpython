<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>eq.h source code [codebrowser/Objects/stringlib/eq.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/Objects/stringlib/eq.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>Objects</a>/<a href='./'>stringlib</a>/<a href='eq.h.html'>eq.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Fast unicode equal function optimized for dictobject.c and setobject.c */</i></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><i>/* Return 1 if two unicode objects are equal, 0 if not.</i></td></tr>
<tr><th id="4">4</th><td><i> * unicode_eq() is called when the hash of two unicode objects is equal.</i></td></tr>
<tr><th id="5">5</th><td><i> */</i></td></tr>
<tr><th id="6">6</th><td><a class="macro" href="../../Include/pyport.h.html#178" title="static inline int" data-ref="_M/Py_LOCAL_INLINE">Py_LOCAL_INLINE</a>(<em>int</em>)</td></tr>
<tr><th id="7">7</th><td><dfn class="decl def" id="unicode_eq" title='unicode_eq' data-ref="unicode_eq">unicode_eq</dfn>(<a class="typedef" href="../../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col5 decl" id="5aa" title='aa' data-type='PyObject *' data-ref="5aa">aa</dfn>, <a class="typedef" href="../../Include/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject">PyObject</a> *<dfn class="local col6 decl" id="6bb" title='bb' data-type='PyObject *' data-ref="6bb">bb</dfn>)</td></tr>
<tr><th id="8">8</th><td>{</td></tr>
<tr><th id="9">9</th><td>    <a class="typedef" href="../../Include/unicodeobject.h.html#PyUnicodeObject" title='PyUnicodeObject' data-type='struct PyUnicodeObject' data-ref="PyUnicodeObject">PyUnicodeObject</a> *<dfn class="local col7 decl" id="7a" title='a' data-type='PyUnicodeObject *' data-ref="7a">a</dfn> = (<a class="typedef" href="../../Include/unicodeobject.h.html#PyUnicodeObject" title='PyUnicodeObject' data-type='struct PyUnicodeObject' data-ref="PyUnicodeObject">PyUnicodeObject</a> *)<a class="local col5 ref" href="#5aa" title='aa' data-ref="5aa">aa</a>;</td></tr>
<tr><th id="10">10</th><td>    <a class="typedef" href="../../Include/unicodeobject.h.html#PyUnicodeObject" title='PyUnicodeObject' data-type='struct PyUnicodeObject' data-ref="PyUnicodeObject">PyUnicodeObject</a> *<dfn class="local col8 decl" id="8b" title='b' data-type='PyUnicodeObject *' data-ref="8b">b</dfn> = (<a class="typedef" href="../../Include/unicodeobject.h.html#PyUnicodeObject" title='PyUnicodeObject' data-type='struct PyUnicodeObject' data-ref="PyUnicodeObject">PyUnicodeObject</a> *)<a class="local col6 ref" href="#6bb" title='bb' data-ref="6bb">bb</a>;</td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td>    <b>if</b> (<a class="macro" href="../../Include/unicodeobject.h.html#553" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 12, __PRETTY_FUNCTION__)), ((((PyASCIIObject*)a)-&gt;state.ready) ? 0 : _PyUnicode_Ready((PyObject *)(a))))" data-ref="_M/PyUnicode_READY">PyUnicode_READY</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>) == -<var>1</var> || <a class="macro" href="../../Include/unicodeobject.h.html#553" title="(((((((((PyObject*)(b))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 12, __PRETTY_FUNCTION__)), ((((PyASCIIObject*)b)-&gt;state.ready) ? 0 : _PyUnicode_Ready((PyObject *)(b))))" data-ref="_M/PyUnicode_READY">PyUnicode_READY</a>(<a class="local col8 ref" href="#8b" title='b' data-ref="8b">b</a>) == -<var>1</var>) {</td></tr>
<tr><th id="13">13</th><td>        <a class="macro" href="../../../include/assert.h.html#88" title="((0 &amp;&amp; &quot;unicode_eq ready fail&quot;) ? (void) (0) : __assert_fail (&quot;0 &amp;&amp; \&quot;unicode_eq ready fail\&quot;&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 13, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<var>0</var> &amp;&amp; <q>"unicode_eq ready fail"</q>);</td></tr>
<tr><th id="14">14</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="15">15</th><td>    }</td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td>    <b>if</b> (<a class="macro" href="../../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 17, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 17, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(a))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>) != <a class="macro" href="../../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(b))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 17, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)b)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 17, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(b))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col8 ref" href="#8b" title='b' data-ref="8b">b</a>))</td></tr>
<tr><th id="18">18</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="19">19</th><td>    <b>if</b> (<a class="macro" href="../../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 19, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 19, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(a))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>) == <var>0</var>)</td></tr>
<tr><th id="20">20</th><td>        <b>return</b> <var>1</var>;</td></tr>
<tr><th id="21">21</th><td>    <b>if</b> (<a class="macro" href="../../Include/unicodeobject.h.html#460" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 21, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 21, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(a))-&gt;state.kind)" data-ref="_M/PyUnicode_KIND">PyUnicode_KIND</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>) != <a class="macro" href="../../Include/unicodeobject.h.html#460" title="(((((((((PyObject*)(b))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 21, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)b)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 21, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(b))-&gt;state.kind)" data-ref="_M/PyUnicode_KIND">PyUnicode_KIND</a>(<a class="local col8 ref" href="#8b" title='b' data-ref="8b">b</a>))</td></tr>
<tr><th id="22">22</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="23">23</th><td>    <b>return</b> <a class="ref" href="../../../include/string.h.html#memcmp" title='memcmp' data-ref="memcmp">memcmp</a>(<a class="macro" href="../../Include/unicodeobject.h.html#455" title="((Py_UCS1*)(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), (((PyASCIIObject*)(a))-&gt;state.compact) ? ((((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), ((PyASCIIObject*)a)-&gt;state.ascii) ? ((void*)((PyASCIIObject*)(a) + 1)) : ((void*)((PyCompactUnicodeObject*)(a) + 1))) : (((((PyUnicodeObject*)(a))-&gt;data.any) ? (void) (0) : __assert_fail (&quot;((PyUnicodeObject*)(a))-&gt;data.any&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), ((((PyUnicodeObject *)(a))-&gt;data.any)))))" data-ref="_M/PyUnicode_1BYTE_DATA">PyUnicode_1BYTE_DATA</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>), <a class="macro" href="../../Include/unicodeobject.h.html#455" title="((Py_UCS1*)(((((((((PyObject*)(b))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), (((PyASCIIObject*)(b))-&gt;state.compact) ? ((((((((((PyObject*)(b))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)b)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(b)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), ((PyASCIIObject*)b)-&gt;state.ascii) ? ((void*)((PyASCIIObject*)(b) + 1)) : ((void*)((PyCompactUnicodeObject*)(b) + 1))) : (((((PyUnicodeObject*)(b))-&gt;data.any) ? (void) (0) : __assert_fail (&quot;((PyUnicodeObject*)(b))-&gt;data.any&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 23, __PRETTY_FUNCTION__)), ((((PyUnicodeObject *)(b))-&gt;data.any)))))" data-ref="_M/PyUnicode_1BYTE_DATA">PyUnicode_1BYTE_DATA</a>(<a class="local col8 ref" href="#8b" title='b' data-ref="8b">b</a>),</td></tr>
<tr><th id="24">24</th><td>                  <a class="macro" href="../../Include/unicodeobject.h.html#538" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 24, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 24, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(a))-&gt;length)" data-ref="_M/PyUnicode_GET_LENGTH">PyUnicode_GET_LENGTH</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>) * <a class="macro" href="../../Include/unicodeobject.h.html#460" title="(((((((((PyObject*)(a))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 28))) != 0)) ? (void) (0) : __assert_fail (&quot;PyUnicode_Check(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 24, __PRETTY_FUNCTION__)), (((((PyASCIIObject*)a)-&gt;state.ready)) ? (void) (0) : __assert_fail (&quot;PyUnicode_IS_READY(a)&quot;, &quot;/home/jon/workspace/cpython/Objects/stringlib/eq.h&quot;, 24, __PRETTY_FUNCTION__)), ((PyASCIIObject *)(a))-&gt;state.kind)" data-ref="_M/PyUnicode_KIND">PyUnicode_KIND</a>(<a class="local col7 ref" href="#7a" title='a' data-ref="7a">a</a>)) == <var>0</var>;</td></tr>
<tr><th id="25">25</th><td>}</td></tr>
<tr><th id="26">26</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../dictobject.c.html'>codebrowser/Objects/dictobject.c</a><br/>Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v3.6.0b2-99580-g07f1658</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
